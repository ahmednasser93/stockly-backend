{"numTotalTestSuites":275,"numPassedTestSuites":275,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":705,"numPassedTests":703,"numFailedTests":0,"numPendingTests":2,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1766232585508,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["evaluateAlerts"],"fullName":"evaluateAlerts notifies only when direction condition transitions from false to true","status":"passed","title":"notifies only when direction condition transitions from false to true","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["evaluateAlerts"],"fullName":"evaluateAlerts resets state when price falls back below threshold","status":"passed","title":"resets state when price falls back below threshold","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["evaluateAlerts"],"fullName":"evaluateAlerts skips alerts that lack a price","status":"passed","title":"skips alerts that lack a price","duration":84,"failureMessages":[],"meta":{}},{"ancestorTitles":["evaluateAlerts"],"fullName":"evaluateAlerts notifies on significant price change after initial trigger (2% change)","status":"passed","title":"notifies on significant price change after initial trigger (2% change)","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["evaluateAlerts"],"fullName":"evaluateAlerts suppresses notifications during cooldown period","status":"passed","title":"suppresses notifications during cooldown period","duration":60,"failureMessages":[],"meta":{}},{"ancestorTitles":["evaluateAlerts"],"fullName":"evaluateAlerts handles 'below' direction correctly","status":"passed","title":"handles 'below' direction correctly","duration":32,"failureMessages":[],"meta":{}}],"startTime":1766232595873,"endTime":1766232596162,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/alerts-evaluate.spec.ts"},{"assertionResults":[{"ancestorTitles":["alerts handler"],"fullName":"alerts handler lists alerts","status":"passed","title":"lists alerts","duration":69,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts handler"],"fullName":"alerts handler creates an alert when payload is valid","status":"passed","title":"creates an alert when payload is valid","duration":95,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts handler"],"fullName":"alerts handler returns 404 when an alert is missing","status":"passed","title":"returns 404 when an alert is missing","duration":92,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts handler"],"fullName":"alerts handler updates alerts via PUT","status":"passed","title":"updates alerts via PUT","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts handler"],"fullName":"alerts handler deletes alerts and clears KV state","status":"passed","title":"deletes alerts and clears KV state","duration":64,"failureMessages":[],"meta":{}}],"startTime":1766232597211,"endTime":1766232597570,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/alerts-handler.spec.ts"},{"assertionResults":[{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries lists alerts","status":"passed","title":"lists alerts","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries creates and returns an alert","status":"passed","title":"creates and returns an alert","duration":85,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries throws validation error for invalid data","status":"passed","title":"throws validation error for invalid data","duration":48,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries throws missing data error","status":"passed","title":"throws missing data error","duration":81,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries throws if alert creation cannot be verified","status":"passed","title":"throws if alert creation cannot be verified","duration":85,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries throws if created alert has mismatched username","status":"passed","title":"throws if created alert has mismatched username","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries updates alerts with provided fields","status":"passed","title":"updates alerts with provided fields","duration":74,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries deletes alerts","status":"passed","title":"deletes alerts","duration":74,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries lists active alerts","status":"passed","title":"lists active alerts","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries lists all alerts for admin (null username)","status":"passed","title":"lists all alerts for admin (null username)","duration":64,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries throws specific error on unique constraint violation","status":"passed","title":"throws specific error on unique constraint violation","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries lists active alerts for specific user","status":"passed","title":"lists active alerts for specific user","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries admin updates alert (null username)","status":"passed","title":"admin updates alert (null username)","duration":61,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries admin deletes alert (null username)","status":"passed","title":"admin deletes alert (null username)","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries updates all alert fields","status":"passed","title":"updates all alert fields","duration":58,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts state KV"],"fullName":"alerts state KV reads and writes state snapshots","status":"passed","title":"reads and writes state snapshots","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts state KV"],"fullName":"alerts state KV reads state from KV when cache misses","status":"passed","title":"reads state from KV when cache misses","duration":68,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts state KV"],"fullName":"alerts state KV deletes state","status":"passed","title":"deletes state","duration":138,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts state KV"],"fullName":"alerts state KV handles JSON parse errors in state gracefully","status":"passed","title":"handles JSON parse errors in state gracefully","duration":82,"failureMessages":[],"meta":{}}],"startTime":1766232596092,"endTime":1766232597309,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/alerts-storage.spec.ts"},{"assertionResults":[{"ancestorTitles":["alert validation"],"fullName":"alert validation validates creation payloads","status":"passed","title":"validates creation payloads","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation validation handles minimal valid payload","status":"passed","title":"validation handles minimal valid payload","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation rejects invalid creation payloads","status":"passed","title":"rejects invalid creation payloads","duration":81,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation rejects invalid enum values for creation","status":"passed","title":"rejects invalid enum values for creation","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation validates updates","status":"passed","title":"validates updates","duration":70,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation validates full update success","status":"passed","title":"validates full update success","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation validates partial updates","status":"passed","title":"validates partial updates","duration":75,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation validates clearing notes","status":"passed","title":"validates clearing notes","duration":50,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation rejects invalid update values","status":"passed","title":"rejects invalid update values","duration":63,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation requires at least one field on update","status":"passed","title":"requires at least one field on update","duration":41,"failureMessages":[],"meta":{}}],"startTime":1766232595897,"endTime":1766232596448,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/alerts-validation.spec.ts"},{"assertionResults":[{"ancestorTitles":["API - Health Check"],"fullName":"API - Health Check GET /v1/api/health returns OK status","status":"passed","title":"GET /v1/api/health returns OK status","duration":16,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Get Single Stock"],"fullName":"API - Get Single Stock GET /v1/api/get-stock returns stock data with all required fields","status":"passed","title":"GET /v1/api/get-stock returns stock data with all required fields","duration":559,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Get Single Stock"],"fullName":"API - Get Single Stock GET /v1/api/get-stock returns 400 when symbol is missing","status":"passed","title":"GET /v1/api/get-stock returns 400 when symbol is missing","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Get Multiple Stocks"],"fullName":"API - Get Multiple Stocks GET /v1/api/get-stocks returns array of stocks with all fields","status":"passed","title":"GET /v1/api/get-stocks returns array of stocks with all fields","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Get Multiple Stocks"],"fullName":"API - Get Multiple Stocks GET /v1/api/get-stocks returns 400 when symbols parameter is missing","status":"passed","title":"GET /v1/api/get-stocks returns 400 when symbols parameter is missing","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Search Stocks"],"fullName":"API - Search Stocks GET /v1/api/search-stock returns matching stocks","status":"passed","title":"GET /v1/api/search-stock returns matching stocks","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Search Stocks"],"fullName":"API - Search Stocks GET /v1/api/search-stock returns empty array when query is missing","status":"passed","title":"GET /v1/api/search-stock returns empty array when query is missing","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Get Historical"],"fullName":"API - Get Historical GET /v1/api/get-historical returns historical data","status":"passed","title":"GET /v1/api/get-historical returns historical data","duration":509,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Get Historical"],"fullName":"API - Get Historical GET /v1/api/get-historical returns 400 when symbol is missing","status":"passed","title":"GET /v1/api/get-historical returns 400 when symbol is missing","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Alerts"],"fullName":"API - Alerts GET /v1/api/alerts lists all alerts","status":"passed","title":"GET /v1/api/alerts lists all alerts","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Alerts"],"fullName":"API - Alerts POST /v1/api/alerts creates a new alert","status":"passed","title":"POST /v1/api/alerts creates a new alert","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Alerts"],"fullName":"API - Alerts GET /v1/api/alerts/:id gets a specific alert","status":"passed","title":"GET /v1/api/alerts/:id gets a specific alert","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Alerts"],"fullName":"API - Alerts PUT /v1/api/alerts/:id updates an alert","status":"passed","title":"PUT /v1/api/alerts/:id updates an alert","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Alerts"],"fullName":"API - Alerts DELETE /v1/api/alerts/:id deletes an alert","status":"passed","title":"DELETE /v1/api/alerts/:id deletes an alert","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token POST /v1/api/push-token registers a new push token","status":"passed","title":"POST /v1/api/push-token registers a new push token","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token POST /v1/api/push-token updates existing push token","status":"passed","title":"POST /v1/api/push-token updates existing push token","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token POST /v1/api/push-token returns 400 for invalid token format","status":"passed","title":"POST /v1/api/push-token returns 400 for invalid token format","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token GET /v1/api/push-token gets a user's push token","status":"passed","title":"GET /v1/api/push-token gets a user's push token","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token GET /v1/api/push-token returns 404 when token not found","status":"passed","title":"GET /v1/api/push-token returns 404 when token not found","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token GET /v1/api/push-token?check=true&token=XXX returns registered status for specific token","status":"passed","title":"GET /v1/api/push-token?check=true&token=XXX returns registered status for specific token","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token GET /v1/api/push-token?check=true&token=XXX returns registered=false when token not found","status":"passed","title":"GET /v1/api/push-token?check=true&token=XXX returns registered=false when token not found","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token GET /v1/api/push-token?check=true returns 400 when token parameter missing","status":"passed","title":"GET /v1/api/push-token?check=true returns 400 when token parameter missing","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Preferences"],"fullName":"API - Preferences GET /v1/api/preferences gets user preferences","status":"passed","title":"GET /v1/api/preferences gets user preferences","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Preferences"],"fullName":"API - Preferences GET /v1/api/preferences returns default preferences when not found","status":"passed","title":"GET /v1/api/preferences returns default preferences when not found","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Preferences"],"fullName":"API - Preferences PUT /v1/api/preferences updates user preferences","status":"passed","title":"PUT /v1/api/preferences updates user preferences","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Settings"],"fullName":"API - Settings GET /v1/api/settings gets user settings","status":"passed","title":"GET /v1/api/settings gets user settings","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Settings"],"fullName":"API - Settings GET /v1/api/settings returns default settings when not found","status":"passed","title":"GET /v1/api/settings returns default settings when not found","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Settings"],"fullName":"API - Settings PUT /v1/api/settings updates user settings","status":"passed","title":"PUT /v1/api/settings updates user settings","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Notifications"],"fullName":"API - Notifications GET /v1/api/notifications/recent returns recent notifications","status":"passed","title":"GET /v1/api/notifications/recent returns recent notifications","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Notifications"],"fullName":"API - Notifications GET /v1/api/notifications/failed returns failed notifications","status":"passed","title":"GET /v1/api/notifications/failed returns failed notifications","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Notifications"],"fullName":"API - Notifications POST /v1/api/notifications/retry/:logId retries a failed notification","status":"passed","title":"POST /v1/api/notifications/retry/:logId retries a failed notification","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Devices"],"fullName":"API - Devices GET /v1/api/devices returns all devices","status":"passed","title":"GET /v1/api/devices returns all devices","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Devices"],"fullName":"API - Devices DELETE /v1/api/devices deletes a device","status":"passed","title":"DELETE /v1/api/devices deletes a device","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Admin Config"],"fullName":"API - Admin Config GET /config/get returns admin configuration","status":"passed","title":"GET /config/get returns admin configuration","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Admin Config"],"fullName":"API - Admin Config POST /config/update updates admin configuration","status":"passed","title":"POST /config/update updates admin configuration","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Admin Config"],"fullName":"API - Admin Config POST /v1/api/simulate-provider-failure enables simulation mode","status":"passed","title":"POST /v1/api/simulate-provider-failure enables simulation mode","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Admin Config"],"fullName":"API - Admin Config POST /v1/api/disable-provider-failure disables simulation mode","status":"passed","title":"POST /v1/api/disable-provider-failure disables simulation mode","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - OpenAPI"],"fullName":"API - OpenAPI GET /openapi.json returns OpenAPI specification","status":"passed","title":"GET /openapi.json returns OpenAPI specification","duration":4,"failureMessages":[],"meta":{}}],"startTime":1766232598138,"endTime":1766232599371,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api-comprehensive.spec.ts"},{"assertionResults":[{"ancestorTitles":["API Integration - Health Check"],"fullName":"API Integration - Health Check health endpoint returns OK status","status":"passed","title":"health endpoint returns OK status","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stock"],"fullName":"API Integration - Get Stock successfully fetches and returns stock data with all required fields","status":"passed","title":"successfully fetches and returns stock data with all required fields","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stock"],"fullName":"API Integration - Get Stock returns error when symbol is missing","status":"passed","title":"returns error when symbol is missing","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stock"],"fullName":"API Integration - Get Stock uses cache when available","status":"passed","title":"uses cache when available","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stocks"],"fullName":"API Integration - Get Stocks successfully fetches multiple stocks with all required fields","status":"passed","title":"successfully fetches multiple stocks with all required fields","duration":22,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stocks"],"fullName":"API Integration - Get Stocks returns error when symbols parameter is missing","status":"passed","title":"returns error when symbols parameter is missing","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stocks"],"fullName":"API Integration - Get Stocks handles empty symbols list","status":"passed","title":"handles empty symbols list","duration":19,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Search Stock"],"fullName":"API Integration - Search Stock successfully searches and returns matching stocks","status":"passed","title":"successfully searches and returns matching stocks","duration":17,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Search Stock"],"fullName":"API Integration - Search Stock returns empty array when query parameter is missing","status":"passed","title":"returns empty array when query parameter is missing","duration":16,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Historical"],"fullName":"API Integration - Get Historical successfully fetches historical price data","status":"passed","title":"successfully fetches historical price data","duration":1041,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Historical"],"fullName":"API Integration - Get Historical returns error when symbol is missing","status":"passed","title":"returns error when symbol is missing","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Historical"],"fullName":"API Integration - Get Historical validates days parameter","status":"passed","title":"validates days parameter","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Alerts"],"fullName":"API Integration - Alerts successfully lists all alerts","status":"passed","title":"successfully lists all alerts","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Alerts"],"fullName":"API Integration - Alerts successfully creates an alert","status":"passed","title":"successfully creates an alert","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Alerts"],"fullName":"API Integration - Alerts successfully updates an alert","status":"passed","title":"successfully updates an alert","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Alerts"],"fullName":"API Integration - Alerts successfully deletes an alert","status":"passed","title":"successfully deletes an alert","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Alerts"],"fullName":"API Integration - Alerts returns 404 when alert not found","status":"passed","title":"returns 404 when alert not found","duration":3,"failureMessages":[],"meta":{}}],"startTime":1766232597888,"endTime":1766232599247,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api-integration.spec.ts"},{"assertionResults":[{"ancestorTitles":["API Schema Validation - Health Check"],"fullName":"API Schema Validation - Health Check health endpoint returns valid HealthCheckResponse schema","status":"passed","title":"health endpoint returns valid HealthCheckResponse schema","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Get Stock"],"fullName":"API Schema Validation - Get Stock getStock returns valid StockQuoteResponse schema on success","status":"passed","title":"getStock returns valid StockQuoteResponse schema on success","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Get Stock"],"fullName":"API Schema Validation - Get Stock getStock returns valid ErrorResponse schema on error","status":"passed","title":"getStock returns valid ErrorResponse schema on error","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Get Stocks"],"fullName":"API Schema Validation - Get Stocks getStocks returns valid StockQuotesResponse schema on success","status":"passed","title":"getStocks returns valid StockQuotesResponse schema on success","duration":22,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Get Stocks"],"fullName":"API Schema Validation - Get Stocks getStocks returns valid ErrorResponse schema on error","status":"passed","title":"getStocks returns valid ErrorResponse schema on error","duration":21,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Search Stock"],"fullName":"API Schema Validation - Search Stock searchStock returns valid SearchStockResponse schema","status":"passed","title":"searchStock returns valid SearchStockResponse schema","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Get Historical"],"fullName":"API Schema Validation - Get Historical getHistorical returns valid HistoricalPricesResponse schema","status":"passed","title":"getHistorical returns valid HistoricalPricesResponse schema","duration":1025,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Get Historical"],"fullName":"API Schema Validation - Get Historical getHistorical returns valid ErrorResponse schema on error","status":"passed","title":"getHistorical returns valid ErrorResponse schema on error","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Alerts"],"fullName":"API Schema Validation - Alerts listAlerts returns valid AlertsListResponse schema","status":"passed","title":"listAlerts returns valid AlertsListResponse schema","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Alerts"],"fullName":"API Schema Validation - Alerts createAlert accepts valid CreateAlertRequest schema","status":"passed","title":"createAlert accepts valid CreateAlertRequest schema","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Alerts"],"fullName":"API Schema Validation - Alerts updateAlert accepts valid UpdateAlertRequest schema","status":"passed","title":"updateAlert accepts valid UpdateAlertRequest schema","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Alerts"],"fullName":"API Schema Validation - Alerts getAlert returns valid Alert schema","status":"passed","title":"getAlert returns valid Alert schema","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Input Validation"],"fullName":"API Schema Validation - Input Validation rejects invalid CreateAlertRequest","status":"passed","title":"rejects invalid CreateAlertRequest","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Input Validation"],"fullName":"API Schema Validation - Input Validation accepts valid CreateAlertRequest with optional fields","status":"passed","title":"accepts valid CreateAlertRequest with optional fields","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Input Validation"],"fullName":"API Schema Validation - Input Validation rejects invalid UpdateAlertRequest","status":"passed","title":"rejects invalid UpdateAlertRequest","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Input Validation"],"fullName":"API Schema Validation - Input Validation accepts partial UpdateAlertRequest","status":"passed","title":"accepts partial UpdateAlertRequest","duration":2,"failureMessages":[],"meta":{}}],"startTime":1766232597891,"endTime":1766232599192,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api-schema-validation.spec.ts"},{"assertionResults":[{"ancestorTitles":["cache helpers"],"fullName":"cache helpers returns cached entries while TTL is valid","status":"passed","title":"returns cached entries while TTL is valid","duration":48,"failureMessages":[],"meta":{}},{"ancestorTitles":["cache helpers"],"fullName":"cache helpers expires entries once TTL elapses","status":"passed","title":"expires entries once TTL elapses","duration":83,"failureMessages":[],"meta":{}}],"startTime":1766232595925,"endTime":1766232596056,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/cache.spec.ts"},{"assertionResults":[{"ancestorTitles":["Config System","getConfig"],"fullName":"Config System getConfig returns default config when KV is not available","status":"passed","title":"returns default config when KV is not available","duration":48,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","getConfig"],"fullName":"Config System getConfig returns default config when no stored config exists","status":"passed","title":"returns default config when no stored config exists","duration":77,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","getConfig"],"fullName":"Config System getConfig returns stored config when available","status":"passed","title":"returns stored config when available","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","getConfig"],"fullName":"Config System getConfig merges partial stored config with defaults","status":"passed","title":"merges partial stored config with defaults","duration":86,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","updateConfig"],"fullName":"Config System updateConfig updates config with new values","status":"passed","title":"updates config with new values","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","updateConfig"],"fullName":"Config System updateConfig merges nested objects correctly","status":"passed","title":"merges nested objects correctly","duration":85,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","simulateProviderFailureEndpoint"],"fullName":"Config System simulateProviderFailureEndpoint enables simulation mode","status":"passed","title":"enables simulation mode","duration":73,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","simulateProviderFailureEndpoint"],"fullName":"Config System simulateProviderFailureEndpoint persists the config change","status":"passed","title":"persists the config change","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","disableProviderFailureEndpoint"],"fullName":"Config System disableProviderFailureEndpoint disables simulation mode","status":"passed","title":"disables simulation mode","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","disableProviderFailureEndpoint"],"fullName":"Config System disableProviderFailureEndpoint persists the config change","status":"passed","title":"persists the config change","duration":66,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","Error Handling"],"fullName":"Config System Error Handling getConfig catches errors and returns default","status":"passed","title":"getConfig catches errors and returns default","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","Error Handling"],"fullName":"Config System Error Handling updateConfig throws on error","status":"passed","title":"updateConfig throws on error","duration":49,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","Error Handling"],"fullName":"Config System Error Handling updateConfig warns when KV is missing","status":"passed","title":"updateConfig warns when KV is missing","duration":32,"failureMessages":[],"meta":{}}],"startTime":1766232596007,"endTime":1766232596906,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/config.spec.ts"},{"assertionResults":[{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should return list of devices","status":"passed","title":"should return list of devices","duration":102,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should return empty array when no devices","status":"passed","title":"should return empty array when no devices","duration":101,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should handle database errors","status":"passed","title":"should handle database errors","duration":102,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should send test notification successfully","status":"passed","title":"should send test notification successfully","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should use default message when no custom message provided","status":"passed","title":"should use default message when no custom message provided","duration":52,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 404 when device not found","status":"passed","title":"should return 404 when device not found","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 400 when userId is missing","status":"passed","title":"should return 400 when userId is missing","duration":61,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 405 for non-POST methods","status":"passed","title":"should return 405 for non-POST methods","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should handle FCM send failures","status":"passed","title":"should handle FCM send failures","duration":60,"failureMessages":[],"meta":{}}],"startTime":1766232597072,"endTime":1766232597758,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/devices.spec.ts"},{"assertionResults":[{"ancestorTitles":["getHistorical handler","Parameter validation"],"fullName":"getHistorical handler Parameter validation requires a symbol parameter","status":"passed","title":"requires a symbol parameter","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Parameter validation"],"fullName":"getHistorical handler Parameter validation accepts symbol parameter","status":"passed","title":"accepts symbol parameter","duration":568,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Parameter validation"],"fullName":"getHistorical handler Parameter validation normalizes symbol to uppercase","status":"passed","title":"normalizes symbol to uppercase","duration":545,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Date range parameters (from/to)"],"fullName":"getHistorical handler Date range parameters (from/to) accepts from and to parameters","status":"passed","title":"accepts from and to parameters","duration":16,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Date range parameters (from/to)"],"fullName":"getHistorical handler Date range parameters (from/to) validates from date format","status":"passed","title":"validates from date format","duration":13,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Date range parameters (from/to)"],"fullName":"getHistorical handler Date range parameters (from/to) validates to date format","status":"passed","title":"validates to date format","duration":13,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Date range parameters (from/to)"],"fullName":"getHistorical handler Date range parameters (from/to) validates that from date is before to date","status":"passed","title":"validates that from date is before to date","duration":9,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Date range parameters (from/to)"],"fullName":"getHistorical handler Date range parameters (from/to) allows from and to to be the same date","status":"passed","title":"allows from and to to be the same date","duration":8,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Date range parameters (from/to)"],"fullName":"getHistorical handler Date range parameters (from/to) defaults to today when only 'to' is provided","status":"passed","title":"defaults to today when only 'to' is provided","duration":506,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Date range parameters (from/to)"],"fullName":"getHistorical handler Date range parameters (from/to) defaults to today when only 'from' is provided","status":"passed","title":"defaults to today when only 'from' is provided","duration":506,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Days parameter (backward compatibility)"],"fullName":"getHistorical handler Days parameter (backward compatibility) accepts days parameter","status":"passed","title":"accepts days parameter","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Days parameter (backward compatibility)"],"fullName":"getHistorical handler Days parameter (backward compatibility) defaults to 180 days when no parameters provided","status":"passed","title":"defaults to 180 days when no parameters provided","duration":506,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Days parameter (backward compatibility)"],"fullName":"getHistorical handler Days parameter (backward compatibility) validates days parameter minimum value","status":"passed","title":"validates days parameter minimum value","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Days parameter (backward compatibility)"],"fullName":"getHistorical handler Days parameter (backward compatibility) validates days parameter maximum value","status":"passed","title":"validates days parameter maximum value","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Days parameter (backward compatibility)"],"fullName":"getHistorical handler Days parameter (backward compatibility) validates days parameter is a number","status":"passed","title":"validates days parameter is a number","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Parameter priority"],"fullName":"getHistorical handler Parameter priority prioritizes from/to parameters over days parameter","status":"passed","title":"prioritizes from/to parameters over days parameter","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Database query"],"fullName":"getHistorical handler Database query queries database with correct date range","status":"passed","title":"queries database with correct date range","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Database query"],"fullName":"getHistorical handler Database query returns data from database when available","status":"passed","title":"returns data from database when available","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Database query"],"fullName":"getHistorical handler Database query returns empty array when database has no data","status":"passed","title":"returns empty array when database has no data","duration":504,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","FMP API fallback"],"fullName":"getHistorical handler FMP API fallback fetches from FMP API when database is empty and ctx is available","status":"passed","title":"fetches from FMP API when database is empty and ctx is available","duration":506,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","FMP API fallback"],"fullName":"getHistorical handler FMP API fallback creates fallback ExecutionContext when ctx is not available and fetches from FMP API","status":"passed","title":"creates fallback ExecutionContext when ctx is not available and fetches from FMP API","duration":506,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","FMP API fallback"],"fullName":"getHistorical handler FMP API fallback handles FMP API fetch errors gracefully","status":"passed","title":"handles FMP API fetch errors gracefully","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Response format"],"fullName":"getHistorical handler Response format returns correct response format with from/to parameters","status":"passed","title":"returns correct response format with from/to parameters","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Response format"],"fullName":"getHistorical handler Response format returns correct response format with days parameter","status":"passed","title":"returns correct response format with days parameter","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Response format"],"fullName":"getHistorical handler Response format includes all required fields in data items","status":"passed","title":"includes all required fields in data items","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Missing OHLC data handling"],"fullName":"getHistorical handler Missing OHLC data handling re-fetches from FMP API when OHLC data is missing (null)","status":"passed","title":"re-fetches from FMP API when OHLC data is missing (null)","duration":505,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Missing OHLC data handling"],"fullName":"getHistorical handler Missing OHLC data handling does not re-fetch when OHLC data is present","status":"passed","title":"does not re-fetch when OHLC data is present","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistorical handler","Error handling"],"fullName":"getHistorical handler Error handling handles database query errors gracefully","status":"passed","title":"handles database query errors gracefully","duration":7,"failureMessages":[],"meta":{}}],"startTime":1766232596973,"endTime":1766232601815,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/get-historical.spec.ts"},{"assertionResults":[{"ancestorTitles":["News API","getGeneralNews"],"fullName":"News API getGeneralNews should return general news from FMP API","status":"passed","title":"should return general news from FMP API","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["News API","getGeneralNews"],"fullName":"News API getGeneralNews should handle API errors gracefully","status":"passed","title":"should handle API errors gracefully","duration":51,"failureMessages":[],"meta":{}},{"ancestorTitles":["News API","getFavoriteNews"],"fullName":"News API getFavoriteNews should return news for favorite symbols","status":"passed","title":"should return news for favorite symbols","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["News API","getFavoriteNews"],"fullName":"News API getFavoriteNews should return empty list if no favorites","status":"passed","title":"should return empty list if no favorites","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["News API","News Archive"],"fullName":"News API News Archive should toggle archived news","status":"passed","title":"should toggle archived news","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["News API","News Archive"],"fullName":"News API News Archive should retrieve archived news","status":"passed","title":"should retrieve archived news","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["News API","User Preferences"],"fullName":"News API User Preferences should update news favorite symbols","status":"passed","title":"should update news favorite symbols","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["News API","getNews"],"fullName":"News API getNews should return news for a specific symbol","status":"passed","title":"should return news for a specific symbol","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["News API","getNews"],"fullName":"News API getNews should validate pagination parameters","status":"passed","title":"should validate pagination parameters","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["News API","getNews"],"fullName":"News API getNews should pass pagination parameters to API","status":"passed","title":"should pass pagination parameters to API","duration":23,"failureMessages":[],"meta":{}},{"ancestorTitles":["News API","getNews"],"fullName":"News API getNews should flush KV cache pending writes","status":"passed","title":"should flush KV cache pending writes","duration":22,"failureMessages":[],"meta":{}}],"startTime":1766232597581,"endTime":1766232598091,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/get-news.spec.ts"},{"assertionResults":[{"ancestorTitles":["getStockDetails service"],"fullName":"getStockDetails service returns cached data when available and valid","status":"passed","title":"returns cached data when available and valid","duration":48,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockDetails service"],"fullName":"getStockDetails service fetches all data from FMP API when cache misses","status":"passed","title":"fetches all data from FMP API when cache misses","duration":93,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockDetails service"],"fullName":"getStockDetails service handles partial data failures gracefully","status":"passed","title":"handles partial data failures gracefully","duration":3024,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockDetails service"],"fullName":"getStockDetails service returns error when all critical endpoints fail","status":"passed","title":"returns error when all critical endpoints fail","duration":9008,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockDetails service"],"fullName":"getStockDetails service normalizes chart data correctly by time periods","status":"passed","title":"normalizes chart data correctly by time periods","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockDetails service"],"fullName":"getStockDetails service normalizes financial data correctly","status":"passed","title":"normalizes financial data correctly","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockDetails service"],"fullName":"getStockDetails service handles malformed or empty API responses gracefully","status":"passed","title":"handles malformed or empty API responses gracefully","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockDetails service"],"fullName":"getStockDetails service respects cache TTL and refetches","status":"passed","title":"respects cache TTL and refetches","duration":5,"failureMessages":[],"meta":{}}],"startTime":1766232596250,"endTime":1766232608441,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/get-stock-details.spec.ts"},{"assertionResults":[{"ancestorTitles":["getStockNews handler"],"fullName":"getStockNews handler requires a symbol","status":"passed","title":"requires a symbol","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockNews handler"],"fullName":"getStockNews handler returns cached data without calling the upstream API","status":"passed","title":"returns cached data without calling the upstream API","duration":104,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockNews handler"],"fullName":"getStockNews handler fetches news from FMP API when cache misses","status":"passed","title":"fetches news from FMP API when cache misses","duration":91,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockNews handler"],"fullName":"getStockNews handler returns empty array when FMP API returns empty array","status":"passed","title":"returns empty array when FMP API returns empty array","duration":89,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockNews handler"],"fullName":"getStockNews handler handles API errors gracefully","status":"passed","title":"handles API errors gracefully","duration":96,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockNews handler"],"fullName":"getStockNews handler handles network errors gracefully","status":"passed","title":"handles network errors gracefully","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockNews handler"],"fullName":"getStockNews handler handles simulation mode","status":"passed","title":"handles simulation mode","duration":67,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStockNews handler"],"fullName":"getStockNews handler normalizes news data correctly","status":"passed","title":"normalizes news data correctly","duration":32,"failureMessages":[],"meta":{}}],"startTime":1766232597020,"endTime":1766232597588,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/get-stock-news.spec.ts"},{"assertionResults":[{"ancestorTitles":["getStock handler"],"fullName":"getStock handler requires a symbol","status":"passed","title":"requires a symbol","duration":60,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStock handler"],"fullName":"getStock handler returns cached data without calling the upstream API","status":"passed","title":"returns cached data without calling the upstream API","duration":99,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStock handler"],"fullName":"getStock handler fetches the quote and caches the parsed response","status":"passed","title":"fetches the quote and caches the parsed response","duration":88,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStock handler"],"fullName":"getStock handler returns an error when the upstream API fails","status":"passed","title":"returns an error when the upstream API fails","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStock handler"],"fullName":"getStock handler returns stale data from DB when simulation mode is enabled","status":"passed","title":"returns stale data from DB when simulation mode is enabled","duration":138,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStock handler"],"fullName":"getStock handler returns no_price_available when simulation is enabled but no DB data exists","status":"passed","title":"returns no_price_available when simulation is enabled but no DB data exists","duration":48,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStock handler"],"fullName":"getStock handler calls provider normally when simulation is disabled","status":"passed","title":"calls provider normally when simulation is disabled","duration":56,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStock handler"],"fullName":"getStock handler falls back to DB and returns stale data when provider API fails","status":"passed","title":"falls back to DB and returns stale data when provider API fails","duration":72,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStock handler"],"fullName":"getStock handler falls back to DB when provider returns invalid data","status":"passed","title":"falls back to DB when provider returns invalid data","duration":60,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStock handler"],"fullName":"getStock handler falls back to DB when provider network request fails","status":"passed","title":"falls back to DB when provider network request fails","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStock handler"],"fullName":"getStock handler tries alternative profile endpoints if first one fails","status":"passed","title":"tries alternative profile endpoints if first one fails","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStock handler"],"fullName":"getStock handler fetches description from Wikipedia if profile description is missing","status":"passed","title":"fetches description from Wikipedia if profile description is missing","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStock handler"],"fullName":"getStock handler throttles provider failure notifications","status":"passed","title":"throttles provider failure notifications","duration":74,"failureMessages":[],"meta":{}}],"startTime":1766232597225,"endTime":1766232598069,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/get-stock.spec.ts"},{"assertionResults":[{"ancestorTitles":["getStocks handler"],"fullName":"getStocks handler requires symbols param","status":"passed","title":"requires symbols param","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStocks handler"],"fullName":"getStocks handler serves fresh entries from cache","status":"passed","title":"serves fresh entries from cache","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStocks handler"],"fullName":"getStocks handler refreshes from API when cache misses to get full data","status":"passed","title":"refreshes from API when cache misses to get full data","duration":133,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStocks handler"],"fullName":"getStocks handler fetches from API when cache and DB entries are stale","status":"passed","title":"fetches from API when cache and DB entries are stale","duration":112,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStocks handler"],"fullName":"getStocks handler returns empty array when all API calls fail","status":"passed","title":"returns empty array when all API calls fail","duration":107,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStocks handler"],"fullName":"getStocks handler returns full data structure with all required fields for single stock","status":"passed","title":"returns full data structure with all required fields for single stock","duration":92,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStocks handler"],"fullName":"getStocks handler returns full data structure for multiple stocks","status":"passed","title":"returns full data structure for multiple stocks","duration":67,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStocks handler"],"fullName":"getStocks handler sets name from companyName if name is missing","status":"passed","title":"sets name from companyName if name is missing","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStocks handler"],"fullName":"getStocks handler always includes image even if profile fetch fails","status":"passed","title":"always includes image even if profile fetch fails","duration":54,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStocks handler"],"fullName":"getStocks handler handles partial failures gracefully with Promise.allSettled","status":"passed","title":"handles partial failures gracefully with Promise.allSettled","duration":46,"failureMessages":[],"meta":{}}],"startTime":1766232596934,"endTime":1766232597673,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/get-stocks.spec.ts"},{"assertionResults":[{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-stock","status":"passed","title":"delegates /get-stock","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-stocks","status":"passed","title":"delegates /get-stocks","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-stock-details","status":"passed","title":"delegates /get-stock-details","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-news","status":"passed","title":"delegates /get-news","duration":23,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /news/general","status":"passed","title":"delegates /news/general","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /news/favorites","status":"passed","title":"delegates /news/favorites","duration":22,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-stock-news","status":"passed","title":"delegates /get-stock-news","duration":21,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /search-stock","status":"passed","title":"delegates /search-stock","duration":16,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-historical","status":"passed","title":"delegates /get-historical","duration":18,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-historical-intraday","status":"passed","title":"delegates /get-historical-intraday","duration":18,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /health","status":"passed","title":"delegates /health","duration":13,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /openapi.json","status":"passed","title":"delegates /openapi.json","duration":16,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /alerts prefix","status":"passed","title":"delegates /alerts prefix","duration":12,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /push-token GET","status":"passed","title":"delegates /push-token GET","duration":12,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /push-token POST","status":"passed","title":"delegates /push-token POST","duration":9,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /preferences GET","status":"passed","title":"delegates /preferences GET","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /preferences PUT","status":"passed","title":"delegates /preferences PUT","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /settings GET","status":"passed","title":"delegates /settings GET","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /settings PUT","status":"passed","title":"delegates /settings PUT","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /users/preferences/update","status":"passed","title":"delegates /users/preferences/update","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /news/archive GET","status":"passed","title":"delegates /news/archive GET","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /news/archive/:id POST","status":"passed","title":"delegates /news/archive/:id POST","duration":8,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /favorite-stocks GET","status":"passed","title":"delegates /favorite-stocks GET","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /favorite-stocks POST","status":"passed","title":"delegates /favorite-stocks POST","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /favorite-stocks ALL (moved to /v1/api/users/all)","status":"skipped","title":"delegates /favorite-stocks ALL (moved to /v1/api/users/all)","failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /users/all","status":"passed","title":"delegates /users/all","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /favorite-stocks/:symbol DELETE","status":"passed","title":"delegates /favorite-stocks/:symbol DELETE","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /notifications/recent","status":"passed","title":"delegates /notifications/recent","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /notifications/failed","status":"passed","title":"delegates /notifications/failed","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /notifications/retry/:id","status":"passed","title":"delegates /notifications/retry/:id","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /devices GET","status":"passed","title":"delegates /devices GET","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /devices DELETE","status":"passed","title":"delegates /devices DELETE","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /devices/test POST","status":"passed","title":"delegates /devices/test POST","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /config/get","status":"passed","title":"delegates /config/get","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /config/update","status":"passed","title":"delegates /config/update","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /simulate-provider-failure","status":"passed","title":"delegates /simulate-provider-failure","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /disable-provider-failure","status":"passed","title":"delegates /disable-provider-failure","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /auth/google","status":"passed","title":"delegates /auth/google","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /auth/username/check","status":"passed","title":"delegates /auth/username/check","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /auth/username","status":"passed","title":"delegates /auth/username","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /auth/refresh","status":"passed","title":"delegates /auth/refresh","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /auth/me","status":"passed","title":"delegates /auth/me","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /auth/logout","status":"passed","title":"delegates /auth/logout","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router returns 404 for unknown routes","status":"passed","title":"returns 404 for unknown routes","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router handles CORS OPTIONS request","status":"passed","title":"handles CORS OPTIONS request","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events runs alerts cron on correct schedule","status":"passed","title":"runs alerts cron on correct schedule","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events runs news alerts cron on correct schedule","status":"passed","title":"runs news alerts cron on correct schedule","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events handles unhandled errors","status":"passed","title":"handles unhandled errors","duration":8,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events ships logs if LOKI_URL is present","status":"passed","title":"ships logs if LOKI_URL is present","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events handles CORS requests with specific headers","status":"passed","title":"handles CORS requests with specific headers","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events ships logs on OPTIONS request if LOKI_URL is present","status":"passed","title":"ships logs on OPTIONS request if LOKI_URL is present","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events returns 405 for invalid method on retry notification","status":"passed","title":"returns 405 for invalid method on retry notification","duration":3,"failureMessages":[],"meta":{}}],"startTime":1766232597912,"endTime":1766232598345,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/index.spec.ts"},{"assertionResults":[{"ancestorTitles":["searchStock handler"],"fullName":"searchStock handler returns empty results when query is invalid","status":"passed","title":"returns empty results when query is invalid","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["searchStock handler"],"fullName":"searchStock handler serves cached responses from memory","status":"passed","title":"serves cached responses from memory","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["searchStock handler"],"fullName":"searchStock handler returns cached entries from D1 when still valid","status":"passed","title":"returns cached entries from D1 when still valid","duration":71,"failureMessages":[],"meta":{}},{"ancestorTitles":["searchStock handler"],"fullName":"searchStock handler invokes the upstream API, normalizes payload, and stores cache","status":"passed","title":"invokes the upstream API, normalizes payload, and stores cache","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["searchStock handler"],"fullName":"searchStock handler ignores expired D1 cache entries and fetches fresh data","status":"passed","title":"ignores expired D1 cache entries and fetches fresh data","duration":118,"failureMessages":[],"meta":{}},{"ancestorTitles":["searchStock handler"],"fullName":"searchStock handler returns empty array when upstream request fails gracefully","status":"passed","title":"returns empty array when upstream request fails gracefully","duration":92,"failureMessages":[],"meta":{}}],"startTime":1766232596884,"endTime":1766232597281,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/search-stock.spec.ts"},{"assertionResults":[{"ancestorTitles":["json utility"],"fullName":"json utility serializes payload into a JSON Response","status":"passed","title":"serializes payload into a JSON Response","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["json utility"],"fullName":"json utility allows overriding the status code","status":"passed","title":"allows overriding the status code","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["CORS headers"],"fullName":"CORS headers returns wildcard for unknown origin","status":"passed","title":"returns wildcard for unknown origin","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["CORS headers"],"fullName":"CORS headers returns specific origin for allowed domain","status":"passed","title":"returns specific origin for allowed domain","duration":71,"failureMessages":[],"meta":{}},{"ancestorTitles":["CORS headers"],"fullName":"CORS headers allows localhost","status":"passed","title":"allows localhost","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["CORS headers"],"fullName":"CORS headers allows localhost with random port","status":"passed","title":"allows localhost with random port","duration":72,"failureMessages":[],"meta":{}},{"ancestorTitles":["CORS headers"],"fullName":"CORS headers falls back to * if origin not allowed","status":"passed","title":"falls back to * if origin not allowed","duration":49,"failureMessages":[],"meta":{}}],"startTime":1766232595897,"endTime":1766232596341,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/util.spec.ts"},{"assertionResults":[{"ancestorTitles":["Alert State Cache","getCachedState"],"fullName":"Alert State Cache getCachedState should return null when state not cached","status":"passed","title":"should return null when state not cached","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","getCachedState"],"fullName":"Alert State Cache getCachedState should return cached state","status":"passed","title":"should return cached state","duration":90,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","updateStateInCache"],"fullName":"Alert State Cache updateStateInCache should update state in cache","status":"passed","title":"should update state in cache","duration":78,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","updateStateInCache"],"fullName":"Alert State Cache updateStateInCache should queue state for KV write","status":"passed","title":"should queue state for KV write","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","loadAllStatesFromKV"],"fullName":"Alert State Cache loadAllStatesFromKV should load states from KV","status":"passed","title":"should load states from KV","duration":97,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","loadAllStatesFromKV"],"fullName":"Alert State Cache loadAllStatesFromKV should cache loaded states in memory","status":"passed","title":"should cache loaded states in memory","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","loadAllStatesFromKV"],"fullName":"Alert State Cache loadAllStatesFromKV should return cached data if cache is fresh","status":"passed","title":"should return cached data if cache is fresh","duration":96,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","loadAllStatesFromKV"],"fullName":"Alert State Cache loadAllStatesFromKV should handle missing states","status":"passed","title":"should handle missing states","duration":90,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","loadAllStatesFromKV"],"fullName":"Alert State Cache loadAllStatesFromKV should handle invalid JSON","status":"passed","title":"should handle invalid JSON","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","loadAllStatesFromKV"],"fullName":"Alert State Cache loadAllStatesFromKV should handle KV read errors","status":"passed","title":"should handle KV read errors","duration":96,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","flushPendingWritesToKV"],"fullName":"Alert State Cache flushPendingWritesToKV should write pending states to KV","status":"passed","title":"should write pending states to KV","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","flushPendingWritesToKV"],"fullName":"Alert State Cache flushPendingWritesToKV should batch multiple writes","status":"passed","title":"should batch multiple writes","duration":70,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","flushPendingWritesToKV"],"fullName":"Alert State Cache flushPendingWritesToKV should not write if interval has not passed","status":"passed","title":"should not write if interval has not passed","duration":65,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","flushPendingWritesToKV"],"fullName":"Alert State Cache flushPendingWritesToKV should write if interval has passed","status":"passed","title":"should write if interval has passed","duration":56,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","flushPendingWritesToKV"],"fullName":"Alert State Cache flushPendingWritesToKV should handle KV write errors gracefully","status":"passed","title":"should handle KV write errors gracefully","duration":149,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","flushPendingWritesToKV"],"fullName":"Alert State Cache flushPendingWritesToKV should return early if no pending writes","status":"passed","title":"should return early if no pending writes","duration":173,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","invalidateState"],"fullName":"Alert State Cache invalidateState should remove state from cache and pending writes","status":"passed","title":"should remove state from cache and pending writes","duration":50,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","clearCache"],"fullName":"Alert State Cache clearCache should clear all cached states","status":"passed","title":"should clear all cached states","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","getCacheStats"],"fullName":"Alert State Cache getCacheStats should return cache statistics","status":"passed","title":"should return cache statistics","duration":40,"failureMessages":[],"meta":{}}],"startTime":1766232595871,"endTime":1766232597654,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/alerts/state-cache.spec.ts"},{"assertionResults":[{"ancestorTitles":["Admin API","getRecentNotifications"],"fullName":"Admin API getRecentNotifications should return recent notifications","status":"passed","title":"should return recent notifications","duration":57,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getRecentNotifications"],"fullName":"Admin API getRecentNotifications should return empty array when no notifications","status":"passed","title":"should return empty array when no notifications","duration":146,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getRecentNotifications"],"fullName":"Admin API getRecentNotifications should handle database errors","status":"passed","title":"should handle database errors","duration":73,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getRecentNotifications"],"fullName":"Admin API getRecentNotifications should limit to 100 notifications","status":"passed","title":"should limit to 100 notifications","duration":95,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getRecentNotifications"],"fullName":"Admin API getRecentNotifications should order by sent_at DESC","status":"passed","title":"should order by sent_at DESC","duration":79,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFailedNotifications"],"fullName":"Admin API getFailedNotifications should return only failed notifications","status":"passed","title":"should return only failed notifications","duration":58,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFailedNotifications"],"fullName":"Admin API getFailedNotifications should return empty array when no failed notifications","status":"passed","title":"should return empty array when no failed notifications","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFailedNotifications"],"fullName":"Admin API getFailedNotifications should handle database errors","status":"passed","title":"should handle database errors","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFilteredNotifications"],"fullName":"Admin API getFilteredNotifications should return filtered notifications","status":"passed","title":"should return filtered notifications","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFilteredNotifications"],"fullName":"Admin API getFilteredNotifications should filter by date range","status":"passed","title":"should filter by date range","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFilteredNotifications"],"fullName":"Admin API getFilteredNotifications should fail if env not provided","status":"passed","title":"should fail if env not provided","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFilteredNotifications"],"fullName":"Admin API getFilteredNotifications should handle db errors","status":"passed","title":"should handle db errors","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","retryNotification"],"fullName":"Admin API retryNotification should retry failed notification successfully","status":"passed","title":"should retry failed notification successfully","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","retryNotification"],"fullName":"Admin API retryNotification should return 404 when log not found","status":"passed","title":"should return 404 when log not found","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","retryNotification"],"fullName":"Admin API retryNotification should handle retry failure","status":"passed","title":"should handle retry failure","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","retryNotification"],"fullName":"Admin API retryNotification should create new log entry with attempt count 1","status":"passed","title":"should create new log entry with attempt count 1","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","retryNotification"],"fullName":"Admin API retryNotification should handle database errors during retry","status":"passed","title":"should handle database errors during retry","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","retryNotification"],"fullName":"Admin API retryNotification should handle FCM send errors","status":"passed","title":"should handle FCM send errors","duration":28,"failureMessages":[],"meta":{}}],"startTime":1766232597033,"endTime":1766232598040,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/admin.spec.ts"},{"assertionResults":[{"ancestorTitles":["Auth API","handleGoogleAuth"],"fullName":"Auth API handleGoogleAuth should return 405 for non-POST requests","status":"passed","title":"should return 405 for non-POST requests","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","handleGoogleAuth"],"fullName":"Auth API handleGoogleAuth should return error if idToken is missing","status":"passed","title":"should return error if idToken is missing","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","handleGoogleAuth"],"fullName":"Auth API handleGoogleAuth should authenticate existing user","status":"passed","title":"should authenticate existing user","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","handleGoogleAuth"],"fullName":"Auth API handleGoogleAuth should create new user if not found","status":"passed","title":"should create new user if not found","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","handleGoogleAuth"],"fullName":"Auth API handleGoogleAuth should return 401 if Google token verification fails","status":"passed","title":"should return 401 if Google token verification fails","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","handleGoogleAuth"],"fullName":"Auth API handleGoogleAuth should return 500 on DB error during user lookup","status":"passed","title":"should return 500 on DB error during user lookup","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","checkUsernameAvailability"],"fullName":"Auth API checkUsernameAvailability should return available true if username not taken","status":"passed","title":"should return available true if username not taken","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","checkUsernameAvailability"],"fullName":"Auth API checkUsernameAvailability should return available false if username taken","status":"passed","title":"should return available false if username taken","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","checkUsernameAvailability"],"fullName":"Auth API checkUsernameAvailability should return error for invalid format","status":"passed","title":"should return error for invalid format","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","checkUsernameAvailability"],"fullName":"Auth API checkUsernameAvailability should return 500 on DB error","status":"passed","title":"should return 500 on DB error","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","setUsername"],"fullName":"Auth API setUsername should set username using idToken flow (new user)","status":"passed","title":"should set username using idToken flow (new user)","duration":19,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","setUsername"],"fullName":"Auth API setUsername should handle UNIQUE constraint violation","status":"passed","title":"should handle UNIQUE constraint violation","duration":19,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","setUsername"],"fullName":"Auth API setUsername should handle race condition (changes=0)","status":"passed","title":"should handle race condition (changes=0)","duration":18,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","setUsername"],"fullName":"Auth API setUsername should return 500 if updated user cannot be fetched","status":"passed","title":"should return 500 if updated user cannot be fetched","duration":21,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","setUsername"],"fullName":"Auth API setUsername should return 400 if user already has username","status":"passed","title":"should return 400 if user already has username","duration":13,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","refreshToken"],"fullName":"Auth API refreshToken should return 405 for non-POST requests","status":"passed","title":"should return 405 for non-POST requests","duration":11,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","refreshToken"],"fullName":"Auth API refreshToken should extract token from cookie","status":"passed","title":"should extract token from cookie","duration":9,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","refreshToken"],"fullName":"Auth API refreshToken should extract token from body (mobile)","status":"passed","title":"should extract token from body (mobile)","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","refreshToken"],"fullName":"Auth API refreshToken should return 400 if token missing","status":"passed","title":"should return 400 if token missing","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","refreshToken"],"fullName":"Auth API refreshToken should return 401 if token invalid","status":"passed","title":"should return 401 if token invalid","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","getCurrentUser"],"fullName":"Auth API getCurrentUser should return 405 for non-GET requests","status":"passed","title":"should return 405 for non-GET requests","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","getCurrentUser"],"fullName":"Auth API getCurrentUser should return 401 if not authenticated","status":"passed","title":"should return 401 if not authenticated","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","getCurrentUser"],"fullName":"Auth API getCurrentUser should return user info if authenticated","status":"passed","title":"should return user info if authenticated","duration":11,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","getCurrentUser"],"fullName":"Auth API getCurrentUser should return 404 if user not found in DB","status":"passed","title":"should return 404 if user not found in DB","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","logout"],"fullName":"Auth API logout should return 405 for non-POST requests","status":"passed","title":"should return 405 for non-POST requests","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","logout"],"fullName":"Auth API logout should clear cookies and log event","status":"passed","title":"should clear cookies and log event","duration":5,"failureMessages":[],"meta":{}}],"startTime":1766232597730,"endTime":1766232598264,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/auth.spec.ts"},{"assertionResults":[{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should return devices for regular user","status":"passed","title":"should return devices for regular user","duration":50,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should return all devices for admin user","status":"passed","title":"should return all devices for admin user","duration":54,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should handle missing device_type column gracefully","status":"passed","title":"should handle missing device_type column gracefully","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should handle missing username column gracefully","status":"passed","title":"should handle missing username column gracefully","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should return empty array when no devices found","status":"passed","title":"should return empty array when no devices found","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should return 401 when authentication fails","status":"passed","title":"should return 401 when authentication fails","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should log warning when devices have null username","status":"passed","title":"should log warning when devices have null username","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should delete device for regular user","status":"passed","title":"should delete device for regular user","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should allow admin to delete any device","status":"passed","title":"should allow admin to delete any device","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should return 403 when user tries to delete another user's device","status":"passed","title":"should return 403 when user tries to delete another user's device","duration":22,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should return 400 when pushToken is missing","status":"passed","title":"should return 400 when pushToken is missing","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should return 404 when device not found","status":"passed","title":"should return 404 when device not found","duration":16,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should return 401 when authentication fails","status":"passed","title":"should return 401 when authentication fails","duration":19,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":18,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should send test notification successfully","status":"passed","title":"should send test notification successfully","duration":15,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should use default message when not provided","status":"passed","title":"should use default message when not provided","duration":13,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 405 for non-POST requests","status":"passed","title":"should return 405 for non-POST requests","duration":12,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 400 when pushToken is missing","status":"passed","title":"should return 400 when pushToken is missing","duration":9,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 404 when user not found","status":"passed","title":"should return 404 when user not found","duration":8,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 404 when device not found","status":"passed","title":"should return 404 when device not found","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 500 when FCM notification fails","status":"passed","title":"should return 500 when FCM notification fails","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 401 when authentication fails","status":"passed","title":"should return 401 when authentication fails","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should handle invalid JSON body gracefully","status":"passed","title":"should handle invalid JSON body gracefully","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":7,"failureMessages":[],"meta":{}}],"startTime":1766232597674,"endTime":1766232598240,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/devices.spec.ts"},{"assertionResults":[{"ancestorTitles":["Edge Cases and Error Scenarios","Invalid Input Handling"],"fullName":"Edge Cases and Error Scenarios Invalid Input Handling should handle empty symbol in getStock","status":"passed","title":"should handle empty symbol in getStock","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Invalid Input Handling"],"fullName":"Edge Cases and Error Scenarios Invalid Input Handling should handle invalid symbol format","status":"passed","title":"should handle invalid symbol format","duration":926,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Invalid Input Handling"],"fullName":"Edge Cases and Error Scenarios Invalid Input Handling should handle empty symbols array in getStocks","status":"passed","title":"should handle empty symbols array in getStocks","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Invalid Input Handling"],"fullName":"Edge Cases and Error Scenarios Invalid Input Handling should handle very long symbol list in getStocks","status":"passed","title":"should handle very long symbol list in getStocks","duration":8,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Invalid Input Handling"],"fullName":"Edge Cases and Error Scenarios Invalid Input Handling should handle empty search query","status":"passed","title":"should handle empty search query","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Invalid Input Handling"],"fullName":"Edge Cases and Error Scenarios Invalid Input Handling should handle SQL injection attempts in search","status":"passed","title":"should handle SQL injection attempts in search","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Database Error Handling"],"fullName":"Edge Cases and Error Scenarios Database Error Handling should handle database connection errors gracefully","status":"passed","title":"should handle database connection errors gracefully","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Database Error Handling"],"fullName":"Edge Cases and Error Scenarios Database Error Handling should handle database timeout errors","status":"passed","title":"should handle database timeout errors","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","External API Error Handling"],"fullName":"Edge Cases and Error Scenarios External API Error Handling should handle external API rate limiting","status":"passed","title":"should handle external API rate limiting","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","External API Error Handling"],"fullName":"Edge Cases and Error Scenarios External API Error Handling should handle external API timeout","status":"passed","title":"should handle external API timeout","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","External API Error Handling"],"fullName":"Edge Cases and Error Scenarios External API Error Handling should handle external API returning invalid JSON","status":"passed","title":"should handle external API returning invalid JSON","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Authentication Edge Cases"],"fullName":"Edge Cases and Error Scenarios Authentication Edge Cases should handle expired access token","status":"passed","title":"should handle expired access token","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Authentication Edge Cases"],"fullName":"Edge Cases and Error Scenarios Authentication Edge Cases should handle malformed authorization header","status":"passed","title":"should handle malformed authorization header","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Alert Edge Cases"],"fullName":"Edge Cases and Error Scenarios Alert Edge Cases should handle negative threshold values","status":"passed","title":"should handle negative threshold values","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Alert Edge Cases"],"fullName":"Edge Cases and Error Scenarios Alert Edge Cases should handle extremely large threshold values","status":"passed","title":"should handle extremely large threshold values","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Alert Edge Cases"],"fullName":"Edge Cases and Error Scenarios Alert Edge Cases should handle missing required fields in alert creation","status":"passed","title":"should handle missing required fields in alert creation","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Boundary Conditions"],"fullName":"Edge Cases and Error Scenarios Boundary Conditions should handle maximum number of symbols in batch request","status":"passed","title":"should handle maximum number of symbols in batch request","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Boundary Conditions"],"fullName":"Edge Cases and Error Scenarios Boundary Conditions should handle very long search query","status":"passed","title":"should handle very long search query","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Scenarios","Concurrent Request Handling"],"fullName":"Edge Cases and Error Scenarios Concurrent Request Handling should handle multiple simultaneous requests for same symbol","status":"passed","title":"should handle multiple simultaneous requests for same symbol","duration":4,"failureMessages":[],"meta":{}}],"startTime":1766232597620,"endTime":1766232598656,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/edge-cases.spec.ts"},{"assertionResults":[{"ancestorTitles":["Favorite Stocks API","getFavoriteStocks"],"fullName":"Favorite Stocks API getFavoriteStocks should return favorite stocks for authenticated user","status":"passed","title":"should return favorite stocks for authenticated user","duration":48,"failureMessages":[],"meta":{}},{"ancestorTitles":["Favorite Stocks API","getFavoriteStocks"],"fullName":"Favorite Stocks API getFavoriteStocks should return 401 for unauthenticated request","status":"passed","title":"should return 401 for unauthenticated request","duration":74,"failureMessages":[],"meta":{}},{"ancestorTitles":["Favorite Stocks API","updateFavoriteStocks"],"fullName":"Favorite Stocks API updateFavoriteStocks should update favorite stocks for authenticated user","status":"passed","title":"should update favorite stocks for authenticated user","duration":70,"failureMessages":[],"meta":{}},{"ancestorTitles":["Favorite Stocks API","updateFavoriteStocks"],"fullName":"Favorite Stocks API updateFavoriteStocks should validate symbols array","status":"passed","title":"should validate symbols array","duration":92,"failureMessages":[],"meta":{}},{"ancestorTitles":["Favorite Stocks API","deleteFavoriteStock"],"fullName":"Favorite Stocks API deleteFavoriteStock should delete favorite stock for authenticated user","status":"passed","title":"should delete favorite stock for authenticated user","duration":83,"failureMessages":[],"meta":{}},{"ancestorTitles":["Favorite Stocks API","getAllUsersFavoriteStocks"],"fullName":"Favorite Stocks API getAllUsersFavoriteStocks should return all favorite stocks for admin","status":"skipped","title":"should return all favorite stocks for admin","failureMessages":[],"meta":{}},{"ancestorTitles":["Favorite Stocks API","getAllUsersFavoriteStocks"],"fullName":"Favorite Stocks API getAllUsersFavoriteStocks should deny non-admin access","status":"passed","title":"should deny non-admin access","duration":53,"failureMessages":[],"meta":{}}],"startTime":1766232596942,"endTime":1766232597592,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/favorite-stocks.spec.ts"},{"assertionResults":[{"ancestorTitles":["getHistoricalIntraday handler","Parameter validation"],"fullName":"getHistoricalIntraday handler Parameter validation requires a symbol parameter","status":"passed","title":"requires a symbol parameter","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","Parameter validation"],"fullName":"getHistoricalIntraday handler Parameter validation validates days parameter - must be between 1 and 30","status":"passed","title":"validates days parameter - must be between 1 and 30","duration":125,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","Parameter validation"],"fullName":"getHistoricalIntraday handler Parameter validation validates interval format","status":"passed","title":"validates interval format","duration":268,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","Parameter validation"],"fullName":"getHistoricalIntraday handler Parameter validation uses default interval (4h) when not provided","status":"passed","title":"uses default interval (4h) when not provided","duration":51,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","Parameter validation"],"fullName":"getHistoricalIntraday handler Parameter validation uses default days (3) when not provided","status":"passed","title":"uses default days (3) when not provided","duration":228,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","Parameter validation"],"fullName":"getHistoricalIntraday handler Parameter validation normalizes symbol to uppercase","status":"passed","title":"normalizes symbol to uppercase","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","Date range calculation"],"fullName":"getHistoricalIntraday handler Date range calculation calculates correct date range based on days parameter","status":"passed","title":"calculates correct date range based on days parameter","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","FMP API integration"],"fullName":"getHistoricalIntraday handler FMP API integration calls FMP API with correct parameters","status":"passed","title":"calls FMP API with correct parameters","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","FMP API integration"],"fullName":"getHistoricalIntraday handler FMP API integration handles FMP API errors gracefully","status":"passed","title":"handles FMP API errors gracefully","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","FMP API integration"],"fullName":"getHistoricalIntraday handler FMP API integration handles HTTP errors from FMP API","status":"passed","title":"handles HTTP errors from FMP API","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","FMP API integration"],"fullName":"getHistoricalIntraday handler FMP API integration handles empty data response","status":"passed","title":"handles empty data response","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","FMP API integration"],"fullName":"getHistoricalIntraday handler FMP API integration filters out invalid records from API response","status":"passed","title":"filters out invalid records from API response","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","OHLC aggregation"],"fullName":"getHistoricalIntraday handler OHLC aggregation aggregates 30-minute data to 1-hour intervals","status":"passed","title":"aggregates 30-minute data to 1-hour intervals","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","OHLC aggregation"],"fullName":"getHistoricalIntraday handler OHLC aggregation aggregates 30-minute data to 4-hour intervals","status":"passed","title":"aggregates 30-minute data to 4-hour intervals","duration":23,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","OHLC aggregation"],"fullName":"getHistoricalIntraday handler OHLC aggregation correctly calculates OHLC values during aggregation","status":"passed","title":"correctly calculates OHLC values during aggregation","duration":22,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","Response format"],"fullName":"getHistoricalIntraday handler Response format returns correct JSON structure on success","status":"passed","title":"returns correct JSON structure on success","duration":19,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","Response format"],"fullName":"getHistoricalIntraday handler Response format returns correct structure on empty data","status":"passed","title":"returns correct structure on empty data","duration":18,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","Error handling"],"fullName":"getHistoricalIntraday handler Error handling handles network errors","status":"passed","title":"handles network errors","duration":16,"failureMessages":[],"meta":{}},{"ancestorTitles":["getHistoricalIntraday handler","Error handling"],"fullName":"getHistoricalIntraday handler Error handling handles invalid JSON response","status":"passed","title":"handles invalid JSON response","duration":12,"failureMessages":[],"meta":{}}],"startTime":1766232596982,"endTime":1766232598185,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/get-historical-intraday.spec.ts"},{"assertionResults":[{"ancestorTitles":["Get News API","getNews"],"fullName":"Get News API getNews should return news articles","status":"passed","title":"should return news articles","duration":101,"failureMessages":[],"meta":{}},{"ancestorTitles":["Get News API","getNews"],"fullName":"Get News API getNews should handle pagination correctly","status":"passed","title":"should handle pagination correctly","duration":94,"failureMessages":[],"meta":{}},{"ancestorTitles":["Get News API","getNews"],"fullName":"Get News API getNews should handle external API errors gracefully","status":"passed","title":"should handle external API errors gracefully","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["Get News API","getFavoriteNews"],"fullName":"Get News API getFavoriteNews should return favorite news for authenticated user","status":"passed","title":"should return favorite news for authenticated user","duration":34,"failureMessages":[],"meta":{}}],"startTime":1766232597251,"endTime":1766232597601,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/get-news.spec.ts"},{"assertionResults":[{"ancestorTitles":["News Archive API","getArchivedNews"],"fullName":"News Archive API getArchivedNews should return archived news for authenticated user","status":"passed","title":"should return archived news for authenticated user","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Archive API","getArchivedNews"],"fullName":"News Archive API getArchivedNews should handle pagination correctly","status":"passed","title":"should handle pagination correctly","duration":134,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Archive API","toggleArchivedNews"],"fullName":"News Archive API toggleArchivedNews should save article to archive","status":"passed","title":"should save article to archive","duration":85,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Archive API","toggleArchivedNews"],"fullName":"News Archive API toggleArchivedNews should remove article from archive if already saved","status":"passed","title":"should remove article from archive if already saved","duration":94,"failureMessages":[],"meta":{}}],"startTime":1766232596980,"endTime":1766232597450,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/news-archive.spec.ts"},{"assertionResults":[{"ancestorTitles":["Preferences API","getPreferences"],"fullName":"Preferences API getPreferences should return preferences for authenticated user","status":"passed","title":"should return preferences for authenticated user","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","getPreferences"],"fullName":"Preferences API getPreferences should return 404 if user not found (getPreferences)","status":"passed","title":"should return 404 if user not found (getPreferences)","duration":121,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","getPreferences"],"fullName":"Preferences API getPreferences should return default preferences if none exist","status":"passed","title":"should return default preferences if none exist","duration":115,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should update preferences for authenticated user","status":"passed","title":"should update preferences for authenticated user","duration":83,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should create preferences if they don't exist","status":"passed","title":"should create preferences if they don't exist","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should validate quiet hours format","status":"passed","title":"should validate quiet hours format","duration":57,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should return 400 for invalid quietStart type","status":"passed","title":"should return 400 for invalid quietStart type","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should return 400 for invalid quietEnd type","status":"passed","title":"should return 400 for invalid quietEnd type","duration":49,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should return 400 for invalid enabled type","status":"passed","title":"should return 400 for invalid enabled type","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should return 400 for invalid maxDaily","status":"passed","title":"should return 400 for invalid maxDaily","duration":65,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should return 400 for invalid allowedSymbols","status":"passed","title":"should return 400 for invalid allowedSymbols","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should return 500 on DB error","status":"passed","title":"should return 500 on DB error","duration":41,"failureMessages":[],"meta":{}}],"startTime":1766232596976,"endTime":1766232597810,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/preferences.spec.ts"},{"assertionResults":[{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should register new push token","status":"passed","title":"should register new push token","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should update existing push token","status":"passed","title":"should update existing push token","duration":219,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should reassign token to new user if different user","status":"passed","title":"should reassign token to new user if different user","duration":87,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should validate token format","status":"passed","title":"should validate token format","duration":94,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should reject Expo tokens","status":"passed","title":"should reject Expo tokens","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should reject short FCM tokens","status":"passed","title":"should reject short FCM tokens","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should normalize deviceType from info","status":"passed","title":"should normalize deviceType from info","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should return 500 on DB error","status":"passed","title":"should return 500 on DB error","duration":61,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should fallback to legacy insert if device_type column missing","status":"passed","title":"should fallback to legacy insert if device_type column missing","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return push tokens for authenticated user","status":"passed","title":"should return push tokens for authenticated user","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return 404 if user not found","status":"passed","title":"should return 404 if user not found","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return 404 if no tokens found","status":"passed","title":"should return 404 if no tokens found","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return 500 on DB error","status":"passed","title":"should return 500 on DB error","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should handle legacy schema (no device_type column)","status":"passed","title":"should handle legacy schema (no device_type column)","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return registered=true when token is registered for user (check mode)","status":"passed","title":"should return registered=true when token is registered for user (check mode)","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return registered=false when token is not registered for user (check mode)","status":"passed","title":"should return registered=false when token is not registered for user (check mode)","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return 400 when check=true but token parameter is missing","status":"passed","title":"should return 400 when check=true but token parameter is missing","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return registered=false when token belongs to different user (check mode)","status":"passed","title":"should return registered=false when token belongs to different user (check mode)","duration":26,"failureMessages":[],"meta":{}}],"startTime":1766232596993,"endTime":1766232597985,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/push-token.spec.ts"},{"assertionResults":[{"ancestorTitles":["Settings API","getSettings"],"fullName":"Settings API getSettings should return settings for authenticated user","status":"passed","title":"should return settings for authenticated user","duration":94,"failureMessages":[],"meta":{}},{"ancestorTitles":["Settings API","getSettings"],"fullName":"Settings API getSettings should return default settings if none exist","status":"passed","title":"should return default settings if none exist","duration":115,"failureMessages":[],"meta":{}},{"ancestorTitles":["Settings API","updateSettings"],"fullName":"Settings API updateSettings should update settings for authenticated user","status":"passed","title":"should update settings for authenticated user","duration":91,"failureMessages":[],"meta":{}},{"ancestorTitles":["Settings API","updateSettings"],"fullName":"Settings API updateSettings should create settings if they don't exist","status":"passed","title":"should create settings if they don't exist","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["Settings API","updateSettings"],"fullName":"Settings API updateSettings should return 400 for invalid refreshIntervalMinutes","status":"passed","title":"should return 400 for invalid refreshIntervalMinutes","duration":66,"failureMessages":[],"meta":{}},{"ancestorTitles":["Settings API","updateSettings"],"fullName":"Settings API updateSettings should return 500 on DB error during update","status":"passed","title":"should return 500 on DB error during update","duration":42,"failureMessages":[],"meta":{}}],"startTime":1766232597045,"endTime":1766232597579,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/settings.spec.ts"},{"assertionResults":[{"ancestorTitles":["Throttle Cache","isThrottled"],"fullName":"Throttle Cache isThrottled should return false if key is not throttled","status":"passed","title":"should return false if key is not throttled","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","isThrottled"],"fullName":"Throttle Cache isThrottled should return true if key was recently throttled","status":"passed","title":"should return true if key was recently throttled","duration":89,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","isThrottled"],"fullName":"Throttle Cache isThrottled should return false if throttle window has expired","status":"passed","title":"should return false if throttle window has expired","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","isThrottled"],"fullName":"Throttle Cache isThrottled should return true if within throttle window","status":"passed","title":"should return true if within throttle window","duration":84,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","isThrottled"],"fullName":"Throttle Cache isThrottled should handle multiple keys independently","status":"passed","title":"should handle multiple keys independently","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","markThrottled"],"fullName":"Throttle Cache markThrottled should mark a key as throttled","status":"passed","title":"should mark a key as throttled","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","markThrottled"],"fullName":"Throttle Cache markThrottled should update throttle timestamp when called again","status":"passed","title":"should update throttle timestamp when called again","duration":87,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","markThrottled"],"fullName":"Throttle Cache markThrottled should handle empty string key","status":"passed","title":"should handle empty string key","duration":85,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","markThrottled"],"fullName":"Throttle Cache markThrottled should handle special characters in key","status":"passed","title":"should handle special characters in key","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","clearThrottle"],"fullName":"Throttle Cache clearThrottle should clear throttle for a key","status":"passed","title":"should clear throttle for a key","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","clearThrottle"],"fullName":"Throttle Cache clearThrottle should not throw if clearing non-existent key","status":"passed","title":"should not throw if clearing non-existent key","duration":79,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","clearThrottle"],"fullName":"Throttle Cache clearThrottle should clear one key without affecting others","status":"passed","title":"should clear one key without affecting others","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","getThrottleCacheStats"],"fullName":"Throttle Cache getThrottleCacheStats should return cache statistics","status":"passed","title":"should return cache statistics","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","getThrottleCacheStats"],"fullName":"Throttle Cache getThrottleCacheStats should reflect correct number of cached keys","status":"passed","title":"should reflect correct number of cached keys","duration":59,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","getThrottleCacheStats"],"fullName":"Throttle Cache getThrottleCacheStats should handle empty cache","status":"passed","title":"should handle empty cache","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","getThrottleCacheStats"],"fullName":"Throttle Cache getThrottleCacheStats should increase count when marking multiple unique keys","status":"passed","title":"should increase count when marking multiple unique keys","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","Throttle window (5 minutes)"],"fullName":"Throttle Cache Throttle window (5 minutes) should throttle for approximately 5 minutes","status":"passed","title":"should throttle for approximately 5 minutes","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","Throttle window (5 minutes)"],"fullName":"Throttle Cache Throttle window (5 minutes) should use seconds precision (not milliseconds)","status":"passed","title":"should use seconds precision (not milliseconds)","duration":77,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","Edge cases"],"fullName":"Throttle Cache Edge cases should handle very long keys","status":"passed","title":"should handle very long keys","duration":108,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","Edge cases"],"fullName":"Throttle Cache Edge cases should handle unicode keys","status":"passed","title":"should handle unicode keys","duration":91,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","Edge cases"],"fullName":"Throttle Cache Edge cases should handle concurrent marks and clears","status":"passed","title":"should handle concurrent marks and clears","duration":54,"failureMessages":[],"meta":{}}],"startTime":1766232595867,"endTime":1766232597429,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/throttle-cache.spec.ts"},{"assertionResults":[{"ancestorTitles":["User Preferences API","updateUserPreferences"],"fullName":"User Preferences API updateUserPreferences should update news favorite symbols","status":"passed","title":"should update news favorite symbols","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Preferences API","updateUserPreferences"],"fullName":"User Preferences API updateUserPreferences should create settings if they don't exist","status":"passed","title":"should create settings if they don't exist","duration":131,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Preferences API","updateUserPreferences"],"fullName":"User Preferences API updateUserPreferences should validate symbols array","status":"passed","title":"should validate symbols array","duration":98,"failureMessages":[],"meta":{}}],"startTime":1766232596985,"endTime":1766232597257,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/user-preferences.spec.ts"},{"assertionResults":[{"ancestorTitles":["Users API","getAllUsers"],"fullName":"Users API getAllUsers should return all users with activity status for admin","status":"passed","title":"should return all users with activity status for admin","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getAllUsers"],"fullName":"Users API getAllUsers should deny non-admin access","status":"passed","title":"should deny non-admin access","duration":65,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getAllUsers"],"fullName":"Users API getAllUsers should return empty array when no users exist","status":"passed","title":"should return empty array when no users exist","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getAllUsers"],"fullName":"Users API getAllUsers should return users with no activity","status":"passed","title":"should return users with no activity","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserByUsername"],"fullName":"Users API getUserByUsername should return user details for admin","status":"passed","title":"should return user details for admin","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserByUsername"],"fullName":"Users API getUserByUsername should return 404 if user not found","status":"passed","title":"should return 404 if user not found","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserByUsername"],"fullName":"Users API getUserByUsername should deny non-admin access","status":"passed","title":"should deny non-admin access","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserDevices"],"fullName":"Users API getUserDevices should return devices for a user","status":"passed","title":"should return devices for a user","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserDevices"],"fullName":"Users API getUserDevices should return 404 if user not found","status":"passed","title":"should return 404 if user not found","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserAlerts"],"fullName":"Users API getUserAlerts should return alerts for a user","status":"passed","title":"should return alerts for a user","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserAlerts"],"fullName":"Users API getUserAlerts should return 404 if user not found","status":"passed","title":"should return 404 if user not found","duration":21,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserFavoriteStocks"],"fullName":"Users API getUserFavoriteStocks should return favorite stocks for a user","status":"passed","title":"should return favorite stocks for a user","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserFavoriteStocks"],"fullName":"Users API getUserFavoriteStocks should return 404 if user not found","status":"passed","title":"should return 404 if user not found","duration":19,"failureMessages":[],"meta":{}}],"startTime":1766232597629,"endTime":1766232598139,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/users.spec.ts"},{"assertionResults":[{"ancestorTitles":["JWT Utilities","generateAccessToken"],"fullName":"JWT Utilities generateAccessToken should generate a valid access token","status":"passed","title":"should generate a valid access token","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","generateAccessToken"],"fullName":"JWT Utilities generateAccessToken should set custom expiration","status":"passed","title":"should set custom expiration","duration":73,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","generateRefreshToken"],"fullName":"JWT Utilities generateRefreshToken should generate a valid refresh token","status":"passed","title":"should generate a valid refresh token","duration":64,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","verifyToken"],"fullName":"JWT Utilities verifyToken should return payload for valid access token","status":"passed","title":"should return payload for valid access token","duration":55,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","verifyToken"],"fullName":"JWT Utilities verifyToken should return payload for valid refresh token","status":"passed","title":"should return payload for valid refresh token","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","verifyToken"],"fullName":"JWT Utilities verifyToken should return null for invalid signature","status":"passed","title":"should return null for invalid signature","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","verifyToken"],"fullName":"JWT Utilities verifyToken should return null for malformed token","status":"passed","title":"should return null for malformed token","duration":58,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","verifyToken"],"fullName":"JWT Utilities verifyToken should return null if token payload is missing required fields","status":"passed","title":"should return null if token payload is missing required fields","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","verifyToken"],"fullName":"JWT Utilities verifyToken should return null if token type is invalid","status":"passed","title":"should return null if token type is invalid","duration":60,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","extractUsernameFromToken"],"fullName":"JWT Utilities extractUsernameFromToken should extract username from valid token string","status":"passed","title":"should extract username from valid token string","duration":97,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","extractUsernameFromToken"],"fullName":"JWT Utilities extractUsernameFromToken should return null for malformed token","status":"passed","title":"should return null for malformed token","duration":82,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","extractUsernameFromToken"],"fullName":"JWT Utilities extractUsernameFromToken should return null if token cannot be decoded","status":"passed","title":"should return null if token cannot be decoded","duration":91,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","extractUserIdFromToken"],"fullName":"JWT Utilities extractUserIdFromToken should extract username (alias)","status":"passed","title":"should extract username (alias)","duration":51,"failureMessages":[],"meta":{}}],"startTime":1766232596500,"endTime":1766232597455,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/auth/jwt.spec.ts"},{"assertionResults":[{"ancestorTitles":["Auth Middleware","authenticateRequest"],"fullName":"Auth Middleware authenticateRequest should authenticate with valid Authorization header","status":"passed","title":"should authenticate with valid Authorization header","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequest"],"fullName":"Auth Middleware authenticateRequest should authenticate with valid access token cookie","status":"passed","title":"should authenticate with valid access token cookie","duration":74,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequest"],"fullName":"Auth Middleware authenticateRequest should fallback to refresh token in header if access token fails and refresh secret provided","status":"passed","title":"should fallback to refresh token in header if access token fails and refresh secret provided","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequest"],"fullName":"Auth Middleware authenticateRequest should fallback to refresh token cookie if access token cookie missing","status":"passed","title":"should fallback to refresh token cookie if access token cookie missing","duration":60,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequest"],"fullName":"Auth Middleware authenticateRequest should return null if no tokens provided","status":"passed","title":"should return null if no tokens provided","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequest"],"fullName":"Auth Middleware authenticateRequest should return null for invalid token","status":"passed","title":"should return null for invalid token","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","isAdmin"],"fullName":"Auth Middleware isAdmin should return true for admin username","status":"passed","title":"should return true for admin username","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","isAdmin"],"fullName":"Auth Middleware isAdmin should return false for other usernames","status":"passed","title":"should return false for other usernames","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequestWithAdmin"],"fullName":"Auth Middleware authenticateRequestWithAdmin should return admin status true for admin user","status":"passed","title":"should return admin status true for admin user","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequestWithAdmin"],"fullName":"Auth Middleware authenticateRequestWithAdmin should return admin status false for normal user","status":"passed","title":"should return admin status false for normal user","duration":72,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","Cookie Helpers"],"fullName":"Auth Middleware Cookie Helpers setHttpOnlyCookie should add Set-Cookie header","status":"passed","title":"setHttpOnlyCookie should add Set-Cookie header","duration":68,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","Cookie Helpers"],"fullName":"Auth Middleware Cookie Helpers clearHttpOnlyCookie should set immediate expiration","status":"passed","title":"clearHttpOnlyCookie should set immediate expiration","duration":93,"failureMessages":[],"meta":{}}],"startTime":1766232596517,"endTime":1766232597345,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/auth/middleware.spec.ts"},{"assertionResults":[{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat accepts valid usernames","status":"passed","title":"accepts valid usernames","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects too short usernames (< 3)","status":"passed","title":"rejects too short usernames (< 3)","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects too long usernames (> 20)","status":"passed","title":"rejects too long usernames (> 20)","duration":78,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects usernames starting with special char","status":"passed","title":"rejects usernames starting with special char","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects usernames ending with special char","status":"passed","title":"rejects usernames ending with special char","duration":76,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects consecutive underscores","status":"passed","title":"rejects consecutive underscores","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects consecutive hyphens","status":"passed","title":"rejects consecutive hyphens","duration":94,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects mixed consecutive special chars","status":"passed","title":"rejects mixed consecutive special chars","duration":80,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects invalid characters","status":"passed","title":"rejects invalid characters","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","isReservedWord"],"fullName":"Username Validation isReservedWord identifies reserved words (case insensitive)","status":"passed","title":"identifies reserved words (case insensitive)","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","isReservedWord"],"fullName":"Username Validation isReservedWord allows non-reserved words","status":"passed","title":"allows non-reserved words","duration":63,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","normalizeUsername"],"fullName":"Username Validation normalizeUsername lowercases and trims","status":"passed","title":"lowercases and trims","duration":67,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsername (Comprehensive)"],"fullName":"Username Validation validateUsername (Comprehensive) returns valid for good username","status":"passed","title":"returns valid for good username","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsername (Comprehensive)"],"fullName":"Username Validation validateUsername (Comprehensive) returns error for reserved word","status":"passed","title":"returns error for reserved word","duration":64,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsername (Comprehensive)"],"fullName":"Username Validation validateUsername (Comprehensive) returns error for invalid format","status":"passed","title":"returns error for invalid format","duration":36,"failureMessages":[],"meta":{}}],"startTime":1766232595916,"endTime":1766232596890,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/auth/username-validation.spec.ts"},{"assertionResults":[{"ancestorTitles":["OpenAPI Contract Validation","Schema Validation"],"fullName":"OpenAPI Contract Validation Schema Validation should validate get-stock response matches OpenAPI schema","status":"passed","title":"should validate get-stock response matches OpenAPI schema","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI Contract Validation","Schema Validation"],"fullName":"OpenAPI Contract Validation Schema Validation should validate get-stocks response matches OpenAPI schema","status":"passed","title":"should validate get-stocks response matches OpenAPI schema","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI Contract Validation","Schema Validation"],"fullName":"OpenAPI Contract Validation Schema Validation should validate error responses match OpenAPI schema","status":"passed","title":"should validate error responses match OpenAPI schema","duration":68,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI Contract Validation","Endpoint Coverage"],"fullName":"OpenAPI Contract Validation Endpoint Coverage should have all endpoints documented in OpenAPI spec","status":"passed","title":"should have all endpoints documented in OpenAPI spec","duration":88,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI Contract Validation","Request/Response Validation"],"fullName":"OpenAPI Contract Validation Request/Response Validation should validate request parameters match OpenAPI spec","status":"passed","title":"should validate request parameters match OpenAPI spec","duration":103,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI Contract Validation","Request/Response Validation"],"fullName":"OpenAPI Contract Validation Request/Response Validation should validate response structure matches OpenAPI spec","status":"passed","title":"should validate response structure matches OpenAPI spec","duration":52,"failureMessages":[],"meta":{}}],"startTime":1766232596814,"endTime":1766232597346,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/contract/openapi-validation.spec.ts"},{"assertionResults":[{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should skip cron if alertsKv is not configured","status":"passed","title":"should skip cron if alertsKv is not configured","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should skip cron if no active alerts found","status":"passed","title":"should skip cron if no active alerts found","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should process alerts and send notifications","status":"passed","title":"should process alerts and send notifications","duration":68,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should handle fetch price failures gracefully","status":"passed","title":"should handle fetch price failures gracefully","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should skip alert with old Expo token","status":"passed","title":"should skip alert with old Expo token","duration":188,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should log failed FCM notifications","status":"passed","title":"should log failed FCM notifications","duration":98,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should handle FCM notification errors","status":"passed","title":"should handle FCM notification errors","duration":296,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should handle multiple alerts","status":"passed","title":"should handle multiple alerts","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should skip when no prices available","status":"passed","title":"should skip when no prices available","duration":149,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should flush pending KV writes","status":"passed","title":"should flush pending KV writes","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should send logs to Loki if configured","status":"passed","title":"should send logs to Loki if configured","duration":53,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should not send logs to Loki if not configured","status":"passed","title":"should not send logs to Loki if not configured","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should handle fatal errors and re-throw","status":"passed","title":"should handle fatal errors and re-throw","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should use default KV write interval if not in config","status":"passed","title":"should use default KV write interval if not in config","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should handle array response from quote API","status":"passed","title":"should handle array response from quote API","duration":29,"failureMessages":[],"meta":{}}],"startTime":1766232596696,"endTime":1766232597881,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/cron/alerts-cron.spec.ts"},{"assertionResults":[{"ancestorTitles":["News Alert Cron Job","User Symbol Collection"],"fullName":"News Alert Cron Job User Symbol Collection should collect unique symbols from all users","status":"passed","title":"should collect unique symbols from all users","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","User Symbol Collection"],"fullName":"News Alert Cron Job User Symbol Collection should normalize symbols to uppercase","status":"passed","title":"should normalize symbols to uppercase","duration":139,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","User Symbol Collection"],"fullName":"News Alert Cron Job User Symbol Collection should skip users with no favorite symbols","status":"passed","title":"should skip users with no favorite symbols","duration":122,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","News Fetching and Filtering"],"fullName":"News Alert Cron Job News Fetching and Filtering should fetch news for all symbols in one batch call","status":"passed","title":"should fetch news for all symbols in one batch call","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","News Fetching and Filtering"],"fullName":"News Alert Cron Job News Fetching and Filtering should only process news published today","status":"passed","title":"should only process news published today","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","News Fetching and Filtering"],"fullName":"News Alert Cron Job News Fetching and Filtering should handle empty news response","status":"passed","title":"should handle empty news response","duration":263,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Deduplication"],"fullName":"News Alert Cron Job Deduplication should not send duplicate notifications for the same article","status":"passed","title":"should not send duplicate notifications for the same article","duration":75,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Deduplication"],"fullName":"News Alert Cron Job Deduplication should mark articles as seen in KV after sending notification","status":"passed","title":"should mark articles as seen in KV after sending notification","duration":89,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Notification Sending"],"fullName":"News Alert Cron Job Notification Sending should send notifications to all users who have the symbol in favorites","status":"passed","title":"should send notifications to all users who have the symbol in favorites","duration":70,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Notification Sending"],"fullName":"News Alert Cron Job Notification Sending should send separate notifications for different symbols","status":"passed","title":"should send separate notifications for different symbols","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Notification Sending"],"fullName":"News Alert Cron Job Notification Sending should not send notifications if user has no push token","status":"passed","title":"should not send notifications if user has no push token","duration":151,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Error Handling"],"fullName":"News Alert Cron Job Error Handling should handle API fetch errors gracefully","status":"passed","title":"should handle API fetch errors gracefully","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Error Handling"],"fullName":"News Alert Cron Job Error Handling should handle network errors gracefully","status":"passed","title":"should handle network errors gracefully","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Error Handling"],"fullName":"News Alert Cron Job Error Handling should skip users with invalid favorite symbols JSON","status":"passed","title":"should skip users with invalid favorite symbols JSON","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Edge Cases"],"fullName":"News Alert Cron Job Edge Cases should handle no users with favorite symbols","status":"passed","title":"should handle no users with favorite symbols","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Edge Cases"],"fullName":"News Alert Cron Job Edge Cases should handle missing alertsKv gracefully","status":"passed","title":"should handle missing alertsKv gracefully","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Complete Use Case Flow"],"fullName":"News Alert Cron Job Complete Use Case Flow should handle the complete use case: 3 PM check with multiple users and symbols","status":"passed","title":"should handle the complete use case: 3 PM check with multiple users and symbols","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Complete Use Case Flow"],"fullName":"News Alert Cron Job Complete Use Case Flow should handle 7 PM check: no duplicate notifications for same articles","status":"passed","title":"should handle 7 PM check: no duplicate notifications for same articles","duration":53,"failureMessages":[],"meta":{}}],"startTime":1766232596146,"endTime":1766232598037,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/cron/news-alert-cron.spec.ts"},{"assertionResults":[{"ancestorTitles":["LoggedD1Database","prepare"],"fullName":"LoggedD1Database prepare should wrap prepared statement","status":"passed","title":"should wrap prepared statement","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","exec"],"fullName":"LoggedD1Database exec should log successful exec operation","status":"passed","title":"should log successful exec operation","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","exec"],"fullName":"LoggedD1Database exec should log failed exec operation","status":"passed","title":"should log failed exec operation","duration":77,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","batch"],"fullName":"LoggedD1Database batch should log successful batch operation","status":"passed","title":"should log successful batch operation","duration":96,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","batch"],"fullName":"LoggedD1Database batch should log failed batch operation","status":"passed","title":"should log failed batch operation","duration":87,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","bind"],"fullName":"LoggedD1Database LoggedD1PreparedStatement bind should chain bind calls","status":"passed","title":"should chain bind calls","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","bind"],"fullName":"LoggedD1Database LoggedD1PreparedStatement bind should support multiple bind calls","status":"passed","title":"should support multiple bind calls","duration":75,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","first"],"fullName":"LoggedD1Database LoggedD1PreparedStatement first should log successful first operation","status":"passed","title":"should log successful first operation","duration":58,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","first"],"fullName":"LoggedD1Database LoggedD1PreparedStatement first should log failed first operation","status":"passed","title":"should log failed first operation","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","all"],"fullName":"LoggedD1Database LoggedD1PreparedStatement all should log successful all operation","status":"passed","title":"should log successful all operation","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","all"],"fullName":"LoggedD1Database LoggedD1PreparedStatement all should log failed all operation","status":"passed","title":"should log failed all operation","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","run"],"fullName":"LoggedD1Database LoggedD1PreparedStatement run should log successful run operation","status":"passed","title":"should log successful run operation","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","run"],"fullName":"LoggedD1Database LoggedD1PreparedStatement run should log failed run operation","status":"passed","title":"should log failed run operation","duration":67,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","latency measurement"],"fullName":"LoggedD1Database LoggedD1PreparedStatement latency measurement should measure latency accurately","status":"passed","title":"should measure latency accurately","duration":150,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","error propagation"],"fullName":"LoggedD1Database LoggedD1PreparedStatement error propagation should re-throw errors after logging","status":"passed","title":"should re-throw errors after logging","duration":78,"failureMessages":[],"meta":{}}],"startTime":1766232595951,"endTime":1766232597398,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/logging/d1-wrapper.spec.ts"},{"assertionResults":[{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should log HIT when value exists (text)","status":"passed","title":"should log HIT when value exists (text)","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should log MISS when value is null (text)","status":"passed","title":"should log MISS when value is null (text)","duration":80,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should log HIT when value exists (json)","status":"passed","title":"should log HIT when value exists (json)","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should log MISS when value is null (json)","status":"passed","title":"should log MISS when value is null (json)","duration":83,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should handle arrayBuffer type","status":"passed","title":"should handle arrayBuffer type","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should handle stream type","status":"passed","title":"should handle stream type","duration":94,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should log failed get operation","status":"passed","title":"should log failed get operation","duration":92,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should measure latency","status":"passed","title":"should measure latency","duration":51,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","put"],"fullName":"LoggedKVNamespace put should log successful put operation","status":"passed","title":"should log successful put operation","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","put"],"fullName":"LoggedKVNamespace put should log put with expiration options","status":"passed","title":"should log put with expiration options","duration":63,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","put"],"fullName":"LoggedKVNamespace put should log failed put operation","status":"passed","title":"should log failed put operation","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","put"],"fullName":"LoggedKVNamespace put should handle ArrayBuffer value","status":"passed","title":"should handle ArrayBuffer value","duration":67,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","delete"],"fullName":"LoggedKVNamespace delete should log successful delete operation","status":"passed","title":"should log successful delete operation","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","delete"],"fullName":"LoggedKVNamespace delete should log failed delete operation","status":"passed","title":"should log failed delete operation","duration":58,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","list"],"fullName":"LoggedKVNamespace list should log successful list operation without options","status":"passed","title":"should log successful list operation without options","duration":70,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","list"],"fullName":"LoggedKVNamespace list should log successful list operation with prefix","status":"passed","title":"should log successful list operation with prefix","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","list"],"fullName":"LoggedKVNamespace list should log successful list operation with limit","status":"passed","title":"should log successful list operation with limit","duration":123,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","list"],"fullName":"LoggedKVNamespace list should log successful list operation with cursor","status":"passed","title":"should log successful list operation with cursor","duration":116,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","list"],"fullName":"LoggedKVNamespace list should log failed list operation","status":"passed","title":"should log failed list operation","duration":93,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","error propagation"],"fullName":"LoggedKVNamespace error propagation should re-throw errors after logging","status":"passed","title":"should re-throw errors after logging","duration":49,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","cache status detection"],"fullName":"LoggedKVNamespace cache status detection should detect HIT for non-null text value","status":"passed","title":"should detect HIT for non-null text value","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","cache status detection"],"fullName":"LoggedKVNamespace cache status detection should detect HIT for non-null json value","status":"passed","title":"should detect HIT for non-null json value","duration":51,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","cache status detection"],"fullName":"LoggedKVNamespace cache status detection should detect MISS for null value","status":"passed","title":"should detect MISS for null value","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","cache status detection"],"fullName":"LoggedKVNamespace cache status detection should use N/A for put operations","status":"passed","title":"should use N/A for put operations","duration":60,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","cache status detection"],"fullName":"LoggedKVNamespace cache status detection should use N/A for delete operations","status":"passed","title":"should use N/A for delete operations","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","cache status detection"],"fullName":"LoggedKVNamespace cache status detection should use N/A for list operations","status":"passed","title":"should use N/A for list operations","duration":31,"failureMessages":[],"meta":{}}],"startTime":1766232595962,"endTime":1766232597792,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/logging/kv-wrapper.spec.ts"},{"assertionResults":[{"ancestorTitles":["Logger","constructor"],"fullName":"Logger constructor should initialize with context","status":"passed","title":"should initialize with context","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","constructor"],"fullName":"Logger constructor should start with empty log buffer","status":"passed","title":"should start with empty log buffer","duration":90,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","debug"],"fullName":"Logger debug should create debug log entry","status":"passed","title":"should create debug log entry","duration":81,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","info"],"fullName":"Logger info should create info log entry","status":"passed","title":"should create info log entry","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","warn"],"fullName":"Logger warn should create warn log entry","status":"passed","title":"should create warn log entry","duration":95,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","error"],"fullName":"Logger error should create error log entry with Error object","status":"passed","title":"should create error log entry with Error object","duration":81,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","error"],"fullName":"Logger error should create error log entry with string error","status":"passed","title":"should create error log entry with string error","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","error"],"fullName":"Logger error should create error log entry without error","status":"passed","title":"should create error log entry without error","duration":56,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logApiCall"],"fullName":"Logger logApiCall should create API call log entry","status":"passed","title":"should create API call log entry","duration":56,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logApiCall"],"fullName":"Logger logApiCall should create API call log entry with partial options","status":"passed","title":"should create API call log entry with partial options","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logDataOperation"],"fullName":"Logger logDataOperation should create D1 operation log entry","status":"passed","title":"should create D1 operation log entry","duration":62,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logDataOperation"],"fullName":"Logger logDataOperation should create KV operation log entry with HIT","status":"passed","title":"should create KV operation log entry with HIT","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logDataOperation"],"fullName":"Logger logDataOperation should create KV operation log entry with MISS","status":"passed","title":"should create KV operation log entry with MISS","duration":57,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logDataOperation"],"fullName":"Logger logDataOperation should create data operation log entry with error","status":"passed","title":"should create data operation log entry with error","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logFCMError"],"fullName":"Logger logFCMError should create FCM error log entry","status":"passed","title":"should create FCM error log entry","duration":73,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","getLogs"],"fullName":"Logger getLogs should return copy of log buffer","status":"passed","title":"should return copy of log buffer","duration":110,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","clearLogs"],"fullName":"Logger clearLogs should clear log buffer","status":"passed","title":"should clear log buffer","duration":89,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","updateContext"],"fullName":"Logger updateContext should update context","status":"passed","title":"should update context","duration":63,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","updateContext"],"fullName":"Logger updateContext should update multiple context fields","status":"passed","title":"should update multiple context fields","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","updateContext"],"fullName":"Logger updateContext should use updated context in new logs","status":"passed","title":"should use updated context in new logs","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","getContext"],"fullName":"Logger getContext should return copy of context","status":"passed","title":"should return copy of context","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","log entry structure"],"fullName":"Logger log entry structure should include all required fields","status":"passed","title":"should include all required fields","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","log entry structure"],"fullName":"Logger log entry structure should handle null userId","status":"passed","title":"should handle null userId","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","log entry structure"],"fullName":"Logger log entry structure should handle undefined userId","status":"passed","title":"should handle undefined userId","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should extract userId from push-token path","status":"passed","title":"should extract userId from push-token path","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should extract userId from preferences path","status":"passed","title":"should extract userId from preferences path","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should extract userId from settings path","status":"passed","title":"should extract userId from settings path","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should extract userId from devices path","status":"passed","title":"should extract userId from devices path","duration":22,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should return null when userId not in path","status":"passed","title":"should return null when userId not in path","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should return null for paths without userId pattern","status":"passed","title":"should return null for paths without userId pattern","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should extract userId from path with query params","status":"passed","title":"should extract userId from path with query params","duration":20,"failureMessages":[],"meta":{}}],"startTime":1766232595877,"endTime":1766232598090,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/logging/logger.spec.ts"},{"assertionResults":[{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should ship logs successfully","status":"passed","title":"should ship logs successfully","duration":49,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should format timestamps as nanoseconds","status":"passed","title":"should format timestamps as nanoseconds","duration":86,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should handle URL with trailing slash","status":"passed","title":"should handle URL with trailing slash","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should include Basic Auth when credentials provided","status":"passed","title":"should include Basic Auth when credentials provided","duration":75,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should not include Auth when credentials not provided","status":"passed","title":"should not include Auth when credentials not provided","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should include custom labels","status":"passed","title":"should include custom labels","duration":96,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should return early if no logs","status":"passed","title":"should return early if no logs","duration":94,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should return early if URL not configured","status":"passed","title":"should return early if URL not configured","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should handle non-200 response","status":"passed","title":"should handle non-200 response","duration":54,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should handle network errors gracefully","status":"passed","title":"should handle network errors gracefully","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should handle fetch text() error","status":"passed","title":"should handle fetch text() error","duration":68,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should format logs correctly with all log types","status":"passed","title":"should format logs correctly with all log types","duration":41,"failureMessages":[],"meta":{}}],"startTime":1766232595905,"endTime":1766232596627,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/logging/loki-shipper.spec.ts"},{"assertionResults":[{"ancestorTitles":["Alerts Flow Integration","Alert Creation to Notification Flow"],"fullName":"Alerts Flow Integration Alert Creation to Notification Flow should complete flow: create alert -> evaluate -> send notification","status":"passed","title":"should complete flow: create alert -> evaluate -> send notification","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alerts Flow Integration","Alert State Management"],"fullName":"Alerts Flow Integration Alert State Management should maintain alert state across evaluations","status":"passed","title":"should maintain alert state across evaluations","duration":61,"failureMessages":[],"meta":{}}],"startTime":1766232596711,"endTime":1766232596841,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/integration/alerts-flow.spec.ts"},{"assertionResults":[{"ancestorTitles":["Authentication Flow Integration","Complete User Onboarding Flow"],"fullName":"Authentication Flow Integration Complete User Onboarding Flow should complete full flow: Google auth -> username check -> username set -> get user","status":"passed","title":"should complete full flow: Google auth -> username check -> username set -> get user","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication Flow Integration","Token Refresh Flow"],"fullName":"Authentication Flow Integration Token Refresh Flow should refresh token and maintain session","status":"passed","title":"should refresh token and maintain session","duration":60,"failureMessages":[],"meta":{}}],"startTime":1766232596708,"endTime":1766232596837,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/integration/auth-flow.spec.ts"},{"assertionResults":[{"ancestorTitles":["Stock Data Flow Integration","Stock Search to Details Flow"],"fullName":"Stock Data Flow Integration Stock Search to Details Flow should complete flow: search -> get stock -> get details","status":"passed","title":"should complete flow: search -> get stock -> get details","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stock Data Flow Integration","Batch Stock Retrieval Flow"],"fullName":"Stock Data Flow Integration Batch Stock Retrieval Flow should retrieve multiple stocks efficiently","status":"passed","title":"should retrieve multiple stocks efficiently","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stock Data Flow Integration","Caching Flow"],"fullName":"Stock Data Flow Integration Caching Flow should cache stock data and serve from cache on subsequent requests","status":"passed","title":"should cache stock data and serve from cache on subsequent requests","duration":26,"failureMessages":[],"meta":{}}],"startTime":1766232597752,"endTime":1766232597910,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/integration/stock-flow.spec.ts"},{"assertionResults":[{"ancestorTitles":["Expo Sender","sendExpoPush"],"fullName":"Expo Sender sendExpoPush should return false for invalid token","status":"passed","title":"should return false for invalid token","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPush"],"fullName":"Expo Sender sendExpoPush should return true on successful send","status":"passed","title":"should return true on successful send","duration":89,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPush"],"fullName":"Expo Sender sendExpoPush should retry on temporary error","status":"passed","title":"should retry on temporary error","duration":244,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPush"],"fullName":"Expo Sender sendExpoPush should return false if all retries fail","status":"passed","title":"should return false if all retries fail","duration":788,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender"],"fullName":"Expo Sender should handle network exception and retry","status":"passed","title":"should handle network exception and retry","duration":303,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender"],"fullName":"Expo Sender should handle malformed JSON response and retry","status":"passed","title":"should handle malformed JSON response and retry","duration":271,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender"],"fullName":"Expo Sender should retry on 429 Too Many Requests","status":"passed","title":"should retry on 429 Too Many Requests","duration":245,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should return Detailed logs on success","status":"passed","title":"should return Detailed logs on success","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should return error info on permanent error (DeviceNotRegistered)","status":"passed","title":"should return error info on permanent error (DeviceNotRegistered)","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle \"Message Too Big\" error","status":"passed","title":"should handle \"Message Too Big\" error","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle \"Invalid Token\" error","status":"passed","title":"should handle \"Invalid Token\" error","duration":21,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle \"Rate Limit\" error from body","status":"passed","title":"should handle \"Rate Limit\" error from body","duration":219,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle HTTP error response parsing","status":"passed","title":"should handle HTTP error response parsing","duration":205,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle permanent HTTP error (401/403 implicit?) actually logic only checks message for permanent","status":"passed","title":"should handle permanent HTTP error (401/403 implicit?) actually logic only checks message for permanent","duration":705,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle JSON parsing error","status":"passed","title":"should handle JSON parsing error","duration":205,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle missing ticket in response","status":"passed","title":"should handle missing ticket in response","duration":705,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushBatch"],"fullName":"Expo Sender sendExpoPushBatch should send multiple messages and assume optimistic success counting based on mock","status":"passed","title":"should send multiple messages and assume optimistic success counting based on mock","duration":2,"failureMessages":[],"meta":{}}],"startTime":1766232595872,"endTime":1766232600114,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/notifications/expo-sender.spec.ts"},{"assertionResults":[{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should reject invalid token format","status":"passed","title":"should reject invalid token format","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should reject null token","status":"passed","title":"should reject null token","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle missing FCM_SERVICE_ACCOUNT","status":"passed","title":"should handle missing FCM_SERVICE_ACCOUNT","duration":68,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle invalid service account JSON","status":"passed","title":"should handle invalid service account JSON","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle JWT generation failure","status":"passed","title":"should handle JWT generation failure","duration":82,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle access token exchange failure","status":"passed","title":"should handle access token exchange failure","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should send notification successfully","status":"passed","title":"should send notification successfully","duration":132,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should retry on temporary errors","status":"passed","title":"should retry on temporary errors","duration":304,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should not retry on permanent errors","status":"passed","title":"should not retry on permanent errors","duration":68,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should log FCM errors","status":"passed","title":"should log FCM errors","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle \"Permission Denied\" error","status":"passed","title":"should handle \"Permission Denied\" error","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle \"Resource Exhausted\" error","status":"passed","title":"should handle \"Resource Exhausted\" error","duration":718,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle invalid JSON response from FCM","status":"passed","title":"should handle invalid JSON response from FCM","duration":707,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should convert data values to strings","status":"passed","title":"should convert data values to strings","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotification"],"fullName":"FCM Sender sendFCMNotification should return true on success","status":"passed","title":"should return true on success","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotification"],"fullName":"FCM Sender sendFCMNotification should return false on failure","status":"passed","title":"should return false on failure","duration":2,"failureMessages":[],"meta":{}}],"startTime":1766232596759,"endTime":1766232599059,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/notifications/fcm-sender.spec.ts"},{"assertionResults":[{"ancestorTitles":["JWT Helper","generateGoogleJWT"],"fullName":"JWT Helper generateGoogleJWT should generate JWT with correct structure","status":"passed","title":"should generate JWT with correct structure","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","generateGoogleJWT"],"fullName":"JWT Helper generateGoogleJWT should include correct header","status":"passed","title":"should include correct header","duration":87,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","generateGoogleJWT"],"fullName":"JWT Helper generateGoogleJWT should include correct payload","status":"passed","title":"should include correct payload","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","generateGoogleJWT"],"fullName":"JWT Helper generateGoogleJWT should use custom scope","status":"passed","title":"should use custom scope","duration":76,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","generateGoogleJWT"],"fullName":"JWT Helper generateGoogleJWT should handle PEM key parsing","status":"passed","title":"should handle PEM key parsing","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","generateGoogleJWT"],"fullName":"JWT Helper generateGoogleJWT should sign with RSASSA-PKCS1-v1_5","status":"passed","title":"should sign with RSASSA-PKCS1-v1_5","duration":89,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","getGoogleAccessTokenFromJWT"],"fullName":"JWT Helper getGoogleAccessTokenFromJWT should exchange JWT for access token","status":"passed","title":"should exchange JWT for access token","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","getGoogleAccessTokenFromJWT"],"fullName":"JWT Helper getGoogleAccessTokenFromJWT should handle non-ok response","status":"passed","title":"should handle non-ok response","duration":82,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","getGoogleAccessTokenFromJWT"],"fullName":"JWT Helper getGoogleAccessTokenFromJWT should handle missing access_token in response","status":"passed","title":"should handle missing access_token in response","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","getGoogleAccessTokenFromJWT"],"fullName":"JWT Helper getGoogleAccessTokenFromJWT should handle network errors","status":"passed","title":"should handle network errors","duration":70,"failureMessages":[],"meta":{}}],"startTime":1766232595900,"endTime":1766232596598,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/notifications/jwt-helper.spec.ts"}]}