{"numTotalTestSuites":383,"numPassedTestSuites":383,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":876,"numPassedTests":869,"numFailedTests":0,"numPendingTests":7,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1767264390413,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["evaluateAlerts"],"fullName":"evaluateAlerts notifies only when direction condition transitions from false to true","status":"passed","title":"notifies only when direction condition transitions from false to true","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["evaluateAlerts"],"fullName":"evaluateAlerts resets state when price falls back below threshold","status":"passed","title":"resets state when price falls back below threshold","duration":94,"failureMessages":[],"meta":{}},{"ancestorTitles":["evaluateAlerts"],"fullName":"evaluateAlerts skips alerts that lack a price","status":"passed","title":"skips alerts that lack a price","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["evaluateAlerts"],"fullName":"evaluateAlerts notifies on significant price change after initial trigger (2% change)","status":"passed","title":"notifies on significant price change after initial trigger (2% change)","duration":98,"failureMessages":[],"meta":{}},{"ancestorTitles":["evaluateAlerts"],"fullName":"evaluateAlerts suppresses notifications during cooldown period","status":"passed","title":"suppresses notifications during cooldown period","duration":99,"failureMessages":[],"meta":{}},{"ancestorTitles":["evaluateAlerts"],"fullName":"evaluateAlerts handles 'below' direction correctly","status":"passed","title":"handles 'below' direction correctly","duration":39,"failureMessages":[],"meta":{}}],"startTime":1767264405665,"endTime":1767264406069,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/alerts-evaluate.spec.ts"},{"assertionResults":[{"ancestorTitles":["alerts handler"],"fullName":"alerts handler lists alerts","status":"passed","title":"lists alerts","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts handler"],"fullName":"alerts handler creates an alert when payload is valid","status":"passed","title":"creates an alert when payload is valid","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts handler"],"fullName":"alerts handler returns 404 when an alert is missing","status":"passed","title":"returns 404 when an alert is missing","duration":18,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts handler"],"fullName":"alerts handler updates alerts via PUT","status":"passed","title":"updates alerts via PUT","duration":14,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts handler"],"fullName":"alerts handler deletes alerts","status":"passed","title":"deletes alerts","duration":18,"failureMessages":[],"meta":{}}],"startTime":1767264408129,"endTime":1767264408236,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/alerts-handler.spec.ts"},{"assertionResults":[{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries lists alerts","status":"passed","title":"lists alerts","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries creates and returns an alert","status":"passed","title":"creates and returns an alert","duration":123,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries throws validation error for invalid data","status":"passed","title":"throws validation error for invalid data","duration":232,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries throws missing data error","status":"passed","title":"throws missing data error","duration":114,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries throws if alert creation cannot be verified","status":"passed","title":"throws if alert creation cannot be verified","duration":127,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries throws if created alert has mismatched username","status":"passed","title":"throws if created alert has mismatched username","duration":83,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries updates alerts with provided fields","status":"passed","title":"updates alerts with provided fields","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries deletes alerts","status":"passed","title":"deletes alerts","duration":100,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries lists active alerts","status":"passed","title":"lists active alerts","duration":85,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries lists all alerts for admin (null username)","status":"passed","title":"lists all alerts for admin (null username)","duration":49,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries throws specific error on unique constraint violation","status":"passed","title":"throws specific error on unique constraint violation","duration":81,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries lists active alerts for specific user","status":"passed","title":"lists active alerts for specific user","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries admin updates alert (null username)","status":"passed","title":"admin updates alert (null username)","duration":86,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries admin deletes alert (null username)","status":"passed","title":"admin deletes alert (null username)","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts storage queries"],"fullName":"alerts storage queries updates all alert fields","status":"passed","title":"updates all alert fields","duration":82,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts state KV"],"fullName":"alerts state KV reads and writes state snapshots","status":"passed","title":"reads and writes state snapshots","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts state KV"],"fullName":"alerts state KV reads state from KV when cache misses","status":"passed","title":"reads state from KV when cache misses","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts state KV"],"fullName":"alerts state KV deletes state","status":"passed","title":"deletes state","duration":55,"failureMessages":[],"meta":{}},{"ancestorTitles":["alerts state KV"],"fullName":"alerts state KV handles JSON parse errors in state gracefully","status":"passed","title":"handles JSON parse errors in state gracefully","duration":31,"failureMessages":[],"meta":{}}],"startTime":1767264405982,"endTime":1767264407510,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/alerts-storage.spec.ts"},{"assertionResults":[{"ancestorTitles":["alert validation"],"fullName":"alert validation validates creation payloads","status":"passed","title":"validates creation payloads","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation validation handles minimal valid payload","status":"passed","title":"validation handles minimal valid payload","duration":106,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation rejects invalid creation payloads","status":"passed","title":"rejects invalid creation payloads","duration":102,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation rejects invalid enum values for creation","status":"passed","title":"rejects invalid enum values for creation","duration":99,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation validates updates","status":"passed","title":"validates updates","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation validates full update success","status":"passed","title":"validates full update success","duration":131,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation validates partial updates","status":"passed","title":"validates partial updates","duration":129,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation validates clearing notes","status":"passed","title":"validates clearing notes","duration":90,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation rejects invalid update values","status":"passed","title":"rejects invalid update values","duration":105,"failureMessages":[],"meta":{}},{"ancestorTitles":["alert validation"],"fullName":"alert validation requires at least one field on update","status":"passed","title":"requires at least one field on update","duration":111,"failureMessages":[],"meta":{}}],"startTime":1767264405710,"endTime":1767264406655,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/alerts-validation.spec.ts"},{"assertionResults":[{"ancestorTitles":["API - Health Check"],"fullName":"API - Health Check GET /v1/api/health returns OK status","status":"passed","title":"GET /v1/api/health returns OK status","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Get Single Stock"],"fullName":"API - Get Single Stock GET /v1/api/get-stock returns stock data with all required fields","status":"passed","title":"GET /v1/api/get-stock returns stock data with all required fields","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Get Single Stock"],"fullName":"API - Get Single Stock GET /v1/api/get-stock returns 400 when symbol is missing","status":"passed","title":"GET /v1/api/get-stock returns 400 when symbol is missing","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Get Multiple Stocks"],"fullName":"API - Get Multiple Stocks GET /v1/api/get-stocks returns array of stocks with all fields","status":"passed","title":"GET /v1/api/get-stocks returns array of stocks with all fields","duration":17,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Get Multiple Stocks"],"fullName":"API - Get Multiple Stocks GET /v1/api/get-stocks returns 400 when symbols parameter is missing","status":"passed","title":"GET /v1/api/get-stocks returns 400 when symbols parameter is missing","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Search Stocks"],"fullName":"API - Search Stocks GET /v1/api/search-stock returns matching stocks","status":"passed","title":"GET /v1/api/search-stock returns matching stocks","duration":9,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Search Stocks"],"fullName":"API - Search Stocks GET /v1/api/search-stock returns empty array when query is missing","status":"passed","title":"GET /v1/api/search-stock returns empty array when query is missing","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Get Historical"],"fullName":"API - Get Historical GET /v1/api/get-historical returns historical data","status":"passed","title":"GET /v1/api/get-historical returns historical data","duration":509,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Get Historical"],"fullName":"API - Get Historical GET /v1/api/get-historical returns 400 when symbol is missing","status":"passed","title":"GET /v1/api/get-historical returns 400 when symbol is missing","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Alerts"],"fullName":"API - Alerts GET /v1/api/alerts lists all alerts","status":"passed","title":"GET /v1/api/alerts lists all alerts","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Alerts"],"fullName":"API - Alerts POST /v1/api/alerts creates a new alert","status":"passed","title":"POST /v1/api/alerts creates a new alert","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Alerts"],"fullName":"API - Alerts GET /v1/api/alerts/:id gets a specific alert","status":"passed","title":"GET /v1/api/alerts/:id gets a specific alert","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Alerts"],"fullName":"API - Alerts PUT /v1/api/alerts/:id updates an alert","status":"passed","title":"PUT /v1/api/alerts/:id updates an alert","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Alerts"],"fullName":"API - Alerts DELETE /v1/api/alerts/:id deletes an alert","status":"passed","title":"DELETE /v1/api/alerts/:id deletes an alert","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token POST /v1/api/push-token registers a new push token","status":"passed","title":"POST /v1/api/push-token registers a new push token","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token POST /v1/api/push-token updates existing push token","status":"passed","title":"POST /v1/api/push-token updates existing push token","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token POST /v1/api/push-token returns 400 for invalid token format","status":"passed","title":"POST /v1/api/push-token returns 400 for invalid token format","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token GET /v1/api/push-token gets a user's push token","status":"passed","title":"GET /v1/api/push-token gets a user's push token","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token GET /v1/api/push-token returns 404 when token not found","status":"passed","title":"GET /v1/api/push-token returns 404 when token not found","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token GET /v1/api/push-token?check=true&token=XXX returns registered status for specific token","status":"passed","title":"GET /v1/api/push-token?check=true&token=XXX returns registered status for specific token","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token GET /v1/api/push-token?check=true&token=XXX returns registered=false when token not found","status":"passed","title":"GET /v1/api/push-token?check=true&token=XXX returns registered=false when token not found","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Push Token"],"fullName":"API - Push Token GET /v1/api/push-token?check=true returns 400 when token parameter missing","status":"passed","title":"GET /v1/api/push-token?check=true returns 400 when token parameter missing","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Preferences"],"fullName":"API - Preferences GET /v1/api/preferences gets user preferences","status":"passed","title":"GET /v1/api/preferences gets user preferences","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Preferences"],"fullName":"API - Preferences GET /v1/api/preferences returns default preferences when not found","status":"passed","title":"GET /v1/api/preferences returns default preferences when not found","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Preferences"],"fullName":"API - Preferences PUT /v1/api/preferences updates user preferences","status":"passed","title":"PUT /v1/api/preferences updates user preferences","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Settings"],"fullName":"API - Settings GET /v1/api/settings gets user settings","status":"passed","title":"GET /v1/api/settings gets user settings","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Settings"],"fullName":"API - Settings GET /v1/api/settings returns default settings when not found","status":"passed","title":"GET /v1/api/settings returns default settings when not found","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Settings"],"fullName":"API - Settings PUT /v1/api/settings updates user settings","status":"passed","title":"PUT /v1/api/settings updates user settings","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Notifications"],"fullName":"API - Notifications GET /v1/api/notifications/recent returns recent notifications","status":"passed","title":"GET /v1/api/notifications/recent returns recent notifications","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Notifications"],"fullName":"API - Notifications GET /v1/api/notifications/failed returns failed notifications","status":"passed","title":"GET /v1/api/notifications/failed returns failed notifications","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Notifications"],"fullName":"API - Notifications POST /v1/api/notifications/retry/:logId retries a failed notification","status":"passed","title":"POST /v1/api/notifications/retry/:logId retries a failed notification","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Devices"],"fullName":"API - Devices GET /v1/api/devices returns all devices","status":"passed","title":"GET /v1/api/devices returns all devices","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Devices"],"fullName":"API - Devices DELETE /v1/api/devices deletes a device","status":"passed","title":"DELETE /v1/api/devices deletes a device","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Admin Config"],"fullName":"API - Admin Config GET /config/get returns admin configuration","status":"passed","title":"GET /config/get returns admin configuration","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Admin Config"],"fullName":"API - Admin Config POST /config/update updates admin configuration","status":"passed","title":"POST /config/update updates admin configuration","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Admin Config"],"fullName":"API - Admin Config POST /v1/api/simulate-provider-failure enables simulation mode","status":"passed","title":"POST /v1/api/simulate-provider-failure enables simulation mode","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - Admin Config"],"fullName":"API - Admin Config POST /v1/api/disable-provider-failure disables simulation mode","status":"passed","title":"POST /v1/api/disable-provider-failure disables simulation mode","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API - OpenAPI"],"fullName":"API - OpenAPI GET /openapi.json returns OpenAPI specification","status":"passed","title":"GET /openapi.json returns OpenAPI specification","duration":4,"failureMessages":[],"meta":{}}],"startTime":1767264408476,"endTime":1767264409218,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api-comprehensive.spec.ts"},{"assertionResults":[{"ancestorTitles":["API Integration - Health Check"],"fullName":"API Integration - Health Check health endpoint returns OK status","status":"passed","title":"health endpoint returns OK status","duration":9,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stock"],"fullName":"API Integration - Get Stock successfully fetches and returns stock data with all required fields","status":"passed","title":"successfully fetches and returns stock data with all required fields","duration":62,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stock"],"fullName":"API Integration - Get Stock returns error when symbol is missing","status":"passed","title":"returns error when symbol is missing","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stock"],"fullName":"API Integration - Get Stock uses cache when available","status":"passed","title":"uses cache when available","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stocks"],"fullName":"API Integration - Get Stocks successfully fetches multiple stocks with all required fields","status":"passed","title":"successfully fetches multiple stocks with all required fields","duration":20,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stocks"],"fullName":"API Integration - Get Stocks returns error when symbols parameter is missing","status":"passed","title":"returns error when symbols parameter is missing","duration":9,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stocks"],"fullName":"API Integration - Get Stocks handles empty symbols list","status":"passed","title":"handles empty symbols list","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Search Stock"],"fullName":"API Integration - Search Stock successfully searches and returns matching stocks","status":"passed","title":"successfully searches and returns matching stocks","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Search Stock"],"fullName":"API Integration - Search Stock returns empty array when query parameter is missing","status":"passed","title":"returns empty array when query parameter is missing","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Historical"],"fullName":"API Integration - Get Historical successfully fetches historical price data","status":"passed","title":"successfully fetches historical price data","duration":1563,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Historical"],"fullName":"API Integration - Get Historical returns error when symbol is missing","status":"passed","title":"returns error when symbol is missing","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Historical"],"fullName":"API Integration - Get Historical validates days parameter","status":"passed","title":"validates days parameter","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Alerts"],"fullName":"API Integration - Alerts successfully lists all alerts","status":"passed","title":"successfully lists all alerts","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Alerts"],"fullName":"API Integration - Alerts successfully creates an alert","status":"passed","title":"successfully creates an alert","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Alerts"],"fullName":"API Integration - Alerts successfully updates an alert","status":"passed","title":"successfully updates an alert","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Alerts"],"fullName":"API Integration - Alerts successfully deletes an alert","status":"passed","title":"successfully deletes an alert","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Alerts"],"fullName":"API Integration - Alerts returns 404 when alert not found","status":"passed","title":"returns 404 when alert not found","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/gainers"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/gainers successfully fetches and returns gainers data","status":"passed","title":"successfully fetches and returns gainers data","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/gainers"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/gainers respects limit parameter","status":"passed","title":"respects limit parameter","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/gainers"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/gainers returns 400 for invalid limit (too low)","status":"passed","title":"returns 400 for invalid limit (too low)","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/gainers"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/gainers returns 400 for invalid limit (too high)","status":"passed","title":"returns 400 for invalid limit (too high)","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/gainers"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/gainers returns 500 when service throws error","status":"passed","title":"returns 500 when service throws error","duration":8,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/losers"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/losers successfully fetches and returns losers data","status":"passed","title":"successfully fetches and returns losers data","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/actives"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/actives successfully fetches and returns actives data","status":"passed","title":"successfully fetches and returns actives data","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener successfully fetches and returns screener data with all required fields","status":"passed","title":"successfully fetches and returns screener data with all required fields","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener uses default parameters when none provided","status":"passed","title":"uses default parameters when none provided","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener respects all custom parameters","status":"passed","title":"respects all custom parameters","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener respects limit parameter","status":"passed","title":"respects limit parameter","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener returns 400 for invalid marketCapMoreThan (negative)","status":"passed","title":"returns 400 for invalid marketCapMoreThan (negative)","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener returns 400 for invalid peLowerThan (negative)","status":"passed","title":"returns 400 for invalid peLowerThan (negative)","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener returns 400 for invalid dividendMoreThan (negative)","status":"passed","title":"returns 400 for invalid dividendMoreThan (negative)","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener returns 400 for invalid limit (too low)","status":"passed","title":"returns 400 for invalid limit (too low)","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener returns 400 for invalid limit (too high)","status":"passed","title":"returns 400 for invalid limit (too high)","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener returns 400 for invalid parameter types","status":"passed","title":"returns 400 for invalid parameter types","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener uses KV cache when available","status":"passed","title":"uses KV cache when available","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener stores result in KV cache after fetch","status":"passed","title":"stores result in KV cache after fetch","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener returns 500 when service throws error","status":"passed","title":"returns 500 when service throws error","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener validates response schema matches MarketResponseSchema","status":"passed","title":"validates response schema matches MarketResponseSchema","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Market Endpoints","GET /v1/api/market/screener"],"fullName":"API Integration - Market Endpoints GET /v1/api/market/screener handles FMP response with missing optional fields","status":"passed","title":"handles FMP response with missing optional fields","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stock Details"],"fullName":"API Integration - Get Stock Details getStockDetails returns profile with beta field when available","status":"passed","title":"getStockDetails returns profile with beta field when available","duration":22,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Integration - Get Stock Details"],"fullName":"API Integration - Get Stock Details getStockDetails handles missing beta field gracefully","status":"passed","title":"getStockDetails handles missing beta field gracefully","duration":8,"failureMessages":[],"meta":{}}],"startTime":1767264408352,"endTime":1767264410222,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api-integration.spec.ts"},{"assertionResults":[{"ancestorTitles":["API Schema Validation - Health Check"],"fullName":"API Schema Validation - Health Check health endpoint returns valid HealthCheckResponse schema","status":"passed","title":"health endpoint returns valid HealthCheckResponse schema","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Get Stock"],"fullName":"API Schema Validation - Get Stock getStock returns valid StockQuoteResponse schema on success","status":"passed","title":"getStock returns valid StockQuoteResponse schema on success","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Get Stock"],"fullName":"API Schema Validation - Get Stock getStock returns valid ErrorResponse schema on error","status":"passed","title":"getStock returns valid ErrorResponse schema on error","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Get Stocks"],"fullName":"API Schema Validation - Get Stocks getStocks returns valid StockQuotesResponse schema on success","status":"passed","title":"getStocks returns valid StockQuotesResponse schema on success","duration":13,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Get Stocks"],"fullName":"API Schema Validation - Get Stocks getStocks returns valid ErrorResponse schema on error","status":"passed","title":"getStocks returns valid ErrorResponse schema on error","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Search Stock"],"fullName":"API Schema Validation - Search Stock searchStock returns valid SearchStockResponse schema","status":"passed","title":"searchStock returns valid SearchStockResponse schema","duration":10,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Get Historical"],"fullName":"API Schema Validation - Get Historical getHistorical returns valid HistoricalPricesResponse schema","status":"passed","title":"getHistorical returns valid HistoricalPricesResponse schema","duration":1045,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Get Historical"],"fullName":"API Schema Validation - Get Historical getHistorical returns valid ErrorResponse schema on error","status":"passed","title":"getHistorical returns valid ErrorResponse schema on error","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Alerts"],"fullName":"API Schema Validation - Alerts listAlerts returns valid AlertsListResponse schema","status":"passed","title":"listAlerts returns valid AlertsListResponse schema","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Alerts"],"fullName":"API Schema Validation - Alerts createAlert accepts valid CreateAlertRequest schema","status":"passed","title":"createAlert accepts valid CreateAlertRequest schema","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Alerts"],"fullName":"API Schema Validation - Alerts updateAlert accepts valid UpdateAlertRequest schema","status":"passed","title":"updateAlert accepts valid UpdateAlertRequest schema","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Alerts"],"fullName":"API Schema Validation - Alerts getAlert returns valid Alert schema","status":"passed","title":"getAlert returns valid Alert schema","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Input Validation"],"fullName":"API Schema Validation - Input Validation rejects invalid CreateAlertRequest","status":"passed","title":"rejects invalid CreateAlertRequest","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Input Validation"],"fullName":"API Schema Validation - Input Validation accepts valid CreateAlertRequest with optional fields","status":"passed","title":"accepts valid CreateAlertRequest with optional fields","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Input Validation"],"fullName":"API Schema Validation - Input Validation rejects invalid UpdateAlertRequest","status":"passed","title":"rejects invalid UpdateAlertRequest","duration":1,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Schema Validation - Input Validation"],"fullName":"API Schema Validation - Input Validation accepts partial UpdateAlertRequest","status":"passed","title":"accepts partial UpdateAlertRequest","duration":2,"failureMessages":[],"meta":{}}],"startTime":1767264408423,"endTime":1767264409575,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api-schema-validation.spec.ts"},{"assertionResults":[{"ancestorTitles":["cache helpers"],"fullName":"cache helpers returns cached entries while TTL is valid","status":"passed","title":"returns cached entries while TTL is valid","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["cache helpers"],"fullName":"cache helpers expires entries once TTL elapses","status":"passed","title":"expires entries once TTL elapses","duration":94,"failureMessages":[],"meta":{}}],"startTime":1767264405648,"endTime":1767264405785,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/cache.spec.ts"},{"assertionResults":[{"ancestorTitles":["Config System","getConfig"],"fullName":"Config System getConfig returns default config when KV is not available","status":"passed","title":"returns default config when KV is not available","duration":54,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","getConfig"],"fullName":"Config System getConfig returns default config when no stored config exists","status":"passed","title":"returns default config when no stored config exists","duration":147,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","getConfig"],"fullName":"Config System getConfig returns stored config when available","status":"passed","title":"returns stored config when available","duration":126,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","getConfig"],"fullName":"Config System getConfig merges partial stored config with defaults","status":"passed","title":"merges partial stored config with defaults","duration":89,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","updateConfig"],"fullName":"Config System updateConfig updates config with new values","status":"passed","title":"updates config with new values","duration":105,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","updateConfig"],"fullName":"Config System updateConfig merges nested objects correctly","status":"passed","title":"merges nested objects correctly","duration":95,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","simulateProviderFailureEndpoint"],"fullName":"Config System simulateProviderFailureEndpoint enables simulation mode","status":"passed","title":"enables simulation mode","duration":93,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","simulateProviderFailureEndpoint"],"fullName":"Config System simulateProviderFailureEndpoint persists the config change","status":"passed","title":"persists the config change","duration":79,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","disableProviderFailureEndpoint"],"fullName":"Config System disableProviderFailureEndpoint disables simulation mode","status":"passed","title":"disables simulation mode","duration":83,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","disableProviderFailureEndpoint"],"fullName":"Config System disableProviderFailureEndpoint persists the config change","status":"passed","title":"persists the config change","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","Error Handling"],"fullName":"Config System Error Handling getConfig catches errors and returns default","status":"passed","title":"getConfig catches errors and returns default","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","Error Handling"],"fullName":"Config System Error Handling updateConfig throws on error","status":"passed","title":"updateConfig throws on error","duration":58,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config System","Error Handling"],"fullName":"Config System Error Handling updateConfig warns when KV is missing","status":"passed","title":"updateConfig warns when KV is missing","duration":34,"failureMessages":[],"meta":{}}],"startTime":1767264406080,"endTime":1767264407398,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/config.spec.ts"},{"assertionResults":[{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should return list of devices","status":"passed","title":"should return list of devices","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should return empty array when no devices","status":"passed","title":"should return empty array when no devices","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should handle database errors","status":"passed","title":"should handle database errors","duration":58,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should send test notification successfully","status":"passed","title":"should send test notification successfully","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should use default message when no custom message provided","status":"passed","title":"should use default message when no custom message provided","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 404 when device not found","status":"passed","title":"should return 404 when device not found","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 400 when userId is missing","status":"passed","title":"should return 400 when userId is missing","duration":53,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 405 for non-POST methods","status":"passed","title":"should return 405 for non-POST methods","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should handle FCM send failures","status":"passed","title":"should handle FCM send failures","duration":33,"failureMessages":[],"meta":{}}],"startTime":1767264407394,"endTime":1767264407793,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/devices.spec.ts"},{"assertionResults":[{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-stock","status":"passed","title":"delegates /get-stock","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-stocks","status":"passed","title":"delegates /get-stocks","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-news","status":"passed","title":"delegates /get-news","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /news/general","status":"passed","title":"delegates /news/general","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /news/favorites","status":"passed","title":"delegates /news/favorites","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-stock-news","status":"passed","title":"delegates /get-stock-news","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /search-stock","status":"passed","title":"delegates /search-stock","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-historical","status":"passed","title":"delegates /get-historical","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /get-historical-intraday","status":"passed","title":"delegates /get-historical-intraday","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /health","status":"passed","title":"delegates /health","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /openapi.json","status":"passed","title":"delegates /openapi.json","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /alerts prefix","status":"passed","title":"delegates /alerts prefix","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /push-token GET","status":"passed","title":"delegates /push-token GET","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /push-token POST","status":"passed","title":"delegates /push-token POST","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /preferences GET","status":"passed","title":"delegates /preferences GET","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /preferences PUT","status":"passed","title":"delegates /preferences PUT","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /settings GET","status":"passed","title":"delegates /settings GET","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /settings PUT","status":"passed","title":"delegates /settings PUT","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /users/preferences/update","status":"passed","title":"delegates /users/preferences/update","duration":1,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /news/archive GET","status":"passed","title":"delegates /news/archive GET","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /news/archive/:id POST","status":"passed","title":"delegates /news/archive/:id POST","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /favorite-stocks GET","status":"passed","title":"delegates /favorite-stocks GET","duration":1,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /favorite-stocks POST","status":"passed","title":"delegates /favorite-stocks POST","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /favorite-stocks ALL (moved to /v1/api/users/all)","status":"skipped","title":"delegates /favorite-stocks ALL (moved to /v1/api/users/all)","failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /users/all","status":"passed","title":"delegates /users/all","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /favorite-stocks/:symbol DELETE","status":"passed","title":"delegates /favorite-stocks/:symbol DELETE","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /notifications/recent","status":"passed","title":"delegates /notifications/recent","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /notifications/failed","status":"passed","title":"delegates /notifications/failed","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /notifications/retry/:id","status":"passed","title":"delegates /notifications/retry/:id","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /devices GET","status":"passed","title":"delegates /devices GET","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /devices DELETE","status":"passed","title":"delegates /devices DELETE","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /devices/test POST","status":"passed","title":"delegates /devices/test POST","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /config/get","status":"passed","title":"delegates /config/get","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /config/update","status":"passed","title":"delegates /config/update","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /simulate-provider-failure","status":"passed","title":"delegates /simulate-provider-failure","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /disable-provider-failure","status":"passed","title":"delegates /disable-provider-failure","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /auth/google","status":"passed","title":"delegates /auth/google","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /auth/username/check","status":"passed","title":"delegates /auth/username/check","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /auth/username","status":"passed","title":"delegates /auth/username","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /auth/refresh","status":"passed","title":"delegates /auth/refresh","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /auth/me","status":"passed","title":"delegates /auth/me","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router delegates /auth/logout","status":"passed","title":"delegates /auth/logout","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router returns 404 for unknown routes","status":"passed","title":"returns 404 for unknown routes","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router"],"fullName":"worker router handles CORS OPTIONS request","status":"passed","title":"handles CORS OPTIONS request","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events runs alerts cron on correct schedule","status":"passed","title":"runs alerts cron on correct schedule","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events runs news alerts cron on correct schedule","status":"passed","title":"runs news alerts cron on correct schedule","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events skips cron jobs when outside working hours","status":"passed","title":"skips cron jobs when outside working hours","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events runs cron jobs when within working hours","status":"passed","title":"runs cron jobs when within working hours","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events handles unhandled errors","status":"passed","title":"handles unhandled errors","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events ships logs if LOKI_URL is present","status":"passed","title":"ships logs if LOKI_URL is present","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events handles CORS requests with specific headers","status":"passed","title":"handles CORS requests with specific headers","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events ships logs on OPTIONS request if LOKI_URL is present","status":"passed","title":"ships logs on OPTIONS request if LOKI_URL is present","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["worker router","Scheduled events"],"fullName":"worker router Scheduled events returns 405 for invalid method on retry notification","status":"passed","title":"returns 405 for invalid method on retry notification","duration":2,"failureMessages":[],"meta":{}}],"startTime":1767264408673,"endTime":1767264408819,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/index.spec.ts"},{"assertionResults":[{"ancestorTitles":["json utility"],"fullName":"json utility serializes payload into a JSON Response","status":"passed","title":"serializes payload into a JSON Response","duration":51,"failureMessages":[],"meta":{}},{"ancestorTitles":["json utility"],"fullName":"json utility allows overriding the status code","status":"passed","title":"allows overriding the status code","duration":86,"failureMessages":[],"meta":{}},{"ancestorTitles":["CORS headers"],"fullName":"CORS headers returns wildcard for unknown origin","status":"passed","title":"returns wildcard for unknown origin","duration":92,"failureMessages":[],"meta":{}},{"ancestorTitles":["CORS headers"],"fullName":"CORS headers returns specific origin for allowed domain","status":"passed","title":"returns specific origin for allowed domain","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["CORS headers"],"fullName":"CORS headers allows localhost","status":"passed","title":"allows localhost","duration":103,"failureMessages":[],"meta":{}},{"ancestorTitles":["CORS headers"],"fullName":"CORS headers allows localhost with random port","status":"passed","title":"allows localhost with random port","duration":126,"failureMessages":[],"meta":{}},{"ancestorTitles":["CORS headers"],"fullName":"CORS headers falls back to * if origin not allowed","status":"passed","title":"falls back to * if origin not allowed","duration":117,"failureMessages":[],"meta":{}}],"startTime":1767264405625,"endTime":1767264406281,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/util.spec.ts"},{"assertionResults":[{"ancestorTitles":["Alert State Cache","getCachedState"],"fullName":"Alert State Cache getCachedState should return null when state not cached","status":"passed","title":"should return null when state not cached","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","getCachedState"],"fullName":"Alert State Cache getCachedState should return cached state","status":"passed","title":"should return cached state","duration":95,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","updateStateInCache"],"fullName":"Alert State Cache updateStateInCache should update state in cache","status":"passed","title":"should update state in cache","duration":96,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","updateStateInCache"],"fullName":"Alert State Cache updateStateInCache should queue state for KV write","status":"passed","title":"should queue state for KV write","duration":98,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","loadAllStatesFromKV"],"fullName":"Alert State Cache loadAllStatesFromKV should load states from KV","status":"passed","title":"should load states from KV","duration":142,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","loadAllStatesFromKV"],"fullName":"Alert State Cache loadAllStatesFromKV should cache loaded states in memory","status":"passed","title":"should cache loaded states in memory","duration":130,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","loadAllStatesFromKV"],"fullName":"Alert State Cache loadAllStatesFromKV should return cached data if cache is fresh","status":"passed","title":"should return cached data if cache is fresh","duration":213,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","loadAllStatesFromKV"],"fullName":"Alert State Cache loadAllStatesFromKV should handle missing states","status":"passed","title":"should handle missing states","duration":91,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","loadAllStatesFromKV"],"fullName":"Alert State Cache loadAllStatesFromKV should handle invalid JSON","status":"passed","title":"should handle invalid JSON","duration":108,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","loadAllStatesFromKV"],"fullName":"Alert State Cache loadAllStatesFromKV should handle KV read errors","status":"passed","title":"should handle KV read errors","duration":102,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","flushPendingWritesToKV"],"fullName":"Alert State Cache flushPendingWritesToKV should write pending states to KV","status":"passed","title":"should write pending states to KV","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","flushPendingWritesToKV"],"fullName":"Alert State Cache flushPendingWritesToKV should batch multiple writes","status":"passed","title":"should batch multiple writes","duration":97,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","flushPendingWritesToKV"],"fullName":"Alert State Cache flushPendingWritesToKV should not write if interval has not passed","status":"passed","title":"should not write if interval has not passed","duration":85,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","flushPendingWritesToKV"],"fullName":"Alert State Cache flushPendingWritesToKV should write if interval has passed","status":"passed","title":"should write if interval has passed","duration":50,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","flushPendingWritesToKV"],"fullName":"Alert State Cache flushPendingWritesToKV should handle KV write errors gracefully","status":"passed","title":"should handle KV write errors gracefully","duration":145,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","flushPendingWritesToKV"],"fullName":"Alert State Cache flushPendingWritesToKV should return early if no pending writes","status":"passed","title":"should return early if no pending writes","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","invalidateState"],"fullName":"Alert State Cache invalidateState should remove state from cache and pending writes","status":"passed","title":"should remove state from cache and pending writes","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","clearCache"],"fullName":"Alert State Cache clearCache should clear all cached states","status":"passed","title":"should clear all cached states","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert State Cache","getCacheStats"],"fullName":"Alert State Cache getCacheStats should return cache statistics","status":"passed","title":"should return cache statistics","duration":36,"failureMessages":[],"meta":{}}],"startTime":1767264405671,"endTime":1767264407672,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/alerts/state-cache.spec.ts"},{"assertionResults":[{"ancestorTitles":["Admin API","getRecentNotifications"],"fullName":"Admin API getRecentNotifications should return recent notifications","status":"passed","title":"should return recent notifications","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getRecentNotifications"],"fullName":"Admin API getRecentNotifications should return empty array when no notifications","status":"passed","title":"should return empty array when no notifications","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getRecentNotifications"],"fullName":"Admin API getRecentNotifications should handle database errors","status":"passed","title":"should handle database errors","duration":58,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getRecentNotifications"],"fullName":"Admin API getRecentNotifications should limit to 100 notifications","status":"passed","title":"should limit to 100 notifications","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getRecentNotifications"],"fullName":"Admin API getRecentNotifications should order by sent_at DESC","status":"passed","title":"should order by sent_at DESC","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFailedNotifications"],"fullName":"Admin API getFailedNotifications should return only failed notifications","status":"passed","title":"should return only failed notifications","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFailedNotifications"],"fullName":"Admin API getFailedNotifications should return empty array when no failed notifications","status":"passed","title":"should return empty array when no failed notifications","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFailedNotifications"],"fullName":"Admin API getFailedNotifications should handle database errors","status":"passed","title":"should handle database errors","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFilteredNotifications"],"fullName":"Admin API getFilteredNotifications should return filtered notifications","status":"passed","title":"should return filtered notifications","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFilteredNotifications"],"fullName":"Admin API getFilteredNotifications should filter by date range","status":"passed","title":"should filter by date range","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFilteredNotifications"],"fullName":"Admin API getFilteredNotifications should fail if env not provided","status":"passed","title":"should fail if env not provided","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","getFilteredNotifications"],"fullName":"Admin API getFilteredNotifications should handle db errors","status":"passed","title":"should handle db errors","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","retryNotification"],"fullName":"Admin API retryNotification should retry failed notification successfully","status":"passed","title":"should retry failed notification successfully","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","retryNotification"],"fullName":"Admin API retryNotification should return 404 when log not found","status":"passed","title":"should return 404 when log not found","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","retryNotification"],"fullName":"Admin API retryNotification should handle retry failure","status":"passed","title":"should handle retry failure","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","retryNotification"],"fullName":"Admin API retryNotification should create new log entry with attempt count 1","status":"passed","title":"should create new log entry with attempt count 1","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","retryNotification"],"fullName":"Admin API retryNotification should handle database errors during retry","status":"passed","title":"should handle database errors during retry","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API","retryNotification"],"fullName":"Admin API retryNotification should handle FCM send errors","status":"passed","title":"should handle FCM send errors","duration":25,"failureMessages":[],"meta":{}}],"startTime":1767264407385,"endTime":1767264408131,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/admin.spec.ts"},{"assertionResults":[{"ancestorTitles":["Auth API","handleGoogleAuth"],"fullName":"Auth API handleGoogleAuth should return 405 for non-POST requests","status":"passed","title":"should return 405 for non-POST requests","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","handleGoogleAuth"],"fullName":"Auth API handleGoogleAuth should return error if idToken is missing","status":"passed","title":"should return error if idToken is missing","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","handleGoogleAuth"],"fullName":"Auth API handleGoogleAuth should authenticate existing user","status":"passed","title":"should authenticate existing user","duration":48,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","handleGoogleAuth"],"fullName":"Auth API handleGoogleAuth should create new user if not found","status":"passed","title":"should create new user if not found","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","handleGoogleAuth"],"fullName":"Auth API handleGoogleAuth should return 401 if Google token verification fails","status":"passed","title":"should return 401 if Google token verification fails","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","handleGoogleAuth"],"fullName":"Auth API handleGoogleAuth should return 500 on DB error during user lookup","status":"passed","title":"should return 500 on DB error during user lookup","duration":50,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","checkUsernameAvailability"],"fullName":"Auth API checkUsernameAvailability should return available true if username not taken","status":"passed","title":"should return available true if username not taken","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","checkUsernameAvailability"],"fullName":"Auth API checkUsernameAvailability should return available false if username taken","status":"passed","title":"should return available false if username taken","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","checkUsernameAvailability"],"fullName":"Auth API checkUsernameAvailability should return error for invalid format","status":"passed","title":"should return error for invalid format","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","checkUsernameAvailability"],"fullName":"Auth API checkUsernameAvailability should return 500 on DB error","status":"passed","title":"should return 500 on DB error","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","setUsername"],"fullName":"Auth API setUsername should set username using idToken flow (new user)","status":"passed","title":"should set username using idToken flow (new user)","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","setUsername"],"fullName":"Auth API setUsername should handle UNIQUE constraint violation","status":"passed","title":"should handle UNIQUE constraint violation","duration":21,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","setUsername"],"fullName":"Auth API setUsername should handle race condition (changes=0)","status":"passed","title":"should handle race condition (changes=0)","duration":15,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","setUsername"],"fullName":"Auth API setUsername should return 500 if updated user cannot be fetched","status":"passed","title":"should return 500 if updated user cannot be fetched","duration":12,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","setUsername"],"fullName":"Auth API setUsername should return 400 if user already has username","status":"passed","title":"should return 400 if user already has username","duration":13,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","refreshToken"],"fullName":"Auth API refreshToken should return 405 for non-POST requests","status":"passed","title":"should return 405 for non-POST requests","duration":8,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","refreshToken"],"fullName":"Auth API refreshToken should extract token from cookie","status":"passed","title":"should extract token from cookie","duration":8,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","refreshToken"],"fullName":"Auth API refreshToken should extract token from body (mobile)","status":"passed","title":"should extract token from body (mobile)","duration":11,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","refreshToken"],"fullName":"Auth API refreshToken should return 400 if token missing","status":"passed","title":"should return 400 if token missing","duration":8,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","refreshToken"],"fullName":"Auth API refreshToken should return 401 if token invalid","status":"passed","title":"should return 401 if token invalid","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","getCurrentUser"],"fullName":"Auth API getCurrentUser should return 405 for non-GET requests","status":"passed","title":"should return 405 for non-GET requests","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","getCurrentUser"],"fullName":"Auth API getCurrentUser should return 401 if not authenticated","status":"passed","title":"should return 401 if not authenticated","duration":14,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","getCurrentUser"],"fullName":"Auth API getCurrentUser should return user info if authenticated","status":"passed","title":"should return user info if authenticated","duration":9,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","getCurrentUser"],"fullName":"Auth API getCurrentUser should return 404 if user not found in DB","status":"passed","title":"should return 404 if user not found in DB","duration":11,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","logout"],"fullName":"Auth API logout should return 405 for non-POST requests","status":"passed","title":"should return 405 for non-POST requests","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API","logout"],"fullName":"Auth API logout should clear cookies and log event","status":"passed","title":"should clear cookies and log event","duration":11,"failureMessages":[],"meta":{}}],"startTime":1767264407744,"endTime":1767264408367,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/auth.spec.ts"},{"assertionResults":[{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should return devices for regular user","status":"passed","title":"should return devices for regular user","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should return all devices for admin user","status":"passed","title":"should return all devices for admin user","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should handle missing device_type column gracefully","status":"passed","title":"should handle missing device_type column gracefully","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should handle missing username column gracefully","status":"passed","title":"should handle missing username column gracefully","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should return empty array when no devices found","status":"passed","title":"should return empty array when no devices found","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should return 401 when authentication fails","status":"passed","title":"should return 401 when authentication fails","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","getAllDevices"],"fullName":"Devices API getAllDevices should log warning when devices have null username","status":"passed","title":"should log warning when devices have null username","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should delete device for regular user","status":"passed","title":"should delete device for regular user","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should allow admin to delete any device","status":"passed","title":"should allow admin to delete any device","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should return 403 when user tries to delete another user's device","status":"passed","title":"should return 403 when user tries to delete another user's device","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should return 400 when pushToken is missing","status":"passed","title":"should return 400 when pushToken is missing","duration":23,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should return 404 when device not found","status":"passed","title":"should return 404 when device not found","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should return 401 when authentication fails","status":"passed","title":"should return 401 when authentication fails","duration":15,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","deleteDevice"],"fullName":"Devices API deleteDevice should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":13,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should send test notification successfully","status":"passed","title":"should send test notification successfully","duration":13,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should use default message when not provided","status":"passed","title":"should use default message when not provided","duration":9,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 405 for non-POST requests","status":"passed","title":"should return 405 for non-POST requests","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 400 when pushToken is missing","status":"passed","title":"should return 400 when pushToken is missing","duration":10,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 404 when user not found","status":"passed","title":"should return 404 when user not found","duration":9,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 404 when device not found","status":"passed","title":"should return 404 when device not found","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 500 when FCM notification fails","status":"passed","title":"should return 500 when FCM notification fails","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should return 401 when authentication fails","status":"passed","title":"should return 401 when authentication fails","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should handle invalid JSON body gracefully","status":"passed","title":"should handle invalid JSON body gracefully","duration":14,"failureMessages":[],"meta":{}},{"ancestorTitles":["Devices API","sendTestNotification"],"fullName":"Devices API sendTestNotification should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":8,"failureMessages":[],"meta":{}}],"startTime":1767264407727,"endTime":1767264408330,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/devices.spec.ts"},{"assertionResults":[{"ancestorTitles":["News Archive API","getArchivedNews"],"fullName":"News Archive API getArchivedNews should return archived news for authenticated user","status":"passed","title":"should return archived news for authenticated user","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Archive API","getArchivedNews"],"fullName":"News Archive API getArchivedNews should handle pagination correctly","status":"passed","title":"should handle pagination correctly","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Archive API","toggleArchivedNews"],"fullName":"News Archive API toggleArchivedNews should save article to archive","status":"passed","title":"should save article to archive","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Archive API","toggleArchivedNews"],"fullName":"News Archive API toggleArchivedNews should remove article from archive if already saved","status":"passed","title":"should remove article from archive if already saved","duration":32,"failureMessages":[],"meta":{}}],"startTime":1767264407334,"endTime":1767264407525,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/news-archive.spec.ts"},{"assertionResults":[{"ancestorTitles":["Preferences API","getPreferences"],"fullName":"Preferences API getPreferences should return preferences for authenticated user","status":"passed","title":"should return preferences for authenticated user","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","getPreferences"],"fullName":"Preferences API getPreferences should return 404 if user not found (getPreferences)","status":"passed","title":"should return 404 if user not found (getPreferences)","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","getPreferences"],"fullName":"Preferences API getPreferences should return default preferences if none exist","status":"passed","title":"should return default preferences if none exist","duration":69,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should update preferences for authenticated user","status":"passed","title":"should update preferences for authenticated user","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should create preferences if they don't exist","status":"passed","title":"should create preferences if they don't exist","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should validate quiet hours format","status":"passed","title":"should validate quiet hours format","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should return 400 for invalid quietStart type","status":"passed","title":"should return 400 for invalid quietStart type","duration":52,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should return 400 for invalid quietEnd type","status":"passed","title":"should return 400 for invalid quietEnd type","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should return 400 for invalid enabled type","status":"passed","title":"should return 400 for invalid enabled type","duration":58,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should return 400 for invalid maxDaily","status":"passed","title":"should return 400 for invalid maxDaily","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should return 400 for invalid allowedSymbols","status":"passed","title":"should return 400 for invalid allowedSymbols","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Preferences API","updatePreferences"],"fullName":"Preferences API updatePreferences should return 500 on DB error","status":"passed","title":"should return 500 on DB error","duration":32,"failureMessages":[],"meta":{}}],"startTime":1767264407283,"endTime":1767264407813,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/preferences.spec.ts"},{"assertionResults":[{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should register new push token","status":"passed","title":"should register new push token","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should update existing push token","status":"passed","title":"should update existing push token","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should reassign token to new user if different user","status":"passed","title":"should reassign token to new user if different user","duration":105,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should validate token format","status":"passed","title":"should validate token format","duration":78,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should reject Expo tokens","status":"passed","title":"should reject Expo tokens","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should reject short FCM tokens","status":"passed","title":"should reject short FCM tokens","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should normalize deviceType from info","status":"passed","title":"should normalize deviceType from info","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","registerPushToken"],"fullName":"Push Token API registerPushToken should return 500 on DB error","status":"passed","title":"should return 500 on DB error","duration":64,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return push tokens for authenticated user","status":"passed","title":"should return push tokens for authenticated user","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return 404 if user not found","status":"passed","title":"should return 404 if user not found","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return 404 if no tokens found","status":"passed","title":"should return 404 if no tokens found","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return 500 on DB error","status":"passed","title":"should return 500 on DB error","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should handle legacy schema (no device_type column)","status":"passed","title":"should handle legacy schema (no device_type column)","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return registered=true when token is registered for user (check mode)","status":"passed","title":"should return registered=true when token is registered for user (check mode)","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return registered=false when token is not registered for user (check mode)","status":"passed","title":"should return registered=false when token is not registered for user (check mode)","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return 400 when check=true but token parameter is missing","status":"passed","title":"should return 400 when check=true but token parameter is missing","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Push Token API","getPushToken"],"fullName":"Push Token API getPushToken should return registered=false when token belongs to different user (check mode)","status":"passed","title":"should return registered=false when token belongs to different user (check mode)","duration":30,"failureMessages":[],"meta":{}}],"startTime":1767264407341,"endTime":1767264408106,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/push-token.spec.ts"},{"assertionResults":[{"ancestorTitles":["Settings API","getSettings"],"fullName":"Settings API getSettings should return settings for authenticated user","status":"passed","title":"should return settings for authenticated user","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["Settings API","getSettings"],"fullName":"Settings API getSettings should return default settings if none exist","status":"passed","title":"should return default settings if none exist","duration":58,"failureMessages":[],"meta":{}},{"ancestorTitles":["Settings API","updateSettings"],"fullName":"Settings API updateSettings should update settings for authenticated user","status":"passed","title":"should update settings for authenticated user","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Settings API","updateSettings"],"fullName":"Settings API updateSettings should create settings if they don't exist","status":"passed","title":"should create settings if they don't exist","duration":50,"failureMessages":[],"meta":{}},{"ancestorTitles":["Settings API","updateSettings"],"fullName":"Settings API updateSettings should return 400 for invalid refreshIntervalMinutes","status":"passed","title":"should return 400 for invalid refreshIntervalMinutes","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Settings API","updateSettings"],"fullName":"Settings API updateSettings should return 500 on DB error during update","status":"passed","title":"should return 500 on DB error during update","duration":41,"failureMessages":[],"meta":{}}],"startTime":1767264407368,"endTime":1767264407646,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/settings.spec.ts"},{"assertionResults":[{"ancestorTitles":["Throttle Cache","isThrottled"],"fullName":"Throttle Cache isThrottled should return false if key is not throttled","status":"passed","title":"should return false if key is not throttled","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","isThrottled"],"fullName":"Throttle Cache isThrottled should return true if key was recently throttled","status":"passed","title":"should return true if key was recently throttled","duration":103,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","isThrottled"],"fullName":"Throttle Cache isThrottled should return false if throttle window has expired","status":"passed","title":"should return false if throttle window has expired","duration":99,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","isThrottled"],"fullName":"Throttle Cache isThrottled should return true if within throttle window","status":"passed","title":"should return true if within throttle window","duration":95,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","isThrottled"],"fullName":"Throttle Cache isThrottled should handle multiple keys independently","status":"passed","title":"should handle multiple keys independently","duration":125,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","markThrottled"],"fullName":"Throttle Cache markThrottled should mark a key as throttled","status":"passed","title":"should mark a key as throttled","duration":60,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","markThrottled"],"fullName":"Throttle Cache markThrottled should update throttle timestamp when called again","status":"passed","title":"should update throttle timestamp when called again","duration":113,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","markThrottled"],"fullName":"Throttle Cache markThrottled should handle empty string key","status":"passed","title":"should handle empty string key","duration":112,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","markThrottled"],"fullName":"Throttle Cache markThrottled should handle special characters in key","status":"passed","title":"should handle special characters in key","duration":72,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","clearThrottle"],"fullName":"Throttle Cache clearThrottle should clear throttle for a key","status":"passed","title":"should clear throttle for a key","duration":49,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","clearThrottle"],"fullName":"Throttle Cache clearThrottle should not throw if clearing non-existent key","status":"passed","title":"should not throw if clearing non-existent key","duration":77,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","clearThrottle"],"fullName":"Throttle Cache clearThrottle should clear one key without affecting others","status":"passed","title":"should clear one key without affecting others","duration":49,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","getThrottleCacheStats"],"fullName":"Throttle Cache getThrottleCacheStats should return cache statistics","status":"passed","title":"should return cache statistics","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","getThrottleCacheStats"],"fullName":"Throttle Cache getThrottleCacheStats should reflect correct number of cached keys","status":"passed","title":"should reflect correct number of cached keys","duration":80,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","getThrottleCacheStats"],"fullName":"Throttle Cache getThrottleCacheStats should handle empty cache","status":"passed","title":"should handle empty cache","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","getThrottleCacheStats"],"fullName":"Throttle Cache getThrottleCacheStats should increase count when marking multiple unique keys","status":"passed","title":"should increase count when marking multiple unique keys","duration":83,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","Throttle window (5 minutes)"],"fullName":"Throttle Cache Throttle window (5 minutes) should throttle for approximately 5 minutes","status":"passed","title":"should throttle for approximately 5 minutes","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","Throttle window (5 minutes)"],"fullName":"Throttle Cache Throttle window (5 minutes) should use seconds precision (not milliseconds)","status":"passed","title":"should use seconds precision (not milliseconds)","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","Edge cases"],"fullName":"Throttle Cache Edge cases should handle very long keys","status":"passed","title":"should handle very long keys","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","Edge cases"],"fullName":"Throttle Cache Edge cases should handle unicode keys","status":"passed","title":"should handle unicode keys","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["Throttle Cache","Edge cases"],"fullName":"Throttle Cache Edge cases should handle concurrent marks and clears","status":"passed","title":"should handle concurrent marks and clears","duration":41,"failureMessages":[],"meta":{}}],"startTime":1767264405704,"endTime":1767264407552,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/throttle-cache.spec.ts"},{"assertionResults":[{"ancestorTitles":["User Preferences API","updateUserPreferences"],"fullName":"User Preferences API updateUserPreferences should update news favorite symbols","status":"passed","title":"should update news favorite symbols","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Preferences API","updateUserPreferences"],"fullName":"User Preferences API updateUserPreferences should create settings if they don't exist","status":"passed","title":"should create settings if they don't exist","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Preferences API","updateUserPreferences"],"fullName":"User Preferences API updateUserPreferences should validate symbols array","status":"passed","title":"should validate symbols array","duration":56,"failureMessages":[],"meta":{}}],"startTime":1767264407339,"endTime":1767264407472,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/user-preferences.spec.ts"},{"assertionResults":[{"ancestorTitles":["Users API","getAllUsers"],"fullName":"Users API getAllUsers should return all users with activity status for admin","status":"passed","title":"should return all users with activity status for admin","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getAllUsers"],"fullName":"Users API getAllUsers should deny non-admin access","status":"passed","title":"should deny non-admin access","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getAllUsers"],"fullName":"Users API getAllUsers should return empty array when no users exist","status":"passed","title":"should return empty array when no users exist","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getAllUsers"],"fullName":"Users API getAllUsers should return users with no activity","status":"passed","title":"should return users with no activity","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserByUsername"],"fullName":"Users API getUserByUsername should return user details for admin","status":"passed","title":"should return user details for admin","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserByUsername"],"fullName":"Users API getUserByUsername should return 404 if user not found","status":"passed","title":"should return 404 if user not found","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserByUsername"],"fullName":"Users API getUserByUsername should deny non-admin access","status":"passed","title":"should deny non-admin access","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserDevices"],"fullName":"Users API getUserDevices should return devices for a user","status":"passed","title":"should return devices for a user","duration":13,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserDevices"],"fullName":"Users API getUserDevices should return 404 if user not found","status":"passed","title":"should return 404 if user not found","duration":12,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserAlerts"],"fullName":"Users API getUserAlerts should return alerts for a user","status":"passed","title":"should return alerts for a user","duration":12,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserAlerts"],"fullName":"Users API getUserAlerts should return 404 if user not found","status":"passed","title":"should return 404 if user not found","duration":9,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserFavoriteStocks"],"fullName":"Users API getUserFavoriteStocks should return favorite stocks for a user","status":"passed","title":"should return favorite stocks for a user","duration":8,"failureMessages":[],"meta":{}},{"ancestorTitles":["Users API","getUserFavoriteStocks"],"fullName":"Users API getUserFavoriteStocks should return 404 if user not found","status":"passed","title":"should return 404 if user not found","duration":9,"failureMessages":[],"meta":{}}],"startTime":1767264407928,"endTime":1767264408285,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/api/users.spec.ts"},{"assertionResults":[{"ancestorTitles":["JWT Utilities","generateAccessToken"],"fullName":"JWT Utilities generateAccessToken should generate a valid access token","status":"passed","title":"should generate a valid access token","duration":118,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","generateAccessToken"],"fullName":"JWT Utilities generateAccessToken should set custom expiration","status":"passed","title":"should set custom expiration","duration":105,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","generateRefreshToken"],"fullName":"JWT Utilities generateRefreshToken should generate a valid refresh token","status":"passed","title":"should generate a valid refresh token","duration":87,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","verifyToken"],"fullName":"JWT Utilities verifyToken should return payload for valid access token","status":"passed","title":"should return payload for valid access token","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","verifyToken"],"fullName":"JWT Utilities verifyToken should return payload for valid refresh token","status":"passed","title":"should return payload for valid refresh token","duration":101,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","verifyToken"],"fullName":"JWT Utilities verifyToken should return null for invalid signature","status":"passed","title":"should return null for invalid signature","duration":77,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","verifyToken"],"fullName":"JWT Utilities verifyToken should return null for malformed token","status":"passed","title":"should return null for malformed token","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","verifyToken"],"fullName":"JWT Utilities verifyToken should return null if token payload is missing required fields","status":"passed","title":"should return null if token payload is missing required fields","duration":85,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","verifyToken"],"fullName":"JWT Utilities verifyToken should return null if token type is invalid","status":"passed","title":"should return null if token type is invalid","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","extractUsernameFromToken"],"fullName":"JWT Utilities extractUsernameFromToken should extract username from valid token string","status":"passed","title":"should extract username from valid token string","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","extractUsernameFromToken"],"fullName":"JWT Utilities extractUsernameFromToken should return null for malformed token","status":"passed","title":"should return null for malformed token","duration":68,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","extractUsernameFromToken"],"fullName":"JWT Utilities extractUsernameFromToken should return null if token cannot be decoded","status":"passed","title":"should return null if token cannot be decoded","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Utilities","extractUserIdFromToken"],"fullName":"JWT Utilities extractUserIdFromToken should extract username (alias)","status":"passed","title":"should extract username (alias)","duration":23,"failureMessages":[],"meta":{}}],"startTime":1767264406332,"endTime":1767264407494,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/auth/jwt.spec.ts"},{"assertionResults":[{"ancestorTitles":["Auth Middleware","authenticateRequest"],"fullName":"Auth Middleware authenticateRequest should authenticate with valid Authorization header","status":"passed","title":"should authenticate with valid Authorization header","duration":110,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequest"],"fullName":"Auth Middleware authenticateRequest should authenticate with valid access token cookie","status":"passed","title":"should authenticate with valid access token cookie","duration":112,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequest"],"fullName":"Auth Middleware authenticateRequest should fallback to refresh token in header if access token fails and refresh secret provided","status":"passed","title":"should fallback to refresh token in header if access token fails and refresh secret provided","duration":78,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequest"],"fullName":"Auth Middleware authenticateRequest should fallback to refresh token cookie if access token cookie missing","status":"passed","title":"should fallback to refresh token cookie if access token cookie missing","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequest"],"fullName":"Auth Middleware authenticateRequest should return null if no tokens provided","status":"passed","title":"should return null if no tokens provided","duration":77,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequest"],"fullName":"Auth Middleware authenticateRequest should return null for invalid token","status":"passed","title":"should return null for invalid token","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","isAdmin"],"fullName":"Auth Middleware isAdmin should return true for admin username","status":"passed","title":"should return true for admin username","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","isAdmin"],"fullName":"Auth Middleware isAdmin should return false for other usernames","status":"passed","title":"should return false for other usernames","duration":65,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequestWithAdmin"],"fullName":"Auth Middleware authenticateRequestWithAdmin should return admin status true for admin user","status":"passed","title":"should return admin status true for admin user","duration":84,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","authenticateRequestWithAdmin"],"fullName":"Auth Middleware authenticateRequestWithAdmin should return admin status false for normal user","status":"passed","title":"should return admin status false for normal user","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","Cookie Helpers"],"fullName":"Auth Middleware Cookie Helpers setHttpOnlyCookie should add Set-Cookie header","status":"passed","title":"setHttpOnlyCookie should add Set-Cookie header","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Middleware","Cookie Helpers"],"fullName":"Auth Middleware Cookie Helpers clearHttpOnlyCookie should set immediate expiration","status":"passed","title":"clearHttpOnlyCookie should set immediate expiration","duration":66,"failureMessages":[],"meta":{}}],"startTime":1767264406408,"endTime":1767264407375,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/auth/middleware.spec.ts"},{"assertionResults":[{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat accepts valid usernames","status":"passed","title":"accepts valid usernames","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects too short usernames (< 3)","status":"passed","title":"rejects too short usernames (< 3)","duration":94,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects too long usernames (> 20)","status":"passed","title":"rejects too long usernames (> 20)","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects usernames starting with special char","status":"passed","title":"rejects usernames starting with special char","duration":101,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects usernames ending with special char","status":"passed","title":"rejects usernames ending with special char","duration":101,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects consecutive underscores","status":"passed","title":"rejects consecutive underscores","duration":128,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects consecutive hyphens","status":"passed","title":"rejects consecutive hyphens","duration":111,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects mixed consecutive special chars","status":"passed","title":"rejects mixed consecutive special chars","duration":125,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsernameFormat"],"fullName":"Username Validation validateUsernameFormat rejects invalid characters","status":"passed","title":"rejects invalid characters","duration":91,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","isReservedWord"],"fullName":"Username Validation isReservedWord identifies reserved words (case insensitive)","status":"passed","title":"identifies reserved words (case insensitive)","duration":84,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","isReservedWord"],"fullName":"Username Validation isReservedWord allows non-reserved words","status":"passed","title":"allows non-reserved words","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","normalizeUsername"],"fullName":"Username Validation normalizeUsername lowercases and trims","status":"passed","title":"lowercases and trims","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsername (Comprehensive)"],"fullName":"Username Validation validateUsername (Comprehensive) returns valid for good username","status":"passed","title":"returns valid for good username","duration":70,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsername (Comprehensive)"],"fullName":"Username Validation validateUsername (Comprehensive) returns error for reserved word","status":"passed","title":"returns error for reserved word","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["Username Validation","validateUsername (Comprehensive)"],"fullName":"Username Validation validateUsername (Comprehensive) returns error for invalid format","status":"passed","title":"returns error for invalid format","duration":79,"failureMessages":[],"meta":{}}],"startTime":1767264405655,"endTime":1767264407153,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/auth/username-validation.spec.ts"},{"assertionResults":[{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should skip cron if alertsKv is not configured","status":"passed","title":"should skip cron if alertsKv is not configured","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should skip cron if no active alerts found","status":"passed","title":"should skip cron if no active alerts found","duration":70,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should process alerts and send notifications","status":"passed","title":"should process alerts and send notifications","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should handle fetch price failures gracefully","status":"passed","title":"should handle fetch price failures gracefully","duration":121,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should skip alert with old Expo token","status":"passed","title":"should skip alert with old Expo token","duration":79,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should log failed FCM notifications","status":"passed","title":"should log failed FCM notifications","duration":91,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should handle FCM notification errors","status":"passed","title":"should handle FCM notification errors","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should handle multiple alerts","status":"passed","title":"should handle multiple alerts","duration":96,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should skip when no prices available","status":"passed","title":"should skip when no prices available","duration":57,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should flush pending KV writes","status":"passed","title":"should flush pending KV writes","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should send logs to Loki if configured","status":"passed","title":"should send logs to Loki if configured","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should not send logs to Loki if not configured","status":"passed","title":"should not send logs to Loki if not configured","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should handle fatal errors and re-throw","status":"passed","title":"should handle fatal errors and re-throw","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should use default KV write interval if not in config","status":"passed","title":"should use default KV write interval if not in config","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alert Cron Job","runAlertCron"],"fullName":"Alert Cron Job runAlertCron should handle array response from quote API","status":"passed","title":"should handle array response from quote API","duration":36,"failureMessages":[],"meta":{}}],"startTime":1767264407283,"endTime":1767264408121,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/cron/alerts-cron.spec.ts"},{"assertionResults":[{"ancestorTitles":["News Alert Cron Job","User Symbol Collection"],"fullName":"News Alert Cron Job User Symbol Collection should collect unique symbols from all users","status":"passed","title":"should collect unique symbols from all users","duration":134,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","User Symbol Collection"],"fullName":"News Alert Cron Job User Symbol Collection should normalize symbols to uppercase","status":"passed","title":"should normalize symbols to uppercase","duration":228,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","User Symbol Collection"],"fullName":"News Alert Cron Job User Symbol Collection should skip users with no favorite symbols","status":"passed","title":"should skip users with no favorite symbols","duration":224,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","News Fetching and Filtering"],"fullName":"News Alert Cron Job News Fetching and Filtering should fetch news for all symbols in one batch call","status":"passed","title":"should fetch news for all symbols in one batch call","duration":99,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","News Fetching and Filtering"],"fullName":"News Alert Cron Job News Fetching and Filtering should only process news published today","status":"passed","title":"should only process news published today","duration":413,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","News Fetching and Filtering"],"fullName":"News Alert Cron Job News Fetching and Filtering should handle empty news response","status":"passed","title":"should handle empty news response","duration":69,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Deduplication"],"fullName":"News Alert Cron Job Deduplication should not send duplicate notifications for the same article","status":"passed","title":"should not send duplicate notifications for the same article","duration":64,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Deduplication"],"fullName":"News Alert Cron Job Deduplication should mark articles as seen in KV after sending notification","status":"passed","title":"should mark articles as seen in KV after sending notification","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Notification Sending"],"fullName":"News Alert Cron Job Notification Sending should send notifications to all users who have the symbol in favorites","status":"passed","title":"should send notifications to all users who have the symbol in favorites","duration":163,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Notification Sending"],"fullName":"News Alert Cron Job Notification Sending should send separate notifications for different symbols","status":"passed","title":"should send separate notifications for different symbols","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Notification Sending"],"fullName":"News Alert Cron Job Notification Sending should not send notifications if user has no push token","status":"passed","title":"should not send notifications if user has no push token","duration":123,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Error Handling"],"fullName":"News Alert Cron Job Error Handling should handle API fetch errors gracefully","status":"passed","title":"should handle API fetch errors gracefully","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Error Handling"],"fullName":"News Alert Cron Job Error Handling should handle network errors gracefully","status":"passed","title":"should handle network errors gracefully","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Error Handling"],"fullName":"News Alert Cron Job Error Handling should skip users with invalid favorite symbols JSON","status":"passed","title":"should skip users with invalid favorite symbols JSON","duration":48,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Edge Cases"],"fullName":"News Alert Cron Job Edge Cases should handle no users with favorite symbols","status":"passed","title":"should handle no users with favorite symbols","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Edge Cases"],"fullName":"News Alert Cron Job Edge Cases should handle missing alertsKv gracefully","status":"passed","title":"should handle missing alertsKv gracefully","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Complete Use Case Flow"],"fullName":"News Alert Cron Job Complete Use Case Flow should handle the complete use case: 3 PM check with multiple users and symbols","status":"passed","title":"should handle the complete use case: 3 PM check with multiple users and symbols","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Alert Cron Job","Complete Use Case Flow"],"fullName":"News Alert Cron Job Complete Use Case Flow should handle 7 PM check: no duplicate notifications for same articles","status":"passed","title":"should handle 7 PM check: no duplicate notifications for same articles","duration":28,"failureMessages":[],"meta":{}}],"startTime":1767264406161,"endTime":1767264408157,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/cron/news-alert-cron.spec.ts"},{"assertionResults":[{"ancestorTitles":["OpenAPI Contract Validation","Schema Validation"],"fullName":"OpenAPI Contract Validation Schema Validation should validate get-stock response matches OpenAPI schema","status":"passed","title":"should validate get-stock response matches OpenAPI schema","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI Contract Validation","Schema Validation"],"fullName":"OpenAPI Contract Validation Schema Validation should validate get-stocks response matches OpenAPI schema","status":"passed","title":"should validate get-stocks response matches OpenAPI schema","duration":80,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI Contract Validation","Schema Validation"],"fullName":"OpenAPI Contract Validation Schema Validation should validate error responses match OpenAPI schema","status":"passed","title":"should validate error responses match OpenAPI schema","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI Contract Validation","Endpoint Coverage"],"fullName":"OpenAPI Contract Validation Endpoint Coverage should have all endpoints documented in OpenAPI spec","status":"passed","title":"should have all endpoints documented in OpenAPI spec","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI Contract Validation","Request/Response Validation"],"fullName":"OpenAPI Contract Validation Request/Response Validation should validate request parameters match OpenAPI spec","status":"passed","title":"should validate request parameters match OpenAPI spec","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI Contract Validation","Request/Response Validation"],"fullName":"OpenAPI Contract Validation Request/Response Validation should validate response structure matches OpenAPI spec","status":"passed","title":"should validate response structure matches OpenAPI spec","duration":53,"failureMessages":[],"meta":{}}],"startTime":1767264407089,"endTime":1767264407498,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/contract/openapi-validation.spec.ts"},{"assertionResults":[{"ancestorTitles":["Alerts Flow Integration","Alert Creation to Notification Flow"],"fullName":"Alerts Flow Integration Alert Creation to Notification Flow should complete flow: create alert -> evaluate -> send notification","status":"passed","title":"should complete flow: create alert -> evaluate -> send notification","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["Alerts Flow Integration","Alert State Management"],"fullName":"Alerts Flow Integration Alert State Management should maintain alert state across evaluations","status":"passed","title":"should maintain alert state across evaluations","duration":29,"failureMessages":[],"meta":{}}],"startTime":1767264406959,"endTime":1767264407103,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/integration/alerts-flow.spec.ts"},{"assertionResults":[{"ancestorTitles":["Authentication Flow Integration","Complete User Onboarding Flow"],"fullName":"Authentication Flow Integration Complete User Onboarding Flow should complete full flow: Google auth -> username check -> username set -> get user","status":"passed","title":"should complete full flow: Google auth -> username check -> username set -> get user","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication Flow Integration","Token Refresh Flow"],"fullName":"Authentication Flow Integration Token Refresh Flow should refresh token and maintain session","status":"passed","title":"should refresh token and maintain session","duration":29,"failureMessages":[],"meta":{}}],"startTime":1767264406962,"endTime":1767264407104,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/integration/auth-flow.spec.ts"},{"assertionResults":[{"ancestorTitles":["Stock Data Flow Integration","Stock Search to Details Flow"],"fullName":"Stock Data Flow Integration Stock Search to Details Flow should complete flow: search -> get stock -> get details","status":"passed","title":"should complete flow: search -> get stock -> get details","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stock Data Flow Integration","Batch Stock Retrieval Flow"],"fullName":"Stock Data Flow Integration Batch Stock Retrieval Flow should retrieve multiple stocks efficiently","status":"passed","title":"should retrieve multiple stocks efficiently","duration":14,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stock Data Flow Integration","Caching Flow"],"fullName":"Stock Data Flow Integration Caching Flow should cache stock data and serve from cache on subsequent requests","status":"passed","title":"should cache stock data and serve from cache on subsequent requests","duration":6,"failureMessages":[],"meta":{}}],"startTime":1767264408397,"endTime":1767264408471,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/integration/stock-flow.spec.ts"},{"assertionResults":[{"ancestorTitles":["LoggedD1Database","prepare"],"fullName":"LoggedD1Database prepare should wrap prepared statement","status":"passed","title":"should wrap prepared statement","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","exec"],"fullName":"LoggedD1Database exec should log successful exec operation","status":"passed","title":"should log successful exec operation","duration":105,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","exec"],"fullName":"LoggedD1Database exec should log failed exec operation","status":"passed","title":"should log failed exec operation","duration":229,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","batch"],"fullName":"LoggedD1Database batch should log successful batch operation","status":"passed","title":"should log successful batch operation","duration":111,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","batch"],"fullName":"LoggedD1Database batch should log failed batch operation","status":"passed","title":"should log failed batch operation","duration":121,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","bind"],"fullName":"LoggedD1Database LoggedD1PreparedStatement bind should chain bind calls","status":"passed","title":"should chain bind calls","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","bind"],"fullName":"LoggedD1Database LoggedD1PreparedStatement bind should support multiple bind calls","status":"passed","title":"should support multiple bind calls","duration":85,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","first"],"fullName":"LoggedD1Database LoggedD1PreparedStatement first should log successful first operation","status":"passed","title":"should log successful first operation","duration":78,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","first"],"fullName":"LoggedD1Database LoggedD1PreparedStatement first should log failed first operation","status":"passed","title":"should log failed first operation","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","all"],"fullName":"LoggedD1Database LoggedD1PreparedStatement all should log successful all operation","status":"passed","title":"should log successful all operation","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","all"],"fullName":"LoggedD1Database LoggedD1PreparedStatement all should log failed all operation","status":"passed","title":"should log failed all operation","duration":63,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","run"],"fullName":"LoggedD1Database LoggedD1PreparedStatement run should log successful run operation","status":"passed","title":"should log successful run operation","duration":66,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","run"],"fullName":"LoggedD1Database LoggedD1PreparedStatement run should log failed run operation","status":"passed","title":"should log failed run operation","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","latency measurement"],"fullName":"LoggedD1Database LoggedD1PreparedStatement latency measurement should measure latency accurately","status":"passed","title":"should measure latency accurately","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedD1Database","LoggedD1PreparedStatement","error propagation"],"fullName":"LoggedD1Database LoggedD1PreparedStatement error propagation should re-throw errors after logging","status":"passed","title":"should re-throw errors after logging","duration":32,"failureMessages":[],"meta":{}}],"startTime":1767264405806,"endTime":1767264407548,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/logging/d1-wrapper.spec.ts"},{"assertionResults":[{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should log HIT when value exists (text)","status":"passed","title":"should log HIT when value exists (text)","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should log MISS when value is null (text)","status":"passed","title":"should log MISS when value is null (text)","duration":100,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should log HIT when value exists (json)","status":"passed","title":"should log HIT when value exists (json)","duration":106,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should log MISS when value is null (json)","status":"passed","title":"should log MISS when value is null (json)","duration":136,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should handle arrayBuffer type","status":"passed","title":"should handle arrayBuffer type","duration":223,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should handle stream type","status":"passed","title":"should handle stream type","duration":107,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should log failed get operation","status":"passed","title":"should log failed get operation","duration":121,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","get"],"fullName":"LoggedKVNamespace get should measure latency","status":"passed","title":"should measure latency","duration":107,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","put"],"fullName":"LoggedKVNamespace put should log successful put operation","status":"passed","title":"should log successful put operation","duration":83,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","put"],"fullName":"LoggedKVNamespace put should log put with expiration options","status":"passed","title":"should log put with expiration options","duration":49,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","put"],"fullName":"LoggedKVNamespace put should log failed put operation","status":"passed","title":"should log failed put operation","duration":73,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","put"],"fullName":"LoggedKVNamespace put should handle ArrayBuffer value","status":"passed","title":"should handle ArrayBuffer value","duration":76,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","delete"],"fullName":"LoggedKVNamespace delete should log successful delete operation","status":"passed","title":"should log successful delete operation","duration":82,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","delete"],"fullName":"LoggedKVNamespace delete should log failed delete operation","status":"passed","title":"should log failed delete operation","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","list"],"fullName":"LoggedKVNamespace list should log successful list operation without options","status":"passed","title":"should log successful list operation without options","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","list"],"fullName":"LoggedKVNamespace list should log successful list operation with prefix","status":"passed","title":"should log successful list operation with prefix","duration":70,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","list"],"fullName":"LoggedKVNamespace list should log successful list operation with limit","status":"passed","title":"should log successful list operation with limit","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","list"],"fullName":"LoggedKVNamespace list should log successful list operation with cursor","status":"passed","title":"should log successful list operation with cursor","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","list"],"fullName":"LoggedKVNamespace list should log failed list operation","status":"passed","title":"should log failed list operation","duration":51,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","error propagation"],"fullName":"LoggedKVNamespace error propagation should re-throw errors after logging","status":"passed","title":"should re-throw errors after logging","duration":52,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","cache status detection"],"fullName":"LoggedKVNamespace cache status detection should detect HIT for non-null text value","status":"passed","title":"should detect HIT for non-null text value","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","cache status detection"],"fullName":"LoggedKVNamespace cache status detection should detect HIT for non-null json value","status":"passed","title":"should detect HIT for non-null json value","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","cache status detection"],"fullName":"LoggedKVNamespace cache status detection should detect MISS for null value","status":"passed","title":"should detect MISS for null value","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","cache status detection"],"fullName":"LoggedKVNamespace cache status detection should use N/A for put operations","status":"passed","title":"should use N/A for put operations","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","cache status detection"],"fullName":"LoggedKVNamespace cache status detection should use N/A for delete operations","status":"passed","title":"should use N/A for delete operations","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["LoggedKVNamespace","cache status detection"],"fullName":"LoggedKVNamespace cache status detection should use N/A for list operations","status":"passed","title":"should use N/A for list operations","duration":34,"failureMessages":[],"meta":{}}],"startTime":1767264405787,"endTime":1767264407869,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/logging/kv-wrapper.spec.ts"},{"assertionResults":[{"ancestorTitles":["Logger","constructor"],"fullName":"Logger constructor should initialize with context","status":"passed","title":"should initialize with context","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","constructor"],"fullName":"Logger constructor should start with empty log buffer","status":"passed","title":"should start with empty log buffer","duration":89,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","debug"],"fullName":"Logger debug should create debug log entry","status":"passed","title":"should create debug log entry","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","info"],"fullName":"Logger info should create info log entry","status":"passed","title":"should create info log entry","duration":110,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","warn"],"fullName":"Logger warn should create warn log entry","status":"passed","title":"should create warn log entry","duration":131,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","error"],"fullName":"Logger error should create error log entry with Error object","status":"passed","title":"should create error log entry with Error object","duration":116,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","error"],"fullName":"Logger error should create error log entry with string error","status":"passed","title":"should create error log entry with string error","duration":85,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","error"],"fullName":"Logger error should create error log entry without error","status":"passed","title":"should create error log entry without error","duration":83,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logApiCall"],"fullName":"Logger logApiCall should create API call log entry","status":"passed","title":"should create API call log entry","duration":78,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logApiCall"],"fullName":"Logger logApiCall should create API call log entry with partial options","status":"passed","title":"should create API call log entry with partial options","duration":51,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logDataOperation"],"fullName":"Logger logDataOperation should create D1 operation log entry","status":"passed","title":"should create D1 operation log entry","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logDataOperation"],"fullName":"Logger logDataOperation should create KV operation log entry with HIT","status":"passed","title":"should create KV operation log entry with HIT","duration":83,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logDataOperation"],"fullName":"Logger logDataOperation should create KV operation log entry with MISS","status":"passed","title":"should create KV operation log entry with MISS","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logDataOperation"],"fullName":"Logger logDataOperation should create data operation log entry with error","status":"passed","title":"should create data operation log entry with error","duration":76,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","logFCMError"],"fullName":"Logger logFCMError should create FCM error log entry","status":"passed","title":"should create FCM error log entry","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","getLogs"],"fullName":"Logger getLogs should return copy of log buffer","status":"passed","title":"should return copy of log buffer","duration":62,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","clearLogs"],"fullName":"Logger clearLogs should clear log buffer","status":"passed","title":"should clear log buffer","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","updateContext"],"fullName":"Logger updateContext should update context","status":"passed","title":"should update context","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","updateContext"],"fullName":"Logger updateContext should update multiple context fields","status":"passed","title":"should update multiple context fields","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","updateContext"],"fullName":"Logger updateContext should use updated context in new logs","status":"passed","title":"should use updated context in new logs","duration":51,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","getContext"],"fullName":"Logger getContext should return copy of context","status":"passed","title":"should return copy of context","duration":59,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","log entry structure"],"fullName":"Logger log entry structure should include all required fields","status":"passed","title":"should include all required fields","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","log entry structure"],"fullName":"Logger log entry structure should handle null userId","status":"passed","title":"should handle null userId","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["Logger","log entry structure"],"fullName":"Logger log entry structure should handle undefined userId","status":"passed","title":"should handle undefined userId","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should extract userId from push-token path","status":"passed","title":"should extract userId from push-token path","duration":48,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should extract userId from preferences path","status":"passed","title":"should extract userId from preferences path","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should extract userId from settings path","status":"passed","title":"should extract userId from settings path","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should extract userId from devices path","status":"passed","title":"should extract userId from devices path","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should return null when userId not in path","status":"passed","title":"should return null when userId not in path","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should return null for paths without userId pattern","status":"passed","title":"should return null for paths without userId pattern","duration":22,"failureMessages":[],"meta":{}},{"ancestorTitles":["extractUserId"],"fullName":"extractUserId should extract userId from path with query params","status":"passed","title":"should extract userId from path with query params","duration":26,"failureMessages":[],"meta":{}}],"startTime":1767264405638,"endTime":1767264408161,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/logging/logger.spec.ts"},{"assertionResults":[{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should ship logs successfully","status":"passed","title":"should ship logs successfully","duration":54,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should format timestamps as nanoseconds","status":"passed","title":"should format timestamps as nanoseconds","duration":98,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should handle URL with trailing slash","status":"passed","title":"should handle URL with trailing slash","duration":93,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should include Basic Auth when credentials provided","status":"passed","title":"should include Basic Auth when credentials provided","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should not include Auth when credentials not provided","status":"passed","title":"should not include Auth when credentials not provided","duration":178,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should include custom labels","status":"passed","title":"should include custom labels","duration":134,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should return early if no logs","status":"passed","title":"should return early if no logs","duration":99,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should return early if URL not configured","status":"passed","title":"should return early if URL not configured","duration":119,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should handle non-200 response","status":"passed","title":"should handle non-200 response","duration":89,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should handle network errors gracefully","status":"passed","title":"should handle network errors gracefully","duration":114,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should handle fetch text() error","status":"passed","title":"should handle fetch text() error","duration":95,"failureMessages":[],"meta":{}},{"ancestorTitles":["Loki Shipper","sendLogsToLoki"],"fullName":"Loki Shipper sendLogsToLoki should format logs correctly with all log types","status":"passed","title":"should format logs correctly with all log types","duration":102,"failureMessages":[],"meta":{}}],"startTime":1767264405625,"endTime":1767264406843,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/logging/loki-shipper.spec.ts"},{"assertionResults":[{"ancestorTitles":["Evaluate Senator Alerts"],"fullName":"Evaluate Senator Alerts should evaluate alerts for matching trades","status":"passed","title":"should evaluate alerts for matching trades","duration":53,"failureMessages":[],"meta":{}}],"startTime":1767264407698,"endTime":1767264407751,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/senate-trading/evaluate-senator-alerts.spec.ts"},{"assertionResults":[{"ancestorTitles":["Senate Trading API","fetchSenateTradingFromFmp"],"fullName":"Senate Trading API fetchSenateTradingFromFmp should fetch and parse senate trading data","status":"passed","title":"should fetch and parse senate trading data","duration":141,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading API","fetchSenateTradingFromFmp"],"fullName":"Senate Trading API fetchSenateTradingFromFmp should handle API errors gracefully","status":"passed","title":"should handle API errors gracefully","duration":136,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading API","fetchSenateTradingFromFmp"],"fullName":"Senate Trading API fetchSenateTradingFromFmp should filter by symbol when provided","status":"passed","title":"should filter by symbol when provided","duration":226,"failureMessages":[],"meta":{}}],"startTime":1767264406110,"endTime":1767264406613,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/senate-trading/senate-trading-api.spec.ts"},{"assertionResults":[{"ancestorTitles":["Senate Trading Controller"],"fullName":"Senate Trading Controller should handle GET /v1/api/senate-trading/feed","status":"passed","title":"should handle GET /v1/api/senate-trading/feed","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading Controller"],"fullName":"Senate Trading Controller should handle GET /v1/api/senate-trading/senators","status":"passed","title":"should handle GET /v1/api/senate-trading/senators","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading Controller"],"fullName":"Senate Trading Controller should handle GET /v1/api/senate-trading/senators/popular","status":"passed","title":"should handle GET /v1/api/senate-trading/senators/popular","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading Controller"],"fullName":"Senate Trading Controller should handle GET /v1/api/senate-trading/senators/autocomplete","status":"passed","title":"should handle GET /v1/api/senate-trading/senators/autocomplete","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading Controller"],"fullName":"Senate Trading Controller should return 404 for unknown routes","status":"passed","title":"should return 404 for unknown routes","duration":31,"failureMessages":[],"meta":{}}],"startTime":1767264407908,"endTime":1767264408112,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/senate-trading/senate-trading-controller.spec.ts"},{"assertionResults":[{"ancestorTitles":["Senate Trading Cron"],"fullName":"Senate Trading Cron should run cron job successfully","status":"passed","title":"should run cron job successfully","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading Cron"],"fullName":"Senate Trading Cron should handle errors gracefully","status":"passed","title":"should handle errors gracefully","duration":35,"failureMessages":[],"meta":{}}],"startTime":1767264407302,"endTime":1767264407382,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/senate-trading/senate-trading-cron.spec.ts"},{"assertionResults":[{"ancestorTitles":["Senate Trading Integration","End-to-end flow"],"fullName":"Senate Trading Integration End-to-end flow should sync trades and evaluate alerts","status":"passed","title":"should sync trades and evaluate alerts","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading Integration","End-to-end flow"],"fullName":"Senate Trading Integration End-to-end flow should trigger alerts for matching users","status":"passed","title":"should trigger alerts for matching users","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading Integration","Cron job flow"],"fullName":"Senate Trading Integration Cron job flow should complete full cron job cycle","status":"passed","title":"should complete full cron job cycle","duration":44,"failureMessages":[],"meta":{}}],"startTime":1767264407816,"endTime":1767264407952,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/senate-trading/senate-trading-integration.spec.ts"},{"assertionResults":[{"ancestorTitles":["Popular Senators API","getPopularSenators"],"fullName":"Popular Senators API getPopularSenators should return popular senators by trades","status":"passed","title":"should return popular senators by trades","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["Popular Senators API","getPopularSenators"],"fullName":"Popular Senators API getPopularSenators should return popular senators by followers","status":"passed","title":"should return popular senators by followers","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["Popular Senators API","getPopularSenators"],"fullName":"Popular Senators API getPopularSenators should validate limit parameter","status":"passed","title":"should validate limit parameter","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["Popular Senators API","getPopularSenators"],"fullName":"Popular Senators API getPopularSenators should validate type parameter","status":"passed","title":"should validate type parameter","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["Popular Senators API","searchSenatorsAutocomplete"],"fullName":"Popular Senators API searchSenatorsAutocomplete should return matching senators","status":"passed","title":"should return matching senators","duration":807,"failureMessages":[],"meta":{}},{"ancestorTitles":["Popular Senators API","searchSenatorsAutocomplete"],"fullName":"Popular Senators API searchSenatorsAutocomplete should return empty array for empty query","status":"passed","title":"should return empty array for empty query","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["Popular Senators API","searchSenatorsAutocomplete"],"fullName":"Popular Senators API searchSenatorsAutocomplete should validate limit parameter","status":"passed","title":"should validate limit parameter","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["Popular Senators API","searchSenatorsAutocomplete"],"fullName":"Popular Senators API searchSenatorsAutocomplete should handle no results gracefully","status":"passed","title":"should handle no results gracefully","duration":126,"failureMessages":[],"meta":{}}],"startTime":1767264407878,"endTime":1767264408981,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/senate-trading/senate-trading-popular-autocomplete.spec.ts"},{"assertionResults":[{"ancestorTitles":["Senate Trading Repository","upsertTrade"],"fullName":"Senate Trading Repository upsertTrade should insert a new trade when fmp_id doesn't exist","status":"passed","title":"should insert a new trade when fmp_id doesn't exist","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading Repository","upsertTrade"],"fullName":"Senate Trading Repository upsertTrade should update existing trade when fmp_id exists","status":"passed","title":"should update existing trade when fmp_id exists","duration":109,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading Repository","getTradesBySymbol"],"fullName":"Senate Trading Repository getTradesBySymbol should return trades for a symbol","status":"passed","title":"should return trades for a symbol","duration":142,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading Repository","getRecentTrades"],"fullName":"Senate Trading Repository getRecentTrades should return recent trades","status":"passed","title":"should return recent trades","duration":115,"failureMessages":[],"meta":{}},{"ancestorTitles":["Senate Trading Repository","getAllSenators"],"fullName":"Senate Trading Repository getAllSenators should return unique senator names","status":"passed","title":"should return unique senator names","duration":111,"failureMessages":[],"meta":{}}],"startTime":1767264405851,"endTime":1767264406665,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/senate-trading/senate-trading-repository.spec.ts"},{"assertionResults":[{"ancestorTitles":["User Senator Follows Repository","followSenator"],"fullName":"User Senator Follows Repository followSenator should create a follow relationship","status":"passed","title":"should create a follow relationship","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Senator Follows Repository","unfollowSenator"],"fullName":"User Senator Follows Repository unfollowSenator should remove a follow relationship","status":"passed","title":"should remove a follow relationship","duration":100,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Senator Follows Repository","getUserFollows"],"fullName":"User Senator Follows Repository getUserFollows should return user's followed senators","status":"passed","title":"should return user's followed senators","duration":130,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Senator Follows Repository","getFollowersOfSenator"],"fullName":"User Senator Follows Repository getFollowersOfSenator should return all users following a senator","status":"passed","title":"should return all users following a senator","duration":103,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Senator Follows Repository","updateFollowPreferences"],"fullName":"User Senator Follows Repository updateFollowPreferences should update follow preferences","status":"passed","title":"should update follow preferences","duration":93,"failureMessages":[],"meta":{}}],"startTime":1767264405763,"endTime":1767264406747,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/senate-trading/user-senator-follows.spec.ts"},{"assertionResults":[{"ancestorTitles":["Expo Sender","sendExpoPush"],"fullName":"Expo Sender sendExpoPush should return false for invalid token","status":"passed","title":"should return false for invalid token","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPush"],"fullName":"Expo Sender sendExpoPush should return true on successful send","status":"passed","title":"should return true on successful send","duration":93,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPush"],"fullName":"Expo Sender sendExpoPush should retry on temporary error","status":"passed","title":"should retry on temporary error","duration":237,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPush"],"fullName":"Expo Sender sendExpoPush should return false if all retries fail","status":"passed","title":"should return false if all retries fail","duration":815,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender"],"fullName":"Expo Sender should handle network exception and retry","status":"passed","title":"should handle network exception and retry","duration":244,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender"],"fullName":"Expo Sender should handle malformed JSON response and retry","status":"passed","title":"should handle malformed JSON response and retry","duration":279,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender"],"fullName":"Expo Sender should retry on 429 Too Many Requests","status":"passed","title":"should retry on 429 Too Many Requests","duration":265,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should return Detailed logs on success","status":"passed","title":"should return Detailed logs on success","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should return error info on permanent error (DeviceNotRegistered)","status":"passed","title":"should return error info on permanent error (DeviceNotRegistered)","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle \"Message Too Big\" error","status":"passed","title":"should handle \"Message Too Big\" error","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle \"Invalid Token\" error","status":"passed","title":"should handle \"Invalid Token\" error","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle \"Rate Limit\" error from body","status":"passed","title":"should handle \"Rate Limit\" error from body","duration":232,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle HTTP error response parsing","status":"passed","title":"should handle HTTP error response parsing","duration":229,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle permanent HTTP error (401/403 implicit?) actually logic only checks message for permanent","status":"passed","title":"should handle permanent HTTP error (401/403 implicit?) actually logic only checks message for permanent","duration":707,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle JSON parsing error","status":"passed","title":"should handle JSON parsing error","duration":205,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushWithLogs"],"fullName":"Expo Sender sendExpoPushWithLogs should handle missing ticket in response","status":"passed","title":"should handle missing ticket in response","duration":703,"failureMessages":[],"meta":{}},{"ancestorTitles":["Expo Sender","sendExpoPushBatch"],"fullName":"Expo Sender sendExpoPushBatch should send multiple messages and assume optimistic success counting based on mock","status":"passed","title":"should send multiple messages and assume optimistic success counting based on mock","duration":3,"failureMessages":[],"meta":{}}],"startTime":1767264405638,"endTime":1767264409943,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/notifications/expo-sender.spec.ts"},{"assertionResults":[{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should reject invalid token format","status":"passed","title":"should reject invalid token format","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should reject null token","status":"passed","title":"should reject null token","duration":81,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle missing FCM_SERVICE_ACCOUNT","status":"passed","title":"should handle missing FCM_SERVICE_ACCOUNT","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle invalid service account JSON","status":"passed","title":"should handle invalid service account JSON","duration":76,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle JWT generation failure","status":"passed","title":"should handle JWT generation failure","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle access token exchange failure","status":"passed","title":"should handle access token exchange failure","duration":60,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should send notification successfully","status":"passed","title":"should send notification successfully","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should retry on temporary errors","status":"passed","title":"should retry on temporary errors","duration":262,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should not retry on permanent errors","status":"passed","title":"should not retry on permanent errors","duration":58,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should log FCM errors","status":"passed","title":"should log FCM errors","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle \"Permission Denied\" error","status":"passed","title":"should handle \"Permission Denied\" error","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle \"Resource Exhausted\" error","status":"passed","title":"should handle \"Resource Exhausted\" error","duration":712,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should handle invalid JSON response from FCM","status":"passed","title":"should handle invalid JSON response from FCM","duration":705,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotificationWithLogs"],"fullName":"FCM Sender sendFCMNotificationWithLogs should convert data values to strings","status":"passed","title":"should convert data values to strings","duration":3,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotification"],"fullName":"FCM Sender sendFCMNotification should return true on success","status":"passed","title":"should return true on success","duration":2,"failureMessages":[],"meta":{}},{"ancestorTitles":["FCM Sender","sendFCMNotification"],"fullName":"FCM Sender sendFCMNotification should return false on failure","status":"passed","title":"should return false on failure","duration":2,"failureMessages":[],"meta":{}}],"startTime":1767264407085,"endTime":1767264409247,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/notifications/fcm-sender.spec.ts"},{"assertionResults":[{"ancestorTitles":["JWT Helper","generateGoogleJWT"],"fullName":"JWT Helper generateGoogleJWT should generate JWT with correct structure","status":"passed","title":"should generate JWT with correct structure","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","generateGoogleJWT"],"fullName":"JWT Helper generateGoogleJWT should include correct header","status":"passed","title":"should include correct header","duration":109,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","generateGoogleJWT"],"fullName":"JWT Helper generateGoogleJWT should include correct payload","status":"passed","title":"should include correct payload","duration":100,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","generateGoogleJWT"],"fullName":"JWT Helper generateGoogleJWT should use custom scope","status":"passed","title":"should use custom scope","duration":100,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","generateGoogleJWT"],"fullName":"JWT Helper generateGoogleJWT should handle PEM key parsing","status":"passed","title":"should handle PEM key parsing","duration":131,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","generateGoogleJWT"],"fullName":"JWT Helper generateGoogleJWT should sign with RSASSA-PKCS1-v1_5","status":"passed","title":"should sign with RSASSA-PKCS1-v1_5","duration":114,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","getGoogleAccessTokenFromJWT"],"fullName":"JWT Helper getGoogleAccessTokenFromJWT should exchange JWT for access token","status":"passed","title":"should exchange JWT for access token","duration":52,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","getGoogleAccessTokenFromJWT"],"fullName":"JWT Helper getGoogleAccessTokenFromJWT should handle non-ok response","status":"passed","title":"should handle non-ok response","duration":122,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","getGoogleAccessTokenFromJWT"],"fullName":"JWT Helper getGoogleAccessTokenFromJWT should handle missing access_token in response","status":"passed","title":"should handle missing access_token in response","duration":97,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Helper","getGoogleAccessTokenFromJWT"],"fullName":"JWT Helper getGoogleAccessTokenFromJWT should handle network errors","status":"passed","title":"should handle network errors","duration":94,"failureMessages":[],"meta":{}}],"startTime":1767264405705,"endTime":1767264406823,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/test/notifications/jwt-helper.spec.ts"},{"assertionResults":[{"ancestorTitles":["Dividend Integration Tests","Real FMP API Calls"],"fullName":"Dividend Integration Tests Real FMP API Calls should fetch dividend data for KO (high dividend stock)","status":"skipped","title":"should fetch dividend data for KO (high dividend stock)","failureMessages":[],"meta":{}},{"ancestorTitles":["Dividend Integration Tests","Real FMP API Calls"],"fullName":"Dividend Integration Tests Real FMP API Calls should calculate DGR for KO","status":"skipped","title":"should calculate DGR for KO","failureMessages":[],"meta":{}},{"ancestorTitles":["Dividend Integration Tests","Real FMP API Calls"],"fullName":"Dividend Integration Tests Real FMP API Calls should calculate projection for KO","status":"skipped","title":"should calculate projection for KO","failureMessages":[],"meta":{}},{"ancestorTitles":["Dividend Integration Tests","Real FMP API Calls"],"fullName":"Dividend Integration Tests Real FMP API Calls should handle stock with no dividends (BRK.A)","status":"skipped","title":"should handle stock with no dividends (BRK.A)","failureMessages":[],"meta":{}},{"ancestorTitles":["Dividend Integration Tests","Real FMP API Calls"],"fullName":"Dividend Integration Tests Real FMP API Calls should handle stock with low dividends (AAPL)","status":"skipped","title":"should handle stock with low dividends (AAPL)","failureMessages":[],"meta":{}}],"startTime":1767264390413,"endTime":1767264390413,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/__tests__/integration/dividend.integration.test.ts"},{"assertionResults":[{"ancestorTitles":["Config","getConfig"],"fullName":"Config getConfig should return default config with newsTtlSec and prefetchCronInterval","status":"passed","title":"should return default config with newsTtlSec and prefetchCronInterval","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config","getConfig"],"fullName":"Config getConfig should merge partial marketCache updates with defaults","status":"passed","title":"should merge partial marketCache updates with defaults","duration":143,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config","getConfig"],"fullName":"Config getConfig should preserve all marketCache fields when fully specified","status":"passed","title":"should preserve all marketCache fields when fully specified","duration":131,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config","getConfig"],"fullName":"Config getConfig should handle missing marketCache in stored config","status":"passed","title":"should handle missing marketCache in stored config","duration":81,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config","updateConfig"],"fullName":"Config updateConfig should update only newsTtlSec in marketCache","status":"passed","title":"should update only newsTtlSec in marketCache","duration":48,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config","updateConfig"],"fullName":"Config updateConfig should update only prefetchCronInterval in marketCache","status":"passed","title":"should update only prefetchCronInterval in marketCache","duration":79,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config","updateConfig"],"fullName":"Config updateConfig should update all marketCache fields","status":"passed","title":"should update all marketCache fields","duration":49,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config","updateConfig"],"fullName":"Config updateConfig should merge marketCache with existing values","status":"passed","title":"should merge marketCache with existing values","duration":77,"failureMessages":[],"meta":{}},{"ancestorTitles":["Config","updateConfig"],"fullName":"Config updateConfig should work without KV (fallback mode)","status":"passed","title":"should work without KV (fallback mode)","duration":51,"failureMessages":[],"meta":{}}],"startTime":1767264406070,"endTime":1767264406955,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/api/__tests__/config.test.ts"},{"assertionResults":[{"ancestorTitles":["Market Cache Helper","getMarketDataFromKV"],"fullName":"Market Cache Helper getMarketDataFromKV should return cached data when cache is valid","status":"passed","title":"should return cached data when cache is valid","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Cache Helper","getMarketDataFromKV"],"fullName":"Market Cache Helper getMarketDataFromKV should return null when cache is expired","status":"passed","title":"should return null when cache is expired","duration":110,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Cache Helper","getMarketDataFromKV"],"fullName":"Market Cache Helper getMarketDataFromKV should return null when cache does not exist","status":"passed","title":"should return null when cache does not exist","duration":139,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Cache Helper","getMarketDataFromKV"],"fullName":"Market Cache Helper getMarketDataFromKV should return null when cache entry is invalid JSON","status":"passed","title":"should return null when cache entry is invalid JSON","duration":138,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Cache Helper","getMarketDataFromKV"],"fullName":"Market Cache Helper getMarketDataFromKV should return null when cache entry is missing required fields","status":"passed","title":"should return null when cache entry is missing required fields","duration":114,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Cache Helper","setMarketDataToKV"],"fullName":"Market Cache Helper setMarketDataToKV should store data in KV with correct TTL metadata","status":"passed","title":"should store data in KV with correct TTL metadata","duration":91,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Cache Helper","setMarketDataToKV"],"fullName":"Market Cache Helper setMarketDataToKV should handle different TTL values","status":"passed","title":"should handle different TTL values","duration":90,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Cache Helper","setMarketDataToKV"],"fullName":"Market Cache Helper setMarketDataToKV should handle empty array data","status":"passed","title":"should handle empty array data","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Cache Helper","setMarketDataToKV"],"fullName":"Market Cache Helper setMarketDataToKV should handle large arrays of data","status":"passed","title":"should handle large arrays of data","duration":94,"failureMessages":[],"meta":{}}],"startTime":1767264405960,"endTime":1767264406948,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/api/__tests__/market-cache.test.ts"},{"assertionResults":[{"ancestorTitles":["News Cache Helper","getNewsDataFromKV"],"fullName":"News Cache Helper getNewsDataFromKV should return cached data when cache is valid","status":"passed","title":"should return cached data when cache is valid","duration":56,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Cache Helper","getNewsDataFromKV"],"fullName":"News Cache Helper getNewsDataFromKV should return null when cache is expired","status":"passed","title":"should return null when cache is expired","duration":137,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Cache Helper","getNewsDataFromKV"],"fullName":"News Cache Helper getNewsDataFromKV should return null when cache does not exist","status":"passed","title":"should return null when cache does not exist","duration":125,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Cache Helper","getNewsDataFromKV"],"fullName":"News Cache Helper getNewsDataFromKV should return null when cache entry is invalid JSON","status":"passed","title":"should return null when cache entry is invalid JSON","duration":109,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Cache Helper","getNewsDataFromKV"],"fullName":"News Cache Helper getNewsDataFromKV should return null when cache entry is missing required fields","status":"passed","title":"should return null when cache entry is missing required fields","duration":171,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Cache Helper","getNewsDataFromKV"],"fullName":"News Cache Helper getNewsDataFromKV should return null when cache entry is missing news array","status":"passed","title":"should return null when cache entry is missing news array","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Cache Helper","setNewsDataToKV"],"fullName":"News Cache Helper setNewsDataToKV should store data in KV with correct TTL metadata","status":"passed","title":"should store data in KV with correct TTL metadata","duration":50,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Cache Helper","setNewsDataToKV"],"fullName":"News Cache Helper setNewsDataToKV should handle different TTL values","status":"passed","title":"should handle different TTL values","duration":71,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Cache Helper","setNewsDataToKV"],"fullName":"News Cache Helper setNewsDataToKV should handle empty array data","status":"passed","title":"should handle empty array data","duration":82,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Cache Helper","setNewsDataToKV"],"fullName":"News Cache Helper setNewsDataToKV should handle large arrays of news","status":"passed","title":"should handle large arrays of news","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["News Cache Helper","setNewsDataToKV"],"fullName":"News Cache Helper setNewsDataToKV should not throw when KV write fails","status":"passed","title":"should not throw when KV write fails","duration":75,"failureMessages":[],"meta":{}}],"startTime":1767264406091,"endTime":1767264407121,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/api/__tests__/news-cache.test.ts"},{"assertionResults":[{"ancestorTitles":["Market Prefetch Cron"],"fullName":"Market Prefetch Cron should prefetch all market data and news successfully","status":"passed","title":"should prefetch all market data and news successfully","duration":48,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Prefetch Cron"],"fullName":"Market Prefetch Cron should log configured cron interval","status":"passed","title":"should log configured cron interval","duration":76,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Prefetch Cron"],"fullName":"Market Prefetch Cron should handle individual failures gracefully","status":"passed","title":"should handle individual failures gracefully","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Prefetch Cron"],"fullName":"Market Prefetch Cron should log success/failure counts","status":"passed","title":"should log success/failure counts","duration":67,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Prefetch Cron"],"fullName":"Market Prefetch Cron should use default cron interval when not configured","status":"passed","title":"should use default cron interval when not configured","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Prefetch Cron"],"fullName":"Market Prefetch Cron should handle all failures and still complete","status":"passed","title":"should handle all failures and still complete","duration":64,"failureMessages":[],"meta":{}},{"ancestorTitles":["Market Prefetch Cron"],"fullName":"Market Prefetch Cron should work without ExecutionContext","status":"passed","title":"should work without ExecutionContext","duration":30,"failureMessages":[],"meta":{}}],"startTime":1767264407107,"endTime":1767264407467,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/cron/__tests__/market-prefetch-cron.test.ts"},{"assertionResults":[{"ancestorTitles":["AlertController","listAlerts"],"fullName":"AlertController listAlerts should return list of alerts for authenticated user","status":"passed","title":"should return list of alerts for authenticated user","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertController","listAlerts"],"fullName":"AlertController listAlerts should return empty list when no alerts found","status":"passed","title":"should return empty list when no alerts found","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertController","getAlert"],"fullName":"AlertController getAlert should return alert when found","status":"passed","title":"should return alert when found","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertController","getAlert"],"fullName":"AlertController getAlert should return 404 when alert not found","status":"passed","title":"should return 404 when alert not found","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertController","createAlert"],"fullName":"AlertController createAlert should create alert and return it","status":"passed","title":"should create alert and return it","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertController","createAlert"],"fullName":"AlertController createAlert should return 400 for invalid request data","status":"passed","title":"should return 400 for invalid request data","duration":20,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertController","updateAlert"],"fullName":"AlertController updateAlert should update alert and return it","status":"passed","title":"should update alert and return it","duration":14,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertController","updateAlert"],"fullName":"AlertController updateAlert should return 404 when alert not found","status":"passed","title":"should return 404 when alert not found","duration":13,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertController","deleteAlert"],"fullName":"AlertController deleteAlert should delete alert and return success","status":"passed","title":"should delete alert and return success","duration":12,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertController","deleteAlert"],"fullName":"AlertController deleteAlert should return 404 when alert not found","status":"passed","title":"should return 404 when alert not found","duration":9,"failureMessages":[],"meta":{}}],"startTime":1767264407964,"endTime":1767264408275,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/controllers/__tests__/alerts.controller.test.ts"},{"assertionResults":[{"ancestorTitles":["CommonStocksController","getCommonStocks"],"fullName":"CommonStocksController getCommonStocks should return common stocks list successfully (active only)","status":"passed","title":"should return common stocks list successfully (active only)","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","getCommonStocks"],"fullName":"CommonStocksController getCommonStocks should return all stocks (including inactive) when activeOnly=false","status":"passed","title":"should return all stocks (including inactive) when activeOnly=false","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","getCommonStocks"],"fullName":"CommonStocksController getCommonStocks should return 401 when not authenticated as admin","status":"passed","title":"should return 401 when not authenticated as admin","duration":53,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","getCommonStocks"],"fullName":"CommonStocksController getCommonStocks should return 500 when service throws error","status":"passed","title":"should return 500 when service throws error","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","addCommonStock"],"fullName":"CommonStocksController addCommonStock should add a new stock successfully","status":"passed","title":"should add a new stock successfully","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","addCommonStock"],"fullName":"CommonStocksController addCommonStock should return 400 for invalid request body","status":"passed","title":"should return 400 for invalid request body","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","addCommonStock"],"fullName":"CommonStocksController addCommonStock should return 401 when not authenticated as admin","status":"passed","title":"should return 401 when not authenticated as admin","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","updateCommonStock"],"fullName":"CommonStocksController updateCommonStock should update a stock successfully","status":"passed","title":"should update a stock successfully","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","updateCommonStock"],"fullName":"CommonStocksController updateCommonStock should return 404 when stock not found","status":"passed","title":"should return 404 when stock not found","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","deleteCommonStock"],"fullName":"CommonStocksController deleteCommonStock should delete (deactivate) a stock successfully","status":"passed","title":"should delete (deactivate) a stock successfully","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","deleteCommonStock"],"fullName":"CommonStocksController deleteCommonStock should return 404 when stock not found","status":"passed","title":"should return 404 when stock not found","duration":24,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","bulkAddCommonStocks"],"fullName":"CommonStocksController bulkAddCommonStocks should bulk add stocks successfully","status":"passed","title":"should bulk add stocks successfully","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","bulkAddCommonStocks"],"fullName":"CommonStocksController bulkAddCommonStocks should handle partial success with errors","status":"passed","title":"should handle partial success with errors","duration":26,"failureMessages":[],"meta":{}},{"ancestorTitles":["CommonStocksController","bulkAddCommonStocks"],"fullName":"CommonStocksController bulkAddCommonStocks should return 400 for invalid request body","status":"passed","title":"should return 400 for invalid request body","duration":26,"failureMessages":[],"meta":{}}],"startTime":1767264407583,"endTime":1767264408189,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/controllers/__tests__/common-stocks.controller.test.ts"},{"assertionResults":[{"ancestorTitles":["DividendController","getDividendData"],"fullName":"DividendController getDividendData should return dividend data successfully","status":"passed","title":"should return dividend data successfully","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendController","getDividendData"],"fullName":"DividendController getDividendData should return 400 if symbol is missing","status":"passed","title":"should return 400 if symbol is missing","duration":109,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendController","getDividendData"],"fullName":"DividendController getDividendData should return 400 if symbol is too long","status":"passed","title":"should return 400 if symbol is too long","duration":131,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendController","getDividendData"],"fullName":"DividendController getDividendData should handle service errors","status":"passed","title":"should handle service errors","duration":133,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendController","calculateProjection"],"fullName":"DividendController calculateProjection should return projection result successfully","status":"passed","title":"should return projection result successfully","duration":126,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendController","calculateProjection"],"fullName":"DividendController calculateProjection should return 400 if symbol is missing","status":"passed","title":"should return 400 if symbol is missing","duration":83,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendController","calculateProjection"],"fullName":"DividendController calculateProjection should return 400 if initialInvestment is below minimum","status":"passed","title":"should return 400 if initialInvestment is below minimum","duration":89,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendController","calculateProjection"],"fullName":"DividendController calculateProjection should return 404 if stock has no dividends","status":"passed","title":"should return 404 if stock has no dividends","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendController","calculateProjection"],"fullName":"DividendController calculateProjection should return 400 if insufficient data","status":"passed","title":"should return 400 if insufficient data","duration":93,"failureMessages":[],"meta":{}}],"startTime":1767264405952,"endTime":1767264406879,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/controllers/__tests__/dividend.controller.test.ts"},{"assertionResults":[{"ancestorTitles":["MarketController","getGainers"],"fullName":"MarketController getGainers should return paginated gainers data successfully","status":"passed","title":"should return paginated gainers data successfully","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getGainers"],"fullName":"MarketController getGainers should respect limit and offset parameters","status":"passed","title":"should respect limit and offset parameters","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getGainers"],"fullName":"MarketController getGainers should use default limit when not provided","status":"passed","title":"should use default limit when not provided","duration":58,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getGainers"],"fullName":"MarketController getGainers should return 400 for invalid limit (too low)","status":"passed","title":"should return 400 for invalid limit (too low)","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getGainers"],"fullName":"MarketController getGainers should return 400 for invalid limit (too high)","status":"passed","title":"should return 400 for invalid limit (too high)","duration":60,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getGainers"],"fullName":"MarketController getGainers should return 500 when service throws error","status":"passed","title":"should return 500 when service throws error","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getLosers"],"fullName":"MarketController getLosers should return losers data successfully","status":"passed","title":"should return losers data successfully","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getLosers"],"fullName":"MarketController getLosers should return 400 for invalid limit","status":"passed","title":"should return 400 for invalid limit","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getActives"],"fullName":"MarketController getActives should return actives data successfully","status":"passed","title":"should return actives data successfully","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getActives"],"fullName":"MarketController getActives should return 400 for invalid limit","status":"passed","title":"should return 400 for invalid limit","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getSectorsPerformance"],"fullName":"MarketController getSectorsPerformance should return sectors performance data successfully","status":"passed","title":"should return sectors performance data successfully","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getSectorsPerformance"],"fullName":"MarketController getSectorsPerformance should return 500 when service fails","status":"passed","title":"should return 500 when service fails","duration":28,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getSectorsPerformance"],"fullName":"MarketController getSectorsPerformance should handle empty sectors array","status":"passed","title":"should handle empty sectors array","duration":27,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getMarketStatus"],"fullName":"MarketController getMarketStatus should return market status data successfully","status":"passed","title":"should return market status data successfully","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getMarketStatus"],"fullName":"MarketController getMarketStatus should return 500 when service fails","status":"passed","title":"should return 500 when service fails","duration":17,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketController","getMarketStatus"],"fullName":"MarketController getMarketStatus should handle market closed status","status":"passed","title":"should handle market closed status","duration":13,"failureMessages":[],"meta":{}}],"startTime":1767264407559,"endTime":1767264408222,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/controllers/__tests__/market.controller.test.ts"},{"assertionResults":[{"ancestorTitles":["StockController","getStockDetails"],"fullName":"StockController getStockDetails should return stock details for valid symbol","status":"passed","title":"should return stock details for valid symbol","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockController","getStockDetails"],"fullName":"StockController getStockDetails should return 400 for invalid symbol format","status":"passed","title":"should return 400 for invalid symbol format","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockController","getStockDetails"],"fullName":"StockController getStockDetails should return 500 for service errors","status":"passed","title":"should return 500 for service errors","duration":55,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockController","getStockDetails"],"fullName":"StockController getStockDetails should normalize symbol to uppercase","status":"passed","title":"should normalize symbol to uppercase","duration":37,"failureMessages":[],"meta":{}}],"startTime":1767264407580,"endTime":1767264407750,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/controllers/__tests__/stocks.controller.test.ts"},{"assertionResults":[{"ancestorTitles":["UserController","getProfile"],"fullName":"UserController getProfile should return user profile when authenticated","status":"passed","title":"should return user profile when authenticated","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserController","getProfile"],"fullName":"UserController getProfile should return 401 when not authenticated","status":"passed","title":"should return 401 when not authenticated","duration":31,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserController","updateProfile"],"fullName":"UserController updateProfile should update profile with valid data","status":"passed","title":"should update profile with valid data","duration":29,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserController","updateProfile"],"fullName":"UserController updateProfile should return 400 for invalid request data","status":"passed","title":"should return 400 for invalid request data","duration":33,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserController","updateProfile"],"fullName":"UserController updateProfile should return 409 when username is already taken","status":"passed","title":"should return 409 when username is already taken","duration":35,"failureMessages":[],"meta":{}}],"startTime":1767264407961,"endTime":1767264408161,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/controllers/__tests__/users.controller.test.ts"},{"assertionResults":[{"ancestorTitles":["AlertService","listAlerts"],"fullName":"AlertService listAlerts should return list of alerts from repository","status":"passed","title":"should return list of alerts from repository","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertService","listAlerts"],"fullName":"AlertService listAlerts should support admin access with null username","status":"passed","title":"should support admin access with null username","duration":105,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertService","listActiveAlerts"],"fullName":"AlertService listActiveAlerts should return only active alerts","status":"passed","title":"should return only active alerts","duration":97,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertService","getAlert"],"fullName":"AlertService getAlert should return alert when found","status":"passed","title":"should return alert when found","duration":135,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertService","getAlert"],"fullName":"AlertService getAlert should return null when alert not found","status":"passed","title":"should return null when alert not found","duration":123,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertService","createAlert"],"fullName":"AlertService createAlert should create alert with valid data","status":"passed","title":"should create alert with valid data","duration":81,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertService","createAlert"],"fullName":"AlertService createAlert should throw error when username is empty","status":"passed","title":"should throw error when username is empty","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertService","createAlert"],"fullName":"AlertService createAlert should throw error when username is null","status":"passed","title":"should throw error when username is null","duration":95,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertService","updateAlert"],"fullName":"AlertService updateAlert should update alert when found","status":"passed","title":"should update alert when found","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertService","updateAlert"],"fullName":"AlertService updateAlert should throw error when alert not found","status":"passed","title":"should throw error when alert not found","duration":78,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertService","deleteAlert"],"fullName":"AlertService deleteAlert should delete alert when found","status":"passed","title":"should delete alert when found","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertService","deleteAlert"],"fullName":"AlertService deleteAlert should throw error when alert not found","status":"passed","title":"should throw error when alert not found","duration":45,"failureMessages":[],"meta":{}}],"startTime":1767264405715,"endTime":1767264407172,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/services/__tests__/alerts.service.test.ts"},{"assertionResults":[{"ancestorTitles":["DividendService - Edge Cases","calculateDGR - Edge Cases"],"fullName":"DividendService - Edge Cases calculateDGR - Edge Cases should handle zero DGR (no growth)","status":"passed","title":"should handle zero DGR (no growth)","duration":134,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService - Edge Cases","calculateDGR - Edge Cases"],"fullName":"DividendService - Edge Cases calculateDGR - Edge Cases should handle negative DGR (dividend cuts)","status":"passed","title":"should handle negative DGR (dividend cuts)","duration":100,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService - Edge Cases","calculateDGR - Edge Cases"],"fullName":"DividendService - Edge Cases calculateDGR - Edge Cases should handle very high DGR (>50%)","status":"passed","title":"should handle very high DGR (>50%)","duration":115,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService - Edge Cases","calculateDGR - Edge Cases"],"fullName":"DividendService - Edge Cases calculateDGR - Edge Cases should handle zero yield","status":"passed","title":"should handle zero yield","duration":121,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService - Edge Cases","calculateDGR - Edge Cases"],"fullName":"DividendService - Edge Cases calculateDGR - Edge Cases should handle very large initial investment","status":"passed","title":"should handle very large initial investment","duration":104,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService - Edge Cases","calculateDGR - Edge Cases"],"fullName":"DividendService - Edge Cases calculateDGR - Edge Cases should handle very small initial investment","status":"passed","title":"should handle very small initial investment","duration":96,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService - Edge Cases","calculateDGR - Edge Cases"],"fullName":"DividendService - Edge Cases calculateDGR - Edge Cases should handle single year of data","status":"passed","title":"should handle single year of data","duration":81,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService - Edge Cases","calculateDGR - Edge Cases"],"fullName":"DividendService - Edge Cases calculateDGR - Edge Cases should handle missing dividend data in some years","status":"passed","title":"should handle missing dividend data in some years","duration":51,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService - Edge Cases","calculateDGR - Edge Cases"],"fullName":"DividendService - Edge Cases calculateDGR - Edge Cases should handle projection with zero DGR","status":"passed","title":"should handle projection with zero DGR","duration":60,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService - Edge Cases","calculateDGR - Edge Cases"],"fullName":"DividendService - Edge Cases calculateDGR - Edge Cases should handle projection with negative DGR","status":"passed","title":"should handle projection with negative DGR","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService - Edge Cases","generateInsight - Edge Cases"],"fullName":"DividendService - Edge Cases generateInsight - Edge Cases should generate insight for very small dividend","status":"passed","title":"should generate insight for very small dividend","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService - Edge Cases","generateInsight - Edge Cases"],"fullName":"DividendService - Edge Cases generateInsight - Edge Cases should generate insight for very large dividend","status":"passed","title":"should generate insight for very large dividend","duration":57,"failureMessages":[],"meta":{}}],"startTime":1767264406161,"endTime":1767264407238,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/services/__tests__/dividend-edge-cases.test.ts"},{"assertionResults":[{"ancestorTitles":["DividendService","calculateDGR"],"fullName":"DividendService calculateDGR should calculate DGR from 5 years of data","status":"passed","title":"should calculate DGR from 5 years of data","duration":116,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService","calculateDGR"],"fullName":"DividendService calculateDGR should return null for insufficient data","status":"passed","title":"should return null for insufficient data","duration":124,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService","calculateDGR"],"fullName":"DividendService calculateDGR should handle negative DGR (dividend cuts)","status":"passed","title":"should handle negative DGR (dividend cuts)","duration":89,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService","calculateProjection"],"fullName":"DividendService calculateProjection should calculate projection with reinvestment correctly","status":"passed","title":"should calculate projection with reinvestment correctly","duration":54,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService","calculateProjection"],"fullName":"DividendService calculateProjection should generate insight message","status":"passed","title":"should generate insight message","duration":63,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendService","calculateProjection"],"fullName":"DividendService calculateProjection should throw error for invalid parameters","status":"passed","title":"should throw error for invalid parameters","duration":98,"failureMessages":[],"meta":{}}],"startTime":1767264406344,"endTime":1767264406972,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/services/__tests__/dividend.service.test.ts"},{"assertionResults":[{"ancestorTitles":["MarketService","getGainers"],"fullName":"MarketService getGainers should return cached data when KV cache hit","status":"passed","title":"should return cached data when KV cache hit","duration":46,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getGainers"],"fullName":"MarketService getGainers should fetch from FMP and cache when KV cache miss","status":"passed","title":"should fetch from FMP and cache when KV cache miss","duration":90,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getGainers"],"fullName":"MarketService getGainers should fetch from FMP and cache when KV cache expired","status":"passed","title":"should fetch from FMP and cache when KV cache expired","duration":80,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getGainers"],"fullName":"MarketService getGainers should return stale cache when FMP API fails","status":"passed","title":"should return stale cache when FMP API fails","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getGainers"],"fullName":"MarketService getGainers should return empty array when FMP fails and no stale cache available","status":"passed","title":"should return empty array when FMP fails and no stale cache available","duration":83,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getGainers"],"fullName":"MarketService getGainers should return stale cache when outside working hours and no fresh cache","status":"passed","title":"should return stale cache when outside working hours and no fresh cache","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getGainers"],"fullName":"MarketService getGainers should return empty array when outside working hours and no cache available","status":"passed","title":"should return empty array when outside working hours and no cache available","duration":86,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getLosers"],"fullName":"MarketService getLosers should return cached data when KV cache hit","status":"passed","title":"should return cached data when KV cache hit","duration":67,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getLosers"],"fullName":"MarketService getLosers should fetch from FMP and cache when KV cache miss","status":"passed","title":"should fetch from FMP and cache when KV cache miss","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getActives"],"fullName":"MarketService getActives should return cached data when KV cache hit","status":"passed","title":"should return cached data when KV cache hit","duration":25,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getActives"],"fullName":"MarketService getActives should fetch from FMP and cache when KV cache miss","status":"passed","title":"should fetch from FMP and cache when KV cache miss","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getSectorsPerformance"],"fullName":"MarketService getSectorsPerformance should return cached data when KV cache hit","status":"passed","title":"should return cached data when KV cache hit","duration":30,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getSectorsPerformance"],"fullName":"MarketService getSectorsPerformance should fetch from FMP and cache when KV cache miss","status":"passed","title":"should fetch from FMP and cache when KV cache miss","duration":36,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getSectorsPerformance"],"fullName":"MarketService getSectorsPerformance should return stale cache when FMP API fails","status":"passed","title":"should return stale cache when FMP API fails","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getMarketStatus"],"fullName":"MarketService getMarketStatus should return cached data when KV cache hit","status":"passed","title":"should return cached data when KV cache hit","duration":38,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getMarketStatus"],"fullName":"MarketService getMarketStatus should fetch from FMP and cache when KV cache miss","status":"passed","title":"should fetch from FMP and cache when KV cache miss","duration":48,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketService","getMarketStatus"],"fullName":"MarketService getMarketStatus should return stale cache when FMP API fails","status":"passed","title":"should return stale cache when FMP API fails","duration":27,"failureMessages":[],"meta":{}}],"startTime":1767264406813,"endTime":1767264407823,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/services/__tests__/market.service.test.ts"},{"assertionResults":[{"ancestorTitles":["NewsService","getGeneralNews"],"fullName":"NewsService getGeneralNews should return cached data when KV cache hit (first page)","status":"passed","title":"should return cached data when KV cache hit (first page)","duration":135,"failureMessages":[],"meta":{}},{"ancestorTitles":["NewsService","getGeneralNews"],"fullName":"NewsService getGeneralNews should fetch from repository and cache when KV cache miss (first page)","status":"passed","title":"should fetch from repository and cache when KV cache miss (first page)","duration":97,"failureMessages":[],"meta":{}},{"ancestorTitles":["NewsService","getGeneralNews"],"fullName":"NewsService getGeneralNews should use configurable TTL from AdminConfig","status":"passed","title":"should use configurable TTL from AdminConfig","duration":112,"failureMessages":[],"meta":{}},{"ancestorTitles":["NewsService","getGeneralNews"],"fullName":"NewsService getGeneralNews should return stale cache when FMP API fails","status":"passed","title":"should return stale cache when FMP API fails","duration":120,"failureMessages":[],"meta":{}},{"ancestorTitles":["NewsService","getGeneralNews"],"fullName":"NewsService getGeneralNews should not cache when fetching non-first page","status":"passed","title":"should not cache when fetching non-first page","duration":98,"failureMessages":[],"meta":{}},{"ancestorTitles":["NewsService","getGeneralNews"],"fullName":"NewsService getGeneralNews should rethrow error when both FMP and cache fail","status":"passed","title":"should rethrow error when both FMP and cache fail","duration":85,"failureMessages":[],"meta":{}},{"ancestorTitles":["NewsService","getGeneralNews"],"fullName":"NewsService getGeneralNews should work without Env (no caching)","status":"passed","title":"should work without Env (no caching)","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["NewsService","getGeneralNews"],"fullName":"NewsService getGeneralNews should handle cache write failures gracefully","status":"passed","title":"should handle cache write failures gracefully","duration":67,"failureMessages":[],"meta":{}},{"ancestorTitles":["NewsService","getGeneralNews"],"fullName":"NewsService getGeneralNews should return stale cache when outside working hours","status":"passed","title":"should return stale cache when outside working hours","duration":80,"failureMessages":[],"meta":{}},{"ancestorTitles":["NewsService","getGeneralNews"],"fullName":"NewsService getGeneralNews should return empty result when outside working hours and no cache","status":"passed","title":"should return empty result when outside working hours and no cache","duration":40,"failureMessages":[],"meta":{}}],"startTime":1767264406167,"endTime":1767264407048,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/services/__tests__/news.service.test.ts"},{"assertionResults":[{"ancestorTitles":["QuotesService","getQuote"],"fullName":"QuotesService getQuote should return quote from repository during working hours","status":"passed","title":"should return quote from repository during working hours","duration":121,"failureMessages":[],"meta":{}},{"ancestorTitles":["QuotesService","getQuote"],"fullName":"QuotesService getQuote should return stale cache when outside working hours","status":"passed","title":"should return stale cache when outside working hours","duration":124,"failureMessages":[],"meta":{}},{"ancestorTitles":["QuotesService","getQuote"],"fullName":"QuotesService getQuote should throw error when outside working hours and no cache","status":"passed","title":"should throw error when outside working hours and no cache","duration":93,"failureMessages":[],"meta":{}},{"ancestorTitles":["QuotesService","getQuote"],"fullName":"QuotesService getQuote should throw error for empty symbol","status":"passed","title":"should throw error for empty symbol","duration":85,"failureMessages":[],"meta":{}},{"ancestorTitles":["QuotesService","getQuotes"],"fullName":"QuotesService getQuotes should return quotes from repository during working hours","status":"passed","title":"should return quotes from repository during working hours","duration":35,"failureMessages":[],"meta":{}},{"ancestorTitles":["QuotesService","getQuotes"],"fullName":"QuotesService getQuotes should return stale cache when outside working hours","status":"passed","title":"should return stale cache when outside working hours","duration":49,"failureMessages":[],"meta":{}},{"ancestorTitles":["QuotesService","getQuotes"],"fullName":"QuotesService getQuotes should return empty array when outside working hours and no cache","status":"passed","title":"should return empty array when outside working hours and no cache","duration":79,"failureMessages":[],"meta":{}},{"ancestorTitles":["QuotesService","getQuotes"],"fullName":"QuotesService getQuotes should remove duplicates from symbols","status":"passed","title":"should remove duplicates from symbols","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["QuotesService","getQuotes"],"fullName":"QuotesService getQuotes should throw error for empty symbols array","status":"passed","title":"should throw error for empty symbols array","duration":86,"failureMessages":[],"meta":{}},{"ancestorTitles":["QuotesService","getQuotes"],"fullName":"QuotesService getQuotes should work without Env (no working hours check)","status":"passed","title":"should work without Env (no working hours check)","duration":31,"failureMessages":[],"meta":{}}],"startTime":1767264406375,"endTime":1767264407198,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/services/__tests__/quotes.service.test.ts"},{"assertionResults":[{"ancestorTitles":["SearchService","searchStocks"],"fullName":"SearchService searchStocks should return search results from repository during working hours","status":"passed","title":"should return search results from repository during working hours","duration":45,"failureMessages":[],"meta":{}},{"ancestorTitles":["SearchService","searchStocks"],"fullName":"SearchService searchStocks should return empty array when outside working hours","status":"passed","title":"should return empty array when outside working hours","duration":129,"failureMessages":[],"meta":{}},{"ancestorTitles":["SearchService","searchStocks"],"fullName":"SearchService searchStocks should return empty array for query shorter than 2 characters","status":"passed","title":"should return empty array for query shorter than 2 characters","duration":140,"failureMessages":[],"meta":{}},{"ancestorTitles":["SearchService","searchStocks"],"fullName":"SearchService searchStocks should return empty array for empty query","status":"passed","title":"should return empty array for empty query","duration":114,"failureMessages":[],"meta":{}},{"ancestorTitles":["SearchService","searchStocks"],"fullName":"SearchService searchStocks should trim query before searching","status":"passed","title":"should trim query before searching","duration":125,"failureMessages":[],"meta":{}},{"ancestorTitles":["SearchService","searchStocks"],"fullName":"SearchService searchStocks should work without Env (no working hours check)","status":"passed","title":"should work without Env (no working hours check)","duration":72,"failureMessages":[],"meta":{}}],"startTime":1767264406055,"endTime":1767264406682,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/services/__tests__/search.service.test.ts"},{"assertionResults":[{"ancestorTitles":["StockService","getStockDetails"],"fullName":"StockService getStockDetails should return stock details for valid symbol","status":"passed","title":"should return stock details for valid symbol","duration":224,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockService","getStockDetails"],"fullName":"StockService getStockDetails should normalize symbol to uppercase","status":"passed","title":"should normalize symbol to uppercase","duration":113,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockService","getStockDetails"],"fullName":"StockService getStockDetails should throw error for empty symbol","status":"passed","title":"should throw error for empty symbol","duration":122,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockService","getStockDetails"],"fullName":"StockService getStockDetails should throw error for symbol longer than 10 characters","status":"passed","title":"should throw error for symbol longer than 10 characters","duration":95,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockService","getStockDetails"],"fullName":"StockService getStockDetails should throw error when repository throws","status":"passed","title":"should throw error when repository throws","duration":94,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockService","getStockDetails"],"fullName":"StockService getStockDetails should return stale cache when outside working hours","status":"passed","title":"should return stale cache when outside working hours","duration":44,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockService","getStockDetails"],"fullName":"StockService getStockDetails should throw error when outside working hours and no cache","status":"passed","title":"should throw error when outside working hours and no cache","duration":94,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockService","watchStockDetails"],"fullName":"StockService watchStockDetails should return async iterable for valid symbol","status":"passed","title":"should return async iterable for valid symbol","duration":43,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockService","watchStockDetails"],"fullName":"StockService watchStockDetails should normalize symbol to uppercase","status":"passed","title":"should normalize symbol to uppercase","duration":74,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockService","watchStockDetails"],"fullName":"StockService watchStockDetails should throw error for invalid symbol","status":"passed","title":"should throw error for invalid symbol","duration":45,"failureMessages":[],"meta":{}}],"startTime":1767264406168,"endTime":1767264407172,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/services/__tests__/stocks.service.test.ts"},{"assertionResults":[{"ancestorTitles":["UserService","updateProfile"],"fullName":"UserService updateProfile should successfully update profile when username is available","status":"passed","title":"should successfully update profile when username is available","duration":41,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","updateProfile"],"fullName":"UserService updateProfile should throw error when username is already taken by another user","status":"passed","title":"should throw error when username is already taken by another user","duration":95,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","updateProfile"],"fullName":"UserService updateProfile should allow updating username to same username (no-op)","status":"passed","title":"should allow updating username to same username (no-op)","duration":102,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","updateProfile"],"fullName":"UserService updateProfile should update name without username validation","status":"passed","title":"should update name without username validation","duration":32,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","getProfile"],"fullName":"UserService getProfile should return user profile by ID","status":"passed","title":"should return user profile by ID","duration":42,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","getProfile"],"fullName":"UserService getProfile should return null when user not found","status":"passed","title":"should return null when user not found","duration":129,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","getProfileByUsername"],"fullName":"UserService getProfileByUsername should return user profile by username","status":"passed","title":"should return user profile by username","duration":118,"failureMessages":[],"meta":{}}],"startTime":1767264405617,"endTime":1767264406439,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/services/__tests__/users.service.test.ts"},{"assertionResults":[{"ancestorTitles":["working-hours","isWithinWorkingHours"],"fullName":"working-hours isWithinWorkingHours should return true when working hours feature is disabled","status":"passed","title":"should return true when working hours feature is disabled","duration":37,"failureMessages":[],"meta":{}},{"ancestorTitles":["working-hours","isWithinWorkingHours"],"fullName":"working-hours isWithinWorkingHours should return true when workingHours is undefined","status":"passed","title":"should return true when workingHours is undefined","duration":96,"failureMessages":[],"meta":{}},{"ancestorTitles":["working-hours","isWithinWorkingHours"],"fullName":"working-hours isWithinWorkingHours should return true when current hour is within working hours (normal case)","status":"passed","title":"should return true when current hour is within working hours (normal case)","duration":103,"failureMessages":[],"meta":{}},{"ancestorTitles":["working-hours","isWithinWorkingHours"],"fullName":"working-hours isWithinWorkingHours should return false when current hour is before start hour","status":"passed","title":"should return false when current hour is before start hour","duration":99,"failureMessages":[],"meta":{}},{"ancestorTitles":["working-hours","isWithinWorkingHours"],"fullName":"working-hours isWithinWorkingHours should return false when current hour is after end hour","status":"passed","title":"should return false when current hour is after end hour","duration":40,"failureMessages":[],"meta":{}},{"ancestorTitles":["working-hours","isWithinWorkingHours"],"fullName":"working-hours isWithinWorkingHours should handle overnight working hours (startHour > endHour)","status":"passed","title":"should handle overnight working hours (startHour > endHour)","duration":78,"failureMessages":[],"meta":{}},{"ancestorTitles":["working-hours","isWithinWorkingHours"],"fullName":"working-hours isWithinWorkingHours should handle overnight working hours - early morning","status":"passed","title":"should handle overnight working hours - early morning","duration":126,"failureMessages":[],"meta":{}},{"ancestorTitles":["working-hours","isWithinWorkingHours"],"fullName":"working-hours isWithinWorkingHours should handle overnight working hours - outside range","status":"passed","title":"should handle overnight working hours - outside range","duration":199,"failureMessages":[],"meta":{}},{"ancestorTitles":["working-hours","isWithinWorkingHours"],"fullName":"working-hours isWithinWorkingHours should return true for invalid hours (fallback)","status":"passed","title":"should return true for invalid hours (fallback)","duration":115,"failureMessages":[],"meta":{}},{"ancestorTitles":["working-hours","isWithinWorkingHours"],"fullName":"working-hours isWithinWorkingHours should work with different timezones","status":"passed","title":"should work with different timezones","duration":121,"failureMessages":[],"meta":{}},{"ancestorTitles":["working-hours","getWorkingHoursInfo"],"fullName":"working-hours getWorkingHoursInfo should return correct info when within working hours","status":"passed","title":"should return correct info when within working hours","duration":94,"failureMessages":[],"meta":{}},{"ancestorTitles":["working-hours","getWorkingHoursInfo"],"fullName":"working-hours getWorkingHoursInfo should return correct info when working hours disabled","status":"passed","title":"should return correct info when working hours disabled","duration":40,"failureMessages":[],"meta":{}}],"startTime":1767264405617,"endTime":1767264406862,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/utils/__tests__/working-hours.test.ts"},{"assertionResults":[{"ancestorTitles":["AlertRepository","list"],"fullName":"AlertRepository list should return all alerts for admin (username null)","status":"passed","title":"should return all alerts for admin (username null)","duration":47,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertRepository","list"],"fullName":"AlertRepository list should return alerts filtered by username","status":"passed","title":"should return alerts filtered by username","duration":95,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertRepository","create"],"fullName":"AlertRepository create should create alert and return it","status":"passed","title":"should create alert and return it","duration":104,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertRepository","create"],"fullName":"AlertRepository create should throw error when username is empty","status":"passed","title":"should throw error when username is empty","duration":102,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertRepository","update"],"fullName":"AlertRepository update should update alert and return updated version","status":"passed","title":"should update alert and return updated version","duration":132,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertRepository","delete"],"fullName":"AlertRepository delete should delete alert for user","status":"passed","title":"should delete alert for user","duration":53,"failureMessages":[],"meta":{}},{"ancestorTitles":["AlertRepository","delete"],"fullName":"AlertRepository delete should delete alert for admin (username null)","status":"passed","title":"should delete alert for admin (username null)","duration":98,"failureMessages":[],"meta":{}}],"startTime":1767264405639,"endTime":1767264406682,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/repositories/__tests__/d1/AlertRepository.test.ts"},{"assertionResults":[{"ancestorTitles":["UserRepository","findById"],"fullName":"UserRepository findById should return user when found","status":"passed","title":"should return user when found","duration":39,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserRepository","findById"],"fullName":"UserRepository findById should return null when user not found","status":"passed","title":"should return null when user not found","duration":103,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserRepository","findByUsername"],"fullName":"UserRepository findByUsername should return user when found by username","status":"passed","title":"should return user when found by username","duration":108,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserRepository","update"],"fullName":"UserRepository update should update user profile","status":"passed","title":"should update user profile","duration":139,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserRepository","update"],"fullName":"UserRepository update should handle partial updates","status":"passed","title":"should handle partial updates","duration":133,"failureMessages":[],"meta":{}}],"startTime":1767264405717,"endTime":1767264406384,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/repositories/__tests__/d1/UserRepository.test.ts"},{"assertionResults":[{"ancestorTitles":["CalendarRepository","getEarningsCalendar"],"fullName":"CalendarRepository getEarningsCalendar should fetch earnings calendar from FMP API","status":"passed","title":"should fetch earnings calendar from FMP API","duration":101,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarRepository","getEarningsCalendar"],"fullName":"CalendarRepository getEarningsCalendar should handle date range parameters","status":"passed","title":"should handle date range parameters","duration":216,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarRepository","getDividendCalendar"],"fullName":"CalendarRepository getDividendCalendar should fetch dividend calendar from FMP API","status":"passed","title":"should fetch dividend calendar from FMP API","duration":220,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarRepository","getIPOCalendar"],"fullName":"CalendarRepository getIPOCalendar should fetch IPO calendar from FMP API","status":"passed","title":"should fetch IPO calendar from FMP API","duration":191,"failureMessages":[],"meta":{}},{"ancestorTitles":["CalendarRepository","getStockSplitCalendar"],"fullName":"CalendarRepository getStockSplitCalendar should fetch stock split calendar from FMP API","status":"passed","title":"should fetch stock split calendar from FMP API","duration":133,"failureMessages":[],"meta":{}}],"startTime":1767264405860,"endTime":1767264407002,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/repositories/__tests__/external/CalendarRepository.test.ts"},{"assertionResults":[{"ancestorTitles":["DividendRepository","getHistoricalDividends"],"fullName":"DividendRepository getHistoricalDividends should fetch historical dividends successfully","status":"passed","title":"should fetch historical dividends successfully","duration":104,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendRepository","getHistoricalDividends"],"fullName":"DividendRepository getHistoricalDividends should handle empty dividend history","status":"passed","title":"should handle empty dividend history","duration":214,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendRepository","getHistoricalDividends"],"fullName":"DividendRepository getHistoricalDividends should handle 404 response (no data)","status":"passed","title":"should handle 404 response (no data)","duration":215,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendRepository","getHistoricalDividends"],"fullName":"DividendRepository getHistoricalDividends should handle API errors","status":"passed","title":"should handle API errors","duration":228,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendRepository","getHistoricalDividends"],"fullName":"DividendRepository getHistoricalDividends should handle rate limiting by throwing error","status":"passed","title":"should handle rate limiting by throwing error","duration":154,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendRepository","getCurrentYield"],"fullName":"DividendRepository getCurrentYield should extract yield directly from profile","status":"passed","title":"should extract yield directly from profile","duration":166,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendRepository","getCurrentYield"],"fullName":"DividendRepository getCurrentYield should calculate yield from lastDiv and price","status":"passed","title":"should calculate yield from lastDiv and price","duration":79,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendRepository","getCurrentYield"],"fullName":"DividendRepository getCurrentYield should return null if no dividend data","status":"passed","title":"should return null if no dividend data","duration":121,"failureMessages":[],"meta":{}},{"ancestorTitles":["DividendRepository","getCurrentYield"],"fullName":"DividendRepository getCurrentYield should handle 404 response","status":"passed","title":"should handle 404 response","duration":93,"failureMessages":[],"meta":{}}],"startTime":1767264405829,"endTime":1767264407306,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/repositories/__tests__/external/DividendRepository.test.ts"},{"assertionResults":[{"ancestorTitles":["MarketRepository","getGainers"],"fullName":"MarketRepository getGainers should fetch gainers from FMP dedicated endpoint","status":"passed","title":"should fetch gainers from FMP dedicated endpoint","duration":105,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getGainers"],"fullName":"MarketRepository getGainers should handle empty array when FMP returns no gainers","status":"passed","title":"should handle empty array when FMP returns no gainers","duration":2038,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getGainers"],"fullName":"MarketRepository getGainers should normalize gainers response fields correctly","status":"passed","title":"should normalize gainers response fields correctly","duration":55,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getGainers"],"fullName":"MarketRepository getGainers should handle missing optional fields","status":"passed","title":"should handle missing optional fields","duration":34,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getGainers"],"fullName":"MarketRepository getGainers should retry on rate limit (429)","status":"passed","title":"should retry on rate limit (429)","duration":1022,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getGainers"],"fullName":"MarketRepository getGainers should handle errors gracefully when quote fetching fails","status":"passed","title":"should handle errors gracefully when quote fetching fails","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getLosers"],"fullName":"MarketRepository getLosers should fetch losers from FMP dedicated endpoint","status":"passed","title":"should fetch losers from FMP dedicated endpoint","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getActives"],"fullName":"MarketRepository getActives should fetch actives from FMP dedicated endpoint","status":"passed","title":"should fetch actives from FMP dedicated endpoint","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getSectorsPerformance"],"fullName":"MarketRepository getSectorsPerformance should fetch and normalize sectors performance from FMP API","status":"passed","title":"should fetch and normalize sectors performance from FMP API","duration":6,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getSectorsPerformance"],"fullName":"MarketRepository getSectorsPerformance should handle empty array response","status":"passed","title":"should handle empty array response","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getSectorsPerformance"],"fullName":"MarketRepository getSectorsPerformance should handle alternative field names in FMP response","status":"passed","title":"should handle alternative field names in FMP response","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getSectorsPerformance"],"fullName":"MarketRepository getSectorsPerformance should handle null changesPercentage","status":"passed","title":"should handle null changesPercentage","duration":4,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getMarketStatus"],"fullName":"MarketRepository getMarketStatus should fetch market status from FMP API","status":"passed","title":"should fetch market status from FMP API","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getMarketStatus"],"fullName":"MarketRepository getMarketStatus should handle array response from FMP","status":"passed","title":"should handle array response from FMP","duration":7,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getMarketStatus"],"fullName":"MarketRepository getMarketStatus should default to false if response is missing field","status":"passed","title":"should default to false if response is missing field","duration":5,"failureMessages":[],"meta":{}},{"ancestorTitles":["MarketRepository","getMarketStatus"],"fullName":"MarketRepository getMarketStatus should handle API errors","status":"passed","title":"should handle API errors","duration":7,"failureMessages":[],"meta":{}}],"startTime":1767264405834,"endTime":1767264409163,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/repositories/__tests__/external/MarketRepository.test.ts"},{"assertionResults":[{"ancestorTitles":["StockRepository","getStockDetails"],"fullName":"StockRepository getStockDetails should return stock details from API when cache miss","status":"passed","title":"should return stock details from API when cache miss","duration":425,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockRepository","getStockDetails"],"fullName":"StockRepository getStockDetails should return cached stock details when cache hit","status":"passed","title":"should return cached stock details when cache hit","duration":84,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockRepository","getStockDetails"],"fullName":"StockRepository getStockDetails should throw error when API fails","status":"skipped","title":"should throw error when API fails","failureMessages":[],"meta":{}},{"ancestorTitles":["StockRepository","watchStockDetails"],"fullName":"StockRepository watchStockDetails should return async iterable that yields stock details","status":"passed","title":"should return async iterable that yields stock details","duration":79,"failureMessages":[],"meta":{}},{"ancestorTitles":["StockRepository","watchStockDetails"],"fullName":"StockRepository watchStockDetails should handle errors in stream gracefully","status":"passed","title":"should handle errors in stream gracefully","duration":251,"failureMessages":[],"meta":{}}],"startTime":1767264406265,"endTime":1767264407153,"status":"passed","message":"","name":"/home/sngvahmed/workspace/stockly/api/src/repositories/__tests__/external/StockRepository.test.ts"}]}